(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{7222:function(e,r,t){Promise.resolve().then(t.bind(t,6164)),Promise.resolve().then(t.bind(t,3386))},6164:function(e,r,t){"use strict";t.r(r);var n=t(7437),s=t(1865),i=t(3068),a=t(8110),l=t(4578),o=t(4901),d=t(3240),c=t(8700),u=t(5431),f=t(7832),m=t(992),x=t(3839),p=t(6172);let j=l.Ry({fullname:l.Z_(),university:l.Z_(),phone_number:l.Z_(),email:l.Z_().email()}).required();r.default=e=>{let{profileData:r}=e,{toast:t}=(0,x.pm)(),l=(0,s.cI)({resolver:(0,a.F)(j),defaultValues:{...r}}),{trigger:h,isMutating:g}=(0,i.Z)("/users/create",d.p$),onSubmit=async e=>{(null==r?void 0:r.id)||t({variant:"destructive",title:"ERROR",description:"Please try again later"});try{await h({userId:(null==r?void 0:r.id)||"",dataId:(null==r?void 0:r.data_id)||"",data:e}),t({title:"SUCCESS",description:"Your data is successfully changed"})}catch(e){e instanceof p.Ug?t({variant:"destructive",title:"ERROR",description:JSON.stringify(e.response,null,2)}):t({variant:"destructive",title:"ERROR",description:"Please try again later"})}};return(0,n.jsxs)(u.Zb,{className:(0,m.cn)("w-full h-fit md:max-w-2xl"),children:[(0,n.jsx)(u.Ol,{children:(0,n.jsx)(u.ll,{children:"Profile"})}),(0,n.jsx)(u.aY,{className:"space-y-2",children:(0,n.jsx)(o.l0,{...l,children:(0,n.jsxs)("form",{className:"space-y-2",id:"register-form",onSubmit:l.handleSubmit(onSubmit),children:[(0,n.jsx)(o.Wi,{control:l.control,name:"email",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.xJ,{children:[(0,n.jsx)(o.lX,{children:"Alamat Email"}),(0,n.jsx)(o.NI,{children:(0,n.jsx)(f.I,{type:"email",...r})}),(0,n.jsx)(o.zG,{})]})}}),(0,n.jsx)(o.Wi,{control:l.control,name:"fullname",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.xJ,{children:[(0,n.jsx)(o.lX,{children:"Nama Lengkap"}),(0,n.jsx)(o.NI,{children:(0,n.jsx)(f.I,{...r})}),(0,n.jsx)(o.zG,{})]})}}),(0,n.jsx)(o.Wi,{control:l.control,name:"university",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.xJ,{children:[(0,n.jsx)(o.lX,{children:"Universitas"}),(0,n.jsx)(o.NI,{children:(0,n.jsx)(f.I,{...r})}),(0,n.jsx)(o.zG,{})]})}}),(0,n.jsx)(o.Wi,{control:l.control,name:"phone_number",render:e=>{let{field:r}=e;return(0,n.jsxs)(o.xJ,{children:[(0,n.jsx)(o.lX,{children:"Nomor HP"}),(0,n.jsx)(o.NI,{children:(0,n.jsx)(f.I,{...r})}),(0,n.jsx)(o.zG,{})]})}})]})})}),(0,n.jsx)(u.eW,{children:(0,n.jsx)(c.Button,{type:"submit",form:"register-form",children:"Change Data"})})]})}},5431:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return a},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var n=t(7437),s=t(2265),i=t(992);let a=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});a.displayName="Card";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},4901:function(e,r,t){"use strict";t.d(r,{NI:function(){return x},Wi:function(){return FormField},l0:function(){return d},lX:function(){return m},xJ:function(){return f},zG:function(){return j}});var n=t(7437),s=t(2265),i=t(7256),a=t(1865),l=t(992),o=t(7177);let d=a.RV,c=s.createContext({}),FormField=e=>{let{...r}=e;return(0,n.jsx)(c.Provider,{value:{name:r.name},children:(0,n.jsx)(a.Qr,{...r})})},useFormField=()=>{let e=s.useContext(c),r=s.useContext(u),{getFieldState:t,formState:n}=(0,a.Gc)(),i=t(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...i}},u=s.createContext({}),f=s.forwardRef((e,r)=>{let{className:t,...i}=e,a=s.useId();return(0,n.jsx)(u.Provider,{value:{id:a},children:(0,n.jsx)("div",{ref:r,className:(0,l.cn)("space-y-2",t),...i})})});f.displayName="FormItem";let m=s.forwardRef((e,r)=>{let{className:t,...s}=e,{error:i,formItemId:a}=useFormField();return(0,n.jsx)(o._,{ref:r,className:(0,l.cn)(i&&"text-destructive",t),htmlFor:a,...s})});m.displayName="FormLabel";let x=s.forwardRef((e,r)=>{let{...t}=e,{error:s,formItemId:a,formDescriptionId:l,formMessageId:o}=useFormField();return(0,n.jsx)(i.g7,{ref:r,id:a,"aria-describedby":s?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!s,...t})});x.displayName="FormControl";let p=s.forwardRef((e,r)=>{let{className:t,...s}=e,{formDescriptionId:i}=useFormField();return(0,n.jsx)("p",{ref:r,id:i,className:(0,l.cn)("text-sm text-muted-foreground",t),...s})});p.displayName="FormDescription";let j=s.forwardRef((e,r)=>{let{className:t,children:s,...i}=e,{error:a,formMessageId:o}=useFormField(),d=a?String(null==a?void 0:a.message):s;return d?(0,n.jsx)("p",{ref:r,id:o,className:(0,l.cn)("text-sm font-medium text-destructive",t),...i,children:d}):null});j.displayName="FormMessage"},7832:function(e,r,t){"use strict";t.d(r,{I:function(){return a}});var n=t(7437),s=t(2265),i=t(992);let a=s.forwardRef((e,r)=>{let{className:t,type:s,...a}=e;return(0,n.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a})});a.displayName="Input"},7177:function(e,r,t){"use strict";t.d(r,{_:function(){return d}});var n=t(7437),s=t(2265),i=t(6743),a=t(6061),l=t(992);let o=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(i.f,{ref:r,className:(0,l.cn)(o(),t),...s})});d.displayName=i.f.displayName},3240:function(e,r,t){"use strict";t.d(r,{Hi:function(){return PostRegisterUser},am:function(){return PostLoginUser},p$:function(){return UpdateRegisteredUser}});var n=t(6212);let PostRegisterUser=async(e,r)=>{let{arg:t}=r,s=await n.Z.collection("users").create(t.data);return await n.Z.collection("users_data").create({...t.data,users:s.id})},UpdateRegisteredUser=async(e,r)=>{let{arg:t}=r;return await n.Z.collection("users").update(t.userId,t.data),await n.Z.collection("users_data").update(t.dataId,t.data)},PostLoginUser=async(e,r)=>{let{arg:t}=r;return await n.Z.collection("users").authWithPassword(t.email,t.password)}}},function(e){e.O(0,[826,804,446,699,386,971,864,744],function(){return e(e.s=7222)}),_N_E=e.O()}]);