(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[543],{5522:function(i,o,s){"use strict";let f=s(8187);i.exports=f},8187:function(i,o,s){"use strict";var f=s(6224),g=s(7273),_=s(2104),b=s(1333);function z(i){let o=new URLSearchParams;o.append("code",i);for(let i=1;i<arguments.length;i++)o.append("v",arguments[i]);throw Error(`Minified Lexical error #${i}; visit https://lexical.dev/docs/error?${o} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let T="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function B(i){let o=b.$getSelection();if(null==o)throw Error("Expected valid LexicalSelection");return b.$isRangeSelection(o)&&o.isCollapsed()||0===o.getNodes().length?"":f.$generateHtmlFromNodes(i,o)}function C(i){let o=b.$getSelection();if(null==o)throw Error("Expected valid LexicalSelection");return b.$isRangeSelection(o)&&o.isCollapsed()||0===o.getNodes().length?null:JSON.stringify(D(i,o))}function E(i,o,s){(b.DEPRECATED_$isGridSelection(s)||null!==_.$findMatchingParent(s.anchor.getNode(),i=>b.DEPRECATED_$isGridCellNode(i))&&null!==_.$findMatchingParent(s.focus.getNode(),i=>b.DEPRECATED_$isGridCellNode(i)))&&1===o.length&&b.DEPRECATED_$isGridNode(o[0])?function(i,o,s,f){let g,T;1===i.length&&b.DEPRECATED_$isGridNode(i[0])||z(42);var S=i[0];i=S.getChildren(),s=S.getFirstChildOrThrow().getChildrenSize();var N=S.getChildrenSize(),A=_.$findMatchingParent(o.anchor.getNode(),i=>b.DEPRECATED_$isGridCellNode(i));o=(S=A&&_.$findMatchingParent(A,i=>b.DEPRECATED_$isGridRowNode(i)))&&_.$findMatchingParent(S,i=>b.DEPRECATED_$isGridNode(i)),b.DEPRECATED_$isGridCellNode(A)&&b.DEPRECATED_$isGridRowNode(S)&&b.DEPRECATED_$isGridNode(o)||z(43);var R=S.getIndexWithinParent(),$=Math.min(o.getChildrenSize()-1,R+N-1);N=A.getIndexWithinParent(),A=Math.min(S.getChildrenSize()-1,N+s-1),s=Math.min(N,A),S=Math.min(R,$),N=Math.max(N,A),R=Math.max(R,$),$=o.getChildren(),A=0;for(let o=S;o<=R;o++){var W=$[o];b.DEPRECATED_$isGridRowNode(W)||z(24);var V=i[A];b.DEPRECATED_$isGridRowNode(V)||z(24),W=W.getChildren(),V=V.getChildren();let f=0;for(let i=s;i<=N;i++){let _=W[i];b.DEPRECATED_$isGridCellNode(_)||z(25);let A=V[f];b.DEPRECATED_$isGridCellNode(A)||z(25),o===S&&i===s?g=_.getKey():o===R&&i===N&&(T=_.getKey());let $=_.getChildren();A.getChildren().forEach(i=>{b.$isTextNode(i)&&b.$createParagraphNode().append(i),_.append(i)}),$.forEach(i=>i.remove()),f++}A++}g&&T&&((i=b.DEPRECATED_$createGridSelection()).set(o.getKey(),g,T),b.$setSelection(i),f.dispatchCommand(b.SELECTION_CHANGE_COMMAND,void 0))}(o,s,!1,i):function(i,o){let s=[],f=null;for(let o=0;o<i.length;o++){let g=i[o],_=b.$isLineBreakNode(g);if(_||b.$isDecoratorNode(g)&&g.isInline()||b.$isElementNode(g)&&g.isInline()||b.$isTextNode(g)||g.isParentRequired()){if(null===f&&(f=g.createParentElementNode(),s.push(f),_))continue;null!==f&&f.append(g)}else s.push(g),f=null}b.$isRangeSelection(o)?o.insertNodes(s):b.DEPRECATED_$isGridSelection(o)&&(i=o.anchor.getNode(),b.DEPRECATED_$isGridCellNode(i)||z(41),i.append(...s))}(o,s)}function D(i,o){let s=[],f=b.$getRoot().getChildren();for(let _=0;_<f.length;_++)!function J(i,o,s,f=[]){let _=null==o||s.isSelected(o),T=b.$isElementNode(s)&&s.excludeFromCopy("html");var S=s;if(null!==o){var N=g.$cloneWithProperties(s);S=N=b.$isTextNode(N)&&null!=o?g.$sliceSelectedTextNodeContent(o,N):N}let A=b.$isElementNode(S)?S.getChildren():[];var R=S;N=R.exportJSON();var $=R.constructor;N.type!==$.getType()&&z(58,$.name);let W=N.children;for(b.$isElementNode(R)&&(Array.isArray(W)||z(59,$.name)),b.$isTextNode(S)&&(0<(S=S.__text).length?N.text=S:_=!1),S=0;S<A.length;S++)$=J(i,o,R=A[S],N.children),!_&&b.$isElementNode(s)&&$&&s.extractWithChild(R,o,"clone")&&(_=!0);if(_&&!T)f.push(N);else if(Array.isArray(N.children))for(i=0;i<N.children.length;i++)f.push(N.children[i]);return _}(i,o,f[_],s);return{namespace:i._config.namespace,nodes:s}}function K(i){let o=[];for(let s=0;s<i.length;s++){let f=b.$parseSerializedNode(i[s]);b.$isTextNode(f)&&g.$addNodeStyle(f),o.push(f)}return o}let S=null;function M(i,o){var s=T?(i._window||window).getSelection():null;if(!s)return!1;var f=s.anchorNode;if(s=s.focusNode,null!==f&&null!==s&&!b.isSelectionWithinEditor(i,f,s)||(o.preventDefault(),o=o.clipboardData,f=b.$getSelection(),null===o||null===f))return!1;s=B(i),i=C(i);let g="";return null!==f&&(g=f.getTextContent()),null!==s&&o.setData("text/html",s),null!==i&&o.setData("application/x-lexical-editor",i),o.setData("text/plain",g),!0}o.$generateJSONFromSelectedNodes=D,o.$generateNodesFromSerializedNodes=K,o.$getHtmlContent=B,o.$getLexicalContent=C,o.$insertDataTransferForPlainText=function(i,o){null!=(i=i.getData("text/plain")||i.getData("text/uri-list"))&&o.insertRawText(i)},o.$insertDataTransferForRichText=function(i,o,s){var g=i.getData("application/x-lexical-editor");if(g)try{let i=JSON.parse(g);if(i.namespace===s._config.namespace&&Array.isArray(i.nodes)){let f=K(i.nodes);return E(s,f,o)}}catch{}if(g=i.getData("text/html"))try{var _=(new DOMParser).parseFromString(g,"text/html"),T=f.$generateNodesFromDOM(s,_);return E(s,T,o)}catch{}if(null!=(i=i.getData("text/plain")||i.getData("text/uri-list"))){if(b.$isRangeSelection(o))for(s=(i=i.split(/(\r?\n|\t)/)).length,_=0;_<s;_++)"\n"===(T=i[_])||"\r\n"===T?o.insertParagraph():"	"===T?o.insertNodes([b.$createTabNode()]):o.insertText(T);else o.insertRawText(i)}},o.$insertGeneratedNodes=E,o.copyToClipboard=async function(i,o){if(null!==S)return!1;if(null!==o)return new Promise(s=>{i.update(()=>{s(M(i,o))})});var s=i.getRootElement();let f=null==i._window?window.document:i._window.document,g=T?(i._window||window).getSelection():null;if(null===s||null===g)return!1;let N=f.createElement("span");return N.style.cssText="position: fixed; top: -1000px;",N.append(f.createTextNode("#")),s.append(N),(s=new Range).setStart(N,0),s.setEnd(N,1),g.removeAllRanges(),g.addRange(s),new Promise(o=>{let s=i.registerCommand(b.COPY_COMMAND,f=>(_.objectKlassEquals(f,ClipboardEvent)&&(s(),null!==S&&(window.clearTimeout(S),S=null),o(M(i,f))),!0),b.COMMAND_PRIORITY_CRITICAL);S=window.setTimeout(()=>{s(),S=null,o(!1)},50),f.execCommand("copy"),N.remove()})}},2035:function(i,o,s){"use strict";let f=s(2346);i.exports=f},2346:function(i,o,s){"use strict";var f=s(1333);o.registerDragonSupport=function(i){let o=window.location.origin,r=s=>{if(s.origin===o){var g=i.getRootElement();if(document.activeElement===g&&"string"==typeof(g=s.data)){try{var _=JSON.parse(g)}catch(i){return}if(_&&"nuanria_messaging"===_.protocol&&"request"===_.type&&(_=_.payload)&&"makeChanges"===_.functionId&&(_=_.args)){let[o,g,b,T,S]=_;i.update(()=>{let i=f.$getSelection();if(f.$isRangeSelection(i)){var _=i.anchor;let N=_.getNode(),A=0,R=0;f.$isTextNode(N)&&0<=o&&0<=g&&(A=o,R=o+g,i.setTextNodeRange(N,A,N,R)),(A!==R||""!==b)&&(i.insertRawText(b),N=_.getNode()),f.$isTextNode(N)&&(A=T,R=T+S,A=A>(_=N.getTextContentSize())?_:A,R=R>_?_:R,i.setTextNodeRange(N,A,N,R)),s.stopImmediatePropagation()}})}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}},1099:function(i,o,s){"use strict";let f=s(5517);i.exports=f},5517:function(i,o,s){"use strict";var f=s(2104),g=s(1333);o.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},o.registerHistory=function(i,o,s){var _;let b,T;let S=(_=s,b=Date.now(),T=0,(o,s,f,S,N,A)=>{let R=Date.now();if(A.has("historic"))return T=0,b=R,2;let $=function(i,o,s,f,_){if(null===i||0===s.size&&0===f.size&&!_)return 0;var b=o._selection,T=i._selection;if(_)return 1;if(!(g.$isRangeSelection(b)&&g.$isRangeSelection(T)&&T.isCollapsed()&&b.isCollapsed()))return 0;_=o._nodeMap;let S=[];for(let i of s)void 0!==(s=_.get(i))&&S.push(s);for(let[i,o]of f)o&&(void 0===(f=_.get(i))||g.$isRootNode(f)||S.push(f));return 0===S.length?0:1<S.length?(o=(f=o._nodeMap).get(b.anchor.key),T=f.get(T.anchor.key),o&&T&&!i._nodeMap.has(o.__key)&&g.$isTextNode(o)&&1===o.__text.length&&1===b.anchor.offset?2:0):(o=S[0],i=i._nodeMap.get(o.__key),g.$isTextNode(i)&&g.$isTextNode(o)&&i.__mode===o.__mode)?(i=i.__text)===(o=o.__text)?0:(b=b.anchor,T=T.anchor,b.key!==T.key||"text"!==b.type)?0:(b=b.offset,T=T.offset,1==(i=o.length-i.length)&&T===b-1?2:-1===i&&T===b+1?3:-1===i&&T===b?4:0):0}(o,s,S,N,i.isComposing()),W=(()=>{var W=null===f||f.editor===i,V=A.has("history-push");if(!V&&W&&A.has("history-merge"))return 0;if(null===o)return 1;var U=s._selection;if(!(0<S.size||0<N.size))return null!==U?0:2;if(!1===V&&0!==$&&$===T&&R<b+_&&W)return 0;if(1===S.size){{V=Array.from(S)[0],W=o._nodeMap.get(V),V=s._nodeMap.get(V),U=o._selection;let i=s._selection,f=!1;g.$isRangeSelection(U)&&g.$isRangeSelection(i)&&(f="element"===U.anchor.type&&"element"===U.focus.type&&"text"===i.anchor.type&&"text"===i.focus.type),W=!!(!f&&g.$isTextNode(W)&&g.$isTextNode(V))&&W.__type===V.__type&&W.__text===V.__text&&W.__mode===V.__mode&&W.__detail===V.__detail&&W.__style===V.__style&&W.__format===V.__format&&W.__parent===V.__parent}if(W)return 0}return 1})();return b=R,T=$,W});s=({editorState:s,prevEditorState:f,dirtyLeaves:_,dirtyElements:b,tags:T})=>{let N=o.current,A=o.redoStack,R=o.undoStack,$=null===N?null:N.editorState;if(null===N||s!==$){if(1===(f=S(f,s,N,_,b,T)))0!==A.length&&(o.redoStack=[],i.dispatchCommand(g.CAN_REDO_COMMAND,!1)),null!==N&&(R.push({...N}),i.dispatchCommand(g.CAN_UNDO_COMMAND,!0));else if(2===f)return;o.current={editor:i,editorState:s}}};let N=f.mergeRegister(i.registerCommand(g.UNDO_COMMAND,()=>{let s=o.redoStack,f=o.undoStack;if(0!==f.length){let _=o.current,b=f.pop();null!==_&&(s.push(_),i.dispatchCommand(g.CAN_REDO_COMMAND,!0)),0===f.length&&i.dispatchCommand(g.CAN_UNDO_COMMAND,!1),o.current=b||null,b&&b.editor.setEditorState(b.editorState,{tag:"historic"})}return!0},g.COMMAND_PRIORITY_EDITOR),i.registerCommand(g.REDO_COMMAND,()=>{let s=o.redoStack;var f=o.undoStack;if(0!==s.length){let _=o.current;null!==_&&(f.push(_),i.dispatchCommand(g.CAN_UNDO_COMMAND,!0)),f=s.pop(),0===s.length&&i.dispatchCommand(g.CAN_REDO_COMMAND,!1),o.current=f||null,f&&f.editor.setEditorState(f.editorState,{tag:"historic"})}return!0},g.COMMAND_PRIORITY_EDITOR),i.registerCommand(g.CLEAR_EDITOR_COMMAND,()=>(o.undoStack=[],o.redoStack=[],o.current=null,!1),g.COMMAND_PRIORITY_EDITOR),i.registerCommand(g.CLEAR_HISTORY_COMMAND,()=>(o.undoStack=[],o.redoStack=[],o.current=null,i.dispatchCommand(g.CAN_REDO_COMMAND,!1),i.dispatchCommand(g.CAN_UNDO_COMMAND,!1),!0),g.COMMAND_PRIORITY_EDITOR),i.registerUpdateListener(s)),A=i.registerUpdateListener(s);return()=>{N(),A()}}},6224:function(i,o,s){"use strict";let f=s(7577);i.exports=f},7577:function(i,o,s){"use strict";var f=s(7273),g=s(2104),_=s(1333);let b=new Set(["STYLE","SCRIPT"]);o.$generateHtmlFromNodes=function(i,o){if("undefined"==typeof document||"undefined"==typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let s=document.createElement("div"),b=_.$getRoot().getChildren();for(let T=0;T<b.length;T++)!function u(i,o,s,b=null){let T=null==b||o.isSelected(b),S=_.$isElementNode(o)&&o.excludeFromCopy("html");var N=o;null!==b&&(N=f.$cloneWithProperties(o),N=_.$isTextNode(N)&&null!=b?f.$sliceSelectedTextNodeContent(b,N):N);let A=_.$isElementNode(N)?N.getChildren():[],{element:R,after:$}=N.exportDOM(i);if(!R)return!1;let W=document.createDocumentFragment();for(let s=0;s<A.length;s++){let f=A[s],g=u(i,f,W,b);!T&&_.$isElementNode(o)&&g&&o.extractWithChild(f,b,"html")&&(T=!0)}return T&&!S?(g.isHTMLElement(R)&&R.append(W),s.append(R),$&&(i=$.call(N,R))&&R.replaceWith(i)):s.append(W),T}(i,b[T],s,o);return s.innerHTML},o.$generateNodesFromDOM=function(i,o){o=o.body?o.body.childNodes:[];let s=[];for(let g=0;g<o.length;g++){var f=o[g];b.has(f.nodeName)||null!==(f=function w(i,o,s=new Map,f){let g=[];if(b.has(i.nodeName))return g;let T=null;var S,{nodeName:N}=i,A=o._htmlConversions.get(N.toLowerCase());if(N=null,void 0!==A)for(S of A)null!==(A=S(i))&&(null===N||N.priority<A.priority)&&(N=A);if(N=(S=null!==N?N.conversion:null)?S(i):null,S=null,null!==N){if(S=N.after,null!==(T=Array.isArray(A=N.node)?A[A.length-1]:A)){for(var[,R]of s)if(!(T=R(T,f)))break;T&&g.push(...Array.isArray(A)?A:[T])}null!=N.forChild&&s.set(i.nodeName,N.forChild)}for(R=0,i=i.childNodes,f=[];R<i.length;R++)f.push(...w(i[R],o,new Map(s),T));return null!=S&&(f=S(f)),null==T?g=g.concat(f):_.$isElementNode(T)&&T.append(...f),g}(f,i))&&(s=s.concat(f))}return s}},3848:function(i,o,s){"use strict";let f=s(2244);i.exports=f},2244:function(i,o,s){"use strict";var f=s(1333),g=s(2104);function m(i){let o=new URLSearchParams;o.append("code",i);for(let i=1;i<arguments.length;i++)o.append("v",arguments[i]);throw Error(`Minified Lexical error #${i}; visit https://lexical.dev/docs/error?${o} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function n(i){let o=1;for(i=i.getParent();null!=i;){if(p(i)){if(q(i=i.getParent())){o++,i=i.getParent();continue}m(40)}break}return o}function r(i){q(i=i.getParent())||m(40);let o=i;for(;null!==o;)q(o=o.getParent())&&(i=o);return i}function u(i){return p(i)&&q(i.getFirstChild())}function w(i){return y().append(i)}function z(i,o){return p(i)&&(0===o.length||1===o.length&&i.is(o[0])&&0===i.getChildrenSize())}function B(i,o){i.splice(i.getChildrenSize(),0,o)}function C(i,o){if(q(i))return i;let s=i.getPreviousSibling(),f=i.getNextSibling(),g=y();return(g.setFormat(i.getFormatType()),g.setIndent(i.getIndent()),B(g,i.getChildren()),q(s)&&o===s.getListType())?(s.append(g),i.remove(),q(f)&&o===f.getListType()&&(B(s,f.getChildren()),f.remove()),s):q(f)&&o===f.getListType()?(f.getFirstChildOrThrow().insertBefore(g),i.remove(),f):((o=D(o)).append(g),i.replace(o),E(o),o)}function E(i,o){if(void 0!==(i=o||i.getChildren()))for(o=0;o<i.length;o++){let _=i[o];if(p(_)){let i=_.getValue();var s=_,f=s.getParent(),g=1;for(null!=f&&(q(f)?g=f.getStart():m(44)),s=s.getPreviousSiblings(),f=0;f<s.length;f++){let i=s[f];p(i)&&!q(i.getFirstChild())&&g++}i!==g&&_.setValue(g)}}}let H=class H extends f.ElementNode{static getType(){return"listitem"}static clone(i){return new H(i.__value,i.__checked,i.__key)}constructor(i,o,s){super(s),this.__value=void 0===i?1:i,this.__checked=o}createDOM(i){let o=document.createElement("li"),s=this.getParent();return q(s)&&"check"===s.getListType()&&I(o,this,null),o.value=this.__value,J(o,i.theme,this),o}updateDOM(i,o,s){let f=this.getParent();return q(f)&&"check"===f.getListType()&&I(o,this,i),o.value=this.__value,J(o,s.theme,this),!1}static transform(){return i=>{let o=i.getParent();q(o)&&(E(o),"check"!==o.getListType()&&null!=i.getChecked()&&i.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:K,priority:0})}}static importJSON(i){let o=y();return o.setChecked(i.checked),o.setValue(i.value),o.setFormat(i.format),o.setDirection(i.direction),o}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...i){for(let o=0;o<i.length;o++){let s=i[o];if(f.$isElementNode(s)&&this.canMergeWith(s)){let i=s.getChildren();this.append(...i),s.remove()}else super.append(s)}return this}replace(i,o){if(p(i))return super.replace(i);this.setIndent(0);let s=this.getParentOrThrow();if(!q(s))return i;if(s.__first===this.getKey())s.insertBefore(i);else if(s.__last===this.getKey())s.insertAfter(i);else{let o=D(s.getListType()),f=this.getNextSibling();for(;f;){let i=f;f=f.getNextSibling(),o.append(i)}s.insertAfter(i),i.insertAfter(o)}return o&&this.getChildren().forEach(o=>{i.append(o)}),this.remove(),0===s.getChildrenSize()&&s.remove(),i}insertAfter(i,o=!0){var s=this.getParentOrThrow();q(s)||m(39);var f=this.getNextSiblings();if(p(i))return o=super.insertAfter(i,o),q(i=i.getParentOrThrow())&&E(i),o;if(q(i)){for(s=i,f=(i=i.getChildren()).length-1;0<=f;f--)s=i[f],this.insertAfter(s,o);return s}if(s.insertAfter(i,o),0!==f.length){let g=D(s.getListType());f.forEach(i=>g.append(i)),i.insertAfter(g,o)}return i}remove(i){let o=this.getPreviousSibling(),s=this.getNextSibling();super.remove(i),o&&s&&u(o)&&u(s)?(function F(i,o){var s=i.getLastChild();let f=o.getFirstChild();s&&f&&u(s)&&u(f)&&(F(s.getFirstChild(),f.getFirstChild()),f.remove()),0<(s=o.getChildren()).length&&(i.append(...s),E(i)),o.remove()}(o.getFirstChild(),s.getFirstChild()),s.remove()):s&&q(i=s.getParent())&&E(i)}insertNewAfter(i,o=!0){return i=y(null==this.__checked&&void 0),this.insertAfter(i,o),i}collapseAtStart(i){let o=f.$createParagraphNode();this.getChildren().forEach(i=>o.append(i));var s=this.getParentOrThrow(),g=s.getParentOrThrow();let _=p(g);return 1===s.getChildrenSize()?_?(s.remove(),g.select()):(s.insertBefore(o),s.remove(),s=i.anchor,i=i.focus,g=o.getKey(),"element"===s.type&&s.getNode().is(this)&&s.set(g,s.offset,"element"),"element"===i.type&&i.getNode().is(this)&&i.set(g,i.offset,"element")):(s.insertBefore(o),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(i){this.getWritable().__value=i}getChecked(){return this.getLatest().__checked}setChecked(i){this.getWritable().__checked=i}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var i=this.getParent();if(null===i)return this.getLatest().__indent;i=i.getParentOrThrow();let o=0;for(;p(i);)i=i.getParentOrThrow().getParentOrThrow(),o++;return o}setIndent(i){"number"==typeof i&&-1<i||m(117);let o=this.getIndent();for(;o!==i;)if(o<i){e:{var s=new Set;if(u(this)||s.has(this.getKey()))break e;let i=this.getParent();var f=this.getNextSibling(),g=this.getPreviousSibling();if(u(f)&&u(g)){if(q(g=g.getFirstChild())){g.append(this);var _=f.getFirstChild();q(_)&&(B(g,_=_.getChildren()),f.remove(),s.add(f.getKey())),E(g)}}else u(f)?q(f=f.getFirstChild())&&(null!==(s=f.getFirstChild())&&s.insertBefore(this),E(f)):u(g)?q(f=g.getFirstChild())&&(f.append(this),E(f)):q(i)&&(s=y(),_=D(i.getListType()),s.append(_),_.append(this),g?g.insertAfter(s):f?f.insertBefore(s):i.append(s),E(_));q(i)&&E(i)}o++}else(function(i){if(!u(i)){var o=i.getParent(),s=o?o.getParent():void 0,f=s?s.getParent():void 0;if(q(f)&&p(s)&&q(o)){var g=o?o.getFirstChild():void 0,_=o?o.getLastChild():void 0;if(i.is(g))s.insertBefore(i),o.isEmpty()&&s.remove();else if(i.is(_))s.insertAfter(i),o.isEmpty()&&s.remove();else{var b=o.getListType();g=y();let f=D(b);g.append(f),i.getPreviousSiblings().forEach(i=>f.append(i)),_=y(),b=D(b),_.append(b),B(b,i.getNextSiblings()),s.insertBefore(g),s.insertAfter(_),s.replace(i)}E(o),E(f)}}})(this),o--;return this}insertBefore(i){if(p(i)){let i=this.getParentOrThrow();q(i)&&E(i,this.getNextSiblings())}return super.insertBefore(i)}canInsertAfter(i){return p(i)}canReplaceWith(i){return p(i)}canMergeWith(i){return f.$isParagraphNode(i)||p(i)}extractWithChild(i,o){if(!f.$isRangeSelection(o))return!1;i=o.anchor.getNode();let s=o.focus.getNode();return this.isParentOf(i)&&this.isParentOf(s)&&this.getTextContent().length===o.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return D("bullet")}};function J(i,o,s){let f=[],_=[];var b=(o=o.list)?o.listitem:void 0;if(o&&o.nested)var T=o.nested.listitem;if(void 0!==b&&(b=b.split(" "),f.push(...b)),o){b=q(b=s.getParent())&&"check"===b.getListType();let i=s.getChecked();b&&!i||_.push(o.listitemUnchecked),b&&i||_.push(o.listitemChecked),b&&f.push(i?o.listitemChecked:o.listitemUnchecked)}void 0!==T&&(T=T.split(" "),s.getChildren().some(i=>q(i))?f.push(...T):_.push(...T)),0<_.length&&g.removeClassNamesFromElement(i,..._),0<f.length&&g.addClassNamesToElement(i,...f)}function I(i,o,s){q(o.getFirstChild())?(i.removeAttribute("role"),i.removeAttribute("tabIndex"),i.removeAttribute("aria-checked")):(i.setAttribute("role","checkbox"),i.setAttribute("tabIndex","-1"),s&&o.__checked===s.__checked||i.setAttribute("aria-checked",o.getChecked()?"true":"false"))}function K(i){return{node:y(i=g.isHTMLElement(i)&&"true"===i.getAttribute("aria-checked"))}}function y(i){return f.$applyNodeReplacement(new H(void 0,i))}function p(i){return i instanceof H}let L=class L extends f.ElementNode{static getType(){return"list"}static clone(i){return new L(i.__listType||_[i.__tag],i.__start,i.__key)}constructor(i,o,s){super(s),this.__listType=i=_[i]||i,this.__tag="number"===i?"ol":"ul",this.__start=o}getTag(){return this.__tag}setListType(i){let o=this.getWritable();o.__listType=i,o.__tag="number"===i?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(i){let o=document.createElement(this.__tag);return 1!==this.__start&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,O(o,i.theme,this),o}updateDOM(i,o,s){return i.__tag!==this.__tag||(O(o,s.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:P,priority:0}),ul:()=>({conversion:P,priority:0})}}static importJSON(i){let o=D(i.listType,i.start);return o.setFormat(i.format),o.setIndent(i.indent),o.setDirection(i.direction),o}exportDOM(i){return{element:i}=super.exportDOM(i),i&&g.isHTMLElement(i)&&(1!==this.__start&&i.setAttribute("start",String(this.__start)),"check"===this.__listType&&i.setAttribute("__lexicalListType","check")),{element:i}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...i){for(let s=0;s<i.length;s++){var o=i[s];if(p(o))super.append(o);else{let i=y();q(o)||f.$isElementNode(o)&&(o=f.$createTextNode(o.getTextContent())),i.append(o),super.append(i)}}return E(this),this}extractWithChild(i){return p(i)}};function O(i,o,s){let f=[],_=[];var b=o.list;if(void 0!==b){let i=b[`${s.__tag}Depth`]||[],g=(o=n(s)-1)%i.length;var T=i[g];let S=b[s.__tag],N;if(void 0!==(b=b.nested)&&b.list&&(N=b.list),void 0!==S&&f.push(S),void 0!==T)for(T=T.split(" "),f.push(...T),T=0;T<i.length;T++)T!==g&&_.push(s.__tag+T);void 0!==N&&(s=N.split(" "),1<o?f.push(...s):_.push(...s))}0<_.length&&g.removeClassNamesFromElement(i,..._),0<f.length&&g.addClassNamesToElement(i,...f)}function Q(i){let o=[];for(let f=0;f<i.length;f++){var s=i[f];p(s)?(o.push(s),1<(s=s.getChildren()).length&&s.forEach(i=>{q(i)&&o.push(w(i))})):o.push(w(s))}return o}function P(i){let o=i.nodeName.toLowerCase(),s=null;return"ol"===o?s=D("number",i.start):"ul"===o&&(s=g.isHTMLElement(i)&&"check"===i.getAttribute("__lexicallisttype")?D("check"):D("bullet")),{after:Q,node:s}}let _={ol:"number",ul:"bullet"};function D(i,o=1){return f.$applyNodeReplacement(new L(i,o))}function q(i){return i instanceof L}let b=f.createCommand("INSERT_UNORDERED_LIST_COMMAND"),T=f.createCommand("INSERT_ORDERED_LIST_COMMAND"),S=f.createCommand("INSERT_CHECK_LIST_COMMAND"),N=f.createCommand("REMOVE_LIST_COMMAND");o.$createListItemNode=y,o.$createListNode=D,o.$getListDepth=n,o.$handleListInsertParagraph=function(){var i=f.$getSelection();if(!f.$isRangeSelection(i)||!i.isCollapsed()||!p(i=i.anchor.getNode())||0!==i.getChildrenSize())return!1;var o=r(i),s=i.getParent();q(s)||m(40);let g=s.getParent(),_;if(f.$isRootOrShadowRoot(g))_=f.$createParagraphNode(),o.insertAfter(_);else{if(!p(g))return!1;_=y(),g.insertAfter(_)}if(_.select(),0<(o=i.getNextSiblings()).length){let i=D(s.getListType());f.$isParagraphNode(_)?_.insertAfter(i):((s=y()).append(i),_.insertAfter(s)),o.forEach(o=>{o.remove(),i.append(o)})}return function(i){for(;null==i.getNextSibling()&&null==i.getPreviousSibling();){let o=i.getParent();if(null==o||!p(i)&&!q(i))break;i=o}i.remove()}(i),!0},o.$isListItemNode=p,o.$isListNode=q,o.INSERT_CHECK_LIST_COMMAND=S,o.INSERT_ORDERED_LIST_COMMAND=T,o.INSERT_UNORDERED_LIST_COMMAND=b,o.ListItemNode=H,o.ListNode=L,o.REMOVE_LIST_COMMAND=N,o.insertList=function(i,o){i.update(()=>{var i=f.$getSelection();if(f.$isRangeSelection(i)||f.DEPRECATED_$isGridSelection(i)){var s=i.getNodes(),g=(i=i.anchor.getNode()).getParent();if(z(i,s))s=D(o),f.$isRootOrShadowRoot(g)?(i.replace(s),g=y(),f.$isElementNode(i)&&(g.setFormat(i.getFormatType()),g.setIndent(i.getIndent())),s.append(g)):p(i)&&(B(s,(i=i.getParentOrThrow()).getChildren()),i.replace(s));else for(i=new Set,g=0;g<s.length;g++){var _=s[g];if(f.$isElementNode(_)&&_.isEmpty()&&!i.has(_.getKey()))C(_,o);else if(f.$isLeafNode(_))for(_=_.getParent();null!=_;){let s=_.getKey();if(q(_)){if(!i.has(s)){var b=D(o);B(b,_.getChildren()),_.replace(b),E(b),i.add(s)}break}if(b=_.getParent(),f.$isRootOrShadowRoot(b)&&!i.has(s)){i.add(s),C(_,o);break}_=b}}}})},o.removeList=function(i){i.update(()=>{let i=f.$getSelection();if(f.$isRangeSelection(i)){var o=new Set,s=i.getNodes(),_=i.anchor.getNode();if(z(_,s))o.add(r(_));else for(_=0;_<s.length;_++){var b=s[_];f.$isLeafNode(b)&&null!=(b=g.$getNearestNodeOfType(b,H))&&o.add(r(b))}for(let g of o){for(let _ of(o=g,s=function t(i){let o=[];i=i.getChildren().filter(p);for(let s=0;s<i.length;s++){let f=i[s],g=f.getFirstChild();q(g)?o=o.concat(t(g)):o.push(f)}return o}(g)))B(s=f.$createParagraphNode(),_.getChildren()),o.insertAfter(s),o=s,_.__key===i.anchor.key&&i.anchor.set(s.getKey(),0,"element"),_.__key===i.focus.key&&i.focus.set(s.getKey(),0,"element"),_.remove();g.remove()}}})}},271:function(i,o,s){"use strict";let f=s(1464);i.exports=f},1464:function(i,o,s){"use strict";var f=s(2162),g=s(1333),_=s(2265);let b="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var T=b?_.useLayoutEffect:_.useEffect;let S={tag:"history-merge"};o.LexicalComposer=function({initialConfig:i,children:o}){let s=_.useMemo(()=>{let{theme:o,namespace:s,editor__DEPRECATED:_,nodes:T,onError:N,editorState:A}=i,R=f.createLexicalComposerContext(null,o),$=_||null;if(null===$){let f=g.createEditor({editable:i.editable,namespace:s,nodes:T,onError:i=>N(i,f),theme:o});!function(i,o){if(null!==o){if(void 0===o)i.update(()=>{var o=g.$getRoot();if(o.isEmpty()){let s=g.$createParagraphNode();o.append(s),o=b?document.activeElement:null,(null!==g.$getSelection()||null!==o&&o===i.getRootElement())&&s.select()}},S);else if(null!==o)switch(typeof o){case"string":let s=i.parseEditorState(o);i.setEditorState(s,S);break;case"object":i.setEditorState(o,S);break;case"function":i.update(()=>{g.$getRoot().isEmpty()&&o(i)},S)}}}(f,A),$=f}return[$,R]},[]);return T(()=>{let o=i.editable,[f]=s;f.setEditable(void 0===o||o)},[]),_.createElement(f.LexicalComposerContext.Provider,{value:s},o)}},2162:function(i,o,s){"use strict";let f=s(7889);i.exports=f},7889:function(i,o,s){"use strict";var f=s(2265);let g=f.createContext(null);o.LexicalComposerContext=g,o.createLexicalComposerContext=function(i,o){let s=null;return null!=i&&(s=i[1]),{getTheme:function(){return null!=o?o:null!=s?s.getTheme():null}}},o.useLexicalComposerContext=function(){let i=f.useContext(g);return null==i&&function(i){let o=new URLSearchParams;o.append("code",i);for(let i=1;i<arguments.length;i++)o.append("v",arguments[i]);throw Error(`Minified Lexical error #${i}; visit https://lexical.dev/docs/error?${o} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),i}},9668:function(i,o,s){"use strict";let f=s(5624);i.exports=f},5624:function(i,o,s){"use strict";var f=s(2162),g=s(2265);function n(){return(n=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s,f=arguments[o];for(s in f)Object.prototype.hasOwnProperty.call(f,s)&&(i[s]=f[s])}return i}).apply(this,arguments)}var _="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?g.useLayoutEffect:g.useEffect;o.ContentEditable=function({ariaActiveDescendant:i,ariaAutoComplete:o,ariaControls:s,ariaDescribedBy:b,ariaExpanded:T,ariaLabel:S,ariaLabelledBy:N,ariaMultiline:A,ariaOwns:R,ariaRequired:$,autoCapitalize:W,className:V,id:U,role:j="textbox",spellCheck:Y=!0,style:Z,tabIndex:X,"data-testid":et,...en}){let[er]=f.useLexicalComposerContext(),[ei,eo]=g.useState(!1),el=g.useCallback(i=>{er.setRootElement(i)},[er]);return _(()=>(eo(er.isEditable()),er.registerEditableListener(i=>{eo(i)})),[er]),g.createElement("div",n({},en,{"aria-activedescendant":ei?i:void 0,"aria-autocomplete":ei?o:"none","aria-controls":ei?s:void 0,"aria-describedby":b,"aria-expanded":ei&&"combobox"===j?!!T:void 0,"aria-label":S,"aria-labelledby":N,"aria-multiline":A,"aria-owns":ei?R:void 0,"aria-readonly":!ei||void 0,"aria-required":$,autoCapitalize:W,className:V,contentEditable:ei,"data-testid":et,id:U,ref:el,role:j,spellCheck:Y,style:Z,tabIndex:X}))}},5854:function(i,o,s){"use strict";let f=s(9187);i.exports=f},9187:function(i,o,s){"use strict";var f=s(2265);function m(i,o){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i})(i,o)}var g={error:null},_=function(i){function c(){for(var o,s=arguments.length,f=Array(s),_=0;_<s;_++)f[_]=arguments[_];return(o=i.call.apply(i,[this].concat(f))||this).state=g,o.resetErrorBoundary=function(){for(var i,s=arguments.length,f=Array(s),g=0;g<s;g++)f[g]=arguments[g];null==o.props.onReset||(i=o.props).onReset.apply(i,f),o.reset()},o}c.prototype=Object.create(i.prototype),c.prototype.constructor=c,m(c,i),c.getDerivedStateFromError=function(i){return{error:i}};var o=c.prototype;return o.reset=function(){this.setState(g)},o.componentDidCatch=function(i,o){var s,f;null==(s=(f=this.props).onError)||s.call(f,i,o)},o.componentDidUpdate=function(i,o){var s,f,g,_,b=this.props.resetKeys;null!==this.state.error&&null!==o.error&&(void 0===(s=i.resetKeys)&&(s=[]),void 0===(f=b)&&(f=[]),s.length!==f.length||s.some(function(i,o){return!Object.is(i,f[o])}))&&(null==(g=(_=this.props).onResetKeysChange)||g.call(_,i.resetKeys,b),this.reset())},o.render=function(){var i=this.state.error,o=this.props,s=o.fallbackRender,g=o.FallbackComponent;if(o=o.fallback,null!==i){if(i={error:i,resetErrorBoundary:this.resetErrorBoundary},f.isValidElement(o))return o;if("function"==typeof s)return s(i);if(g)return f.createElement(g,i);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},c}(f.Component);i.exports=function({children:i,onError:o}){return f.createElement(_,{fallback:f.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:o},i)}},5999:function(i,o,s){"use strict";let f=s(3122);i.exports=f},3122:function(i,o,s){"use strict";var f=s(2162),g=s(1099),_=s(2265);o.createEmptyHistoryState=g.createEmptyHistoryState,o.HistoryPlugin=function({externalHistoryState:i}){let[o]=f.useLexicalComposerContext();return function(i,o,s=1e3){let f=_.useMemo(()=>o||g.createEmptyHistoryState(),[o]);_.useEffect(()=>g.registerHistory(i,f,s),[s,i,f])}(o,i),null}},3451:function(i,o,s){"use strict";let f=s(5918);i.exports=f},5918:function(i,o,s){"use strict";var f=s(3848),g=s(2162),_=s(2265),b=s(2104),T=s(1333);o.ListPlugin=function(){let[i]=g.useLexicalComposerContext();return _.useEffect(()=>{if(!i.hasNodes([f.ListNode,f.ListItemNode]))throw Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[i]),_.useEffect(()=>b.mergeRegister(i.registerCommand(f.INSERT_ORDERED_LIST_COMMAND,()=>(f.insertList(i,"number"),!0),T.COMMAND_PRIORITY_LOW),i.registerCommand(f.INSERT_UNORDERED_LIST_COMMAND,()=>(f.insertList(i,"bullet"),!0),T.COMMAND_PRIORITY_LOW),i.registerCommand(f.REMOVE_LIST_COMMAND,()=>(f.removeList(i),!0),T.COMMAND_PRIORITY_LOW),i.registerCommand(T.INSERT_PARAGRAPH_COMMAND,()=>!!f.$handleListInsertParagraph(),T.COMMAND_PRIORITY_LOW)),[i]),null}},3074:function(i,o,s){"use strict";let f=s(8421);i.exports=f},8421:function(i,o,s){"use strict";var f=s(2162),g=s(8146),_=s(2265),b=s(1296),T=s(2104),S=s(4887),N=s(2035),A=s(909),R="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?_.useLayoutEffect:_.useEffect;function w(i){return i.getEditorState().read(b.$canShowPlaceholderCurry(i.isComposing()))}function C({content:i}){var[o]=f.useLexicalComposerContext();o=function(i){let[o,s]=_.useState(()=>w(i));return R(()=>{function e(){s(w(i))}return e(),T.mergeRegister(i.registerUpdateListener(()=>{e()}),i.registerEditableListener(()=>{e()}))},[i]),o}(o);let s=g();return o?"function"==typeof i?i(s):i:null}o.RichTextPlugin=function({contentEditable:i,placeholder:o,ErrorBoundary:s}){var g;let[b]=f.useLexicalComposerContext();return s=function(i,o){let[s,f]=_.useState(()=>i.getDecorators());return R(()=>i.registerDecoratorListener(i=>{S.flushSync(()=>{f(i)})}),[i]),_.useEffect(()=>{f(i.getDecorators())},[i]),_.useMemo(()=>{let f=[],g=Object.keys(s);for(let b=0;b<g.length;b++){let T=g[b],N=_.createElement(o,{onError:o=>i._onError(o)},_.createElement(_.Suspense,{fallback:null},s[T])),A=i.getElementByKey(T);null!==A&&f.push(S.createPortal(N,A,T))}return f},[o,s,i])}(b,s),R(()=>T.mergeRegister(A.registerRichText(g),N.registerDragonSupport(g)),[g=b]),_.createElement(_.Fragment,null,i,_.createElement(C,{content:o}),s)}},8562:function(i,o,s){"use strict";let f=s(8306);i.exports=f},8306:function(i,o,s){"use strict";var f=s(2162),g=s(2104),_=s(1333),b=s(2265);function k(i){return i.registerCommand(_.KEY_TAB_COMMAND,o=>{let s=_.$getSelection();return!!_.$isRangeSelection(s)&&(o.preventDefault(),o=!function(i){var o=i.getNodes();if(0<g.$filter(o,i=>_.$isBlockElementNode(i)&&i.canIndent()?i:null).length)return!0;if(o=i.anchor,o=(i=(i=i.focus).isBefore(o)?i:o).getNode(),(o=g.$getNearestBlockElementAncestorOrThrow(o)).canIndent()){o=o.getKey();let s=_.$createRangeSelection();if(s.anchor.set(o,0,"element"),s.focus.set(o,0,"element"),(s=_.$normalizeSelection__EXPERIMENTAL(s)).anchor.is(i))return!0}return!1}(s)?_.INSERT_TAB_COMMAND:o.shiftKey?_.OUTDENT_CONTENT_COMMAND:_.INDENT_CONTENT_COMMAND,i.dispatchCommand(o,void 0))},_.COMMAND_PRIORITY_EDITOR)}o.TabIndentationPlugin=function(){let[i]=f.useLexicalComposerContext();return b.useEffect(()=>k(i)),null},o.registerTabIndentation=k},8146:function(i,o,s){"use strict";let f=s(4485);i.exports=f},4485:function(i,o,s){"use strict";var f=s(2162),g=s(2265),_="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?g.useLayoutEffect:g.useEffect;function r(i){return{initialValueFn:()=>i.isEditable(),subscribe:o=>i.registerEditableListener(o)}}i.exports=function(){return function(i){let[o]=f.useLexicalComposerContext(),s=g.useMemo(()=>i(o),[o,i]),b=g.useRef(s.initialValueFn()),[T,S]=g.useState(b.current);return _(()=>{let{initialValueFn:i,subscribe:o}=s,f=i();return b.current!==f&&(b.current=f,S(f)),o(i=>{b.current=i,S(i)})},[s,i]),T}(r)}},909:function(i,o,s){"use strict";let f=s(4381);i.exports=f},4381:function(i,o,s){"use strict";var f=s(5522),g=s(7273),_=s(2104),b=s(1333);function l(i,o){return void 0!==document.caretRangeFromPoint?null===(i=document.caretRangeFromPoint(i,o))?null:{node:i.startContainer,offset:i.startOffset}:"undefined"!==document.caretPositionFromPoint?null===(i=document.caretPositionFromPoint(i,o))?null:{node:i.offsetNode,offset:i.offset}:null}let T="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,S=T&&"documentMode"in document?document.documentMode:null;T&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),T&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);let N=!!(T&&"InputEvent"in window)&&!S&&"getTargetRanges"in new window.InputEvent("input"),A=T&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),R=T&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,$=T&&/^(?=.*Chrome).*/i.test(navigator.userAgent),W=T&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!$,V=b.createCommand("DRAG_DROP_PASTE_FILE");let x=class x extends b.ElementNode{static getType(){return"quote"}static clone(i){return new x(i.__key)}constructor(i){super(i)}createDOM(i){let o=document.createElement("blockquote");return _.addClassNamesToElement(o,i.theme.quote),o}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:y,priority:0})}}exportDOM(i){if({element:i}=super.exportDOM(i),i&&_.isHTMLElement(i)){this.isEmpty()&&i.append(document.createElement("br"));var o=this.getFormatType();i.style.textAlign=o,(o=this.getDirection())&&(i.dir=o)}return{element:i}}static importJSON(i){let o=z();return o.setFormat(i.format),o.setIndent(i.indent),o.setDirection(i.direction),o}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(i,o){i=b.$createParagraphNode();let s=this.getDirection();return i.setDirection(s),this.insertAfter(i,o),i}collapseAtStart(){let i=b.$createParagraphNode();return this.getChildren().forEach(o=>i.append(o)),this.replace(i),!0}};function z(){return b.$applyNodeReplacement(new x)}let B=class B extends b.ElementNode{static getType(){return"heading"}static clone(i){return new B(i.__tag,i.__key)}constructor(i,o){super(o),this.__tag=i}getTag(){return this.__tag}createDOM(i){let o=this.__tag,s=document.createElement(o);return void 0!==(i=i.theme.heading)&&_.addClassNamesToElement(s,i[o]),s}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:C,priority:0}),h2:()=>({conversion:C,priority:0}),h3:()=>({conversion:C,priority:0}),h4:()=>({conversion:C,priority:0}),h5:()=>({conversion:C,priority:0}),h6:()=>({conversion:C,priority:0}),p:i=>null!==(i=i.firstChild)&&D(i)?{conversion:()=>({node:null}),priority:3}:null,span:i=>D(i)?{conversion:()=>({node:E("h1")}),priority:3}:null}}exportDOM(i){if({element:i}=super.exportDOM(i),i&&_.isHTMLElement(i)){this.isEmpty()&&i.append(document.createElement("br"));var o=this.getFormatType();i.style.textAlign=o,(o=this.getDirection())&&(i.dir=o)}return{element:i}}static importJSON(i){let o=E(i.tag);return o.setFormat(i.format),o.setIndent(i.indent),o.setDirection(i.direction),o}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(i,o=!0){i=0<(i=i?i.anchor.offset:0)&&i<this.getTextContentSize()?E(this.getTag()):b.$createParagraphNode();let s=this.getDirection();return i.setDirection(s),this.insertAfter(i,o),i}collapseAtStart(){let i=this.isEmpty()?b.$createParagraphNode():E(this.getTag());return this.getChildren().forEach(o=>i.append(o)),this.replace(i),!0}extractWithChild(){return!0}};function D(i){return"span"===i.nodeName.toLowerCase()&&"26pt"===i.style.fontSize}function C(i){let o=i.nodeName.toLowerCase(),s=null;return("h1"===o||"h2"===o||"h3"===o||"h4"===o||"h5"===o||"h6"===o)&&(s=E(o),null!==i.style&&s.setFormat(i.style.textAlign)),{node:s}}function y(i){let o=z();return null!==i.style&&o.setFormat(i.style.textAlign),{node:o}}function E(i){return b.$applyNodeReplacement(new B(i))}async function G(i,o){await f.copyToClipboard(o,_.objectKlassEquals(i,ClipboardEvent)?i:null),o.update(()=>{let i=b.$getSelection();b.$isRangeSelection(i)?i.removeText():b.$isNodeSelection(i)&&i.getNodes().forEach(i=>i.remove())})}function H(i){let o=null;if(i instanceof DragEvent?o=i.dataTransfer:i instanceof ClipboardEvent&&(o=i.clipboardData),null===o)return[!1,[],!1];var s=o.types;return i=s.includes("Files"),s=s.includes("text/html")||s.includes("text/plain"),[i,Array.from(o.files),s]}function I(i){var o=b.$getSelection();if(!b.$isRangeSelection(o))return!1;let s=new Set;o=o.getNodes();for(let b=0;b<o.length;b++){var f=o[b],g=f.getKey();s.has(g)||(g=(f=_.$getNearestBlockElementAncestorOrThrow(f)).getKey(),f.canIndent()&&!s.has(g)&&(s.add(g),i(f)))}return 0<s.size}function J(i){return i=b.$getNearestNodeFromDOMNode(i),b.$isDecoratorNode(i)}o.$createHeadingNode=E,o.$createQuoteNode=z,o.$isHeadingNode=function(i){return i instanceof B},o.$isQuoteNode=function(i){return i instanceof x},o.DRAG_DROP_PASTE=V,o.HeadingNode=B,o.QuoteNode=x,o.eventFiles=H,o.registerRichText=function(i){return _.mergeRegister(i.registerCommand(b.CLICK_COMMAND,()=>{let i=b.$getSelection();return!!b.$isNodeSelection(i)&&(i.clear(),!0)},0),i.registerCommand(b.DELETE_CHARACTER_COMMAND,i=>{let o=b.$getSelection();return!!b.$isRangeSelection(o)&&(o.deleteCharacter(i),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.DELETE_WORD_COMMAND,i=>{let o=b.$getSelection();return!!b.$isRangeSelection(o)&&(o.deleteWord(i),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.DELETE_LINE_COMMAND,i=>{let o=b.$getSelection();return!!b.$isRangeSelection(o)&&(o.deleteLine(i),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.CONTROLLED_TEXT_INSERTION_COMMAND,o=>{let s=b.$getSelection();if("string"==typeof o)b.$isRangeSelection(s)?s.insertText(o):b.DEPRECATED_$isGridSelection(s);else{if(!b.$isRangeSelection(s)&&!b.DEPRECATED_$isGridSelection(s))return!1;let g=o.dataTransfer;null!=g?f.$insertDataTransferForRichText(g,s,i):b.$isRangeSelection(s)&&(o=o.data)&&s.insertText(o)}return!0},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.REMOVE_TEXT_COMMAND,()=>{let i=b.$getSelection();return!!b.$isRangeSelection(i)&&(i.removeText(),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.FORMAT_TEXT_COMMAND,i=>{let o=b.$getSelection();return!!b.$isRangeSelection(o)&&(o.formatText(i),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.FORMAT_ELEMENT_COMMAND,i=>{var o=b.$getSelection();if(!b.$isRangeSelection(o)&&!b.$isNodeSelection(o))return!1;for(let s of o=o.getNodes())null!==(o=_.$findMatchingParent(s,i=>b.$isElementNode(i)&&!i.isInline()))&&o.setFormat(i);return!0},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.INSERT_LINE_BREAK_COMMAND,i=>{let o=b.$getSelection();return!!b.$isRangeSelection(o)&&(o.insertLineBreak(i),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.INSERT_PARAGRAPH_COMMAND,()=>{let i=b.$getSelection();return!!b.$isRangeSelection(i)&&(i.insertParagraph(),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.INSERT_TAB_COMMAND,()=>(b.$insertNodes([b.$createTabNode()]),!0),b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.INDENT_CONTENT_COMMAND,()=>I(i=>{let o=i.getIndent();i.setIndent(o+1)}),b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.OUTDENT_CONTENT_COMMAND,()=>I(i=>{let o=i.getIndent();0<o&&i.setIndent(o-1)}),b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.KEY_ARROW_UP_COMMAND,i=>{var o=b.$getSelection();if(b.$isNodeSelection(o)&&!J(i.target)){if(0<(i=o.getNodes()).length)return i[0].selectPrevious(),!0}else if(b.$isRangeSelection(o)&&(o=b.$getAdjacentNode(o.focus,!0),!i.shiftKey&&b.$isDecoratorNode(o)&&!o.isIsolated()&&!o.isInline()))return o.selectPrevious(),i.preventDefault(),!0;return!1},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.KEY_ARROW_DOWN_COMMAND,i=>{var o=b.$getSelection();if(b.$isNodeSelection(o)){if(0<(i=o.getNodes()).length)return i[0].selectNext(0,0),!0}else if(b.$isRangeSelection(o)){let s=o.focus;if("root"===s.key&&s.offset===b.$getRoot().getChildrenSize())return i.preventDefault(),!0;if(o=b.$getAdjacentNode(o.focus,!1),!i.shiftKey&&b.$isDecoratorNode(o)&&!o.isIsolated()&&!o.isInline())return o.selectNext(),i.preventDefault(),!0}return!1},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.KEY_ARROW_LEFT_COMMAND,i=>{let o=b.$getSelection();if(b.$isNodeSelection(o)){var s=o.getNodes();if(0<s.length)return i.preventDefault(),s[0].selectPrevious(),!0}return!!b.$isRangeSelection(o)&&!!g.$shouldOverrideDefaultCharacterSelection(o,!0)&&(s=i.shiftKey,i.preventDefault(),g.$moveCharacter(o,s,!0),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.KEY_ARROW_RIGHT_COMMAND,i=>{let o=b.$getSelection();if(b.$isNodeSelection(o)&&!J(i.target)){var s=o.getNodes();if(0<s.length)return i.preventDefault(),s[0].selectNext(0,0),!0}return!!b.$isRangeSelection(o)&&(s=i.shiftKey,!!g.$shouldOverrideDefaultCharacterSelection(o,!1)&&(i.preventDefault(),g.$moveCharacter(o,s,!1),!0))},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.KEY_BACKSPACE_COMMAND,o=>{if(J(o.target))return!1;let s=b.$getSelection();if(!b.$isRangeSelection(s))return!1;o.preventDefault(),{anchor:o}=s;let f=o.getNode();return s.isCollapsed()&&0===o.offset&&!b.$isRootNode(f)&&0<_.$getNearestBlockElementAncestorOrThrow(f).getIndent()?i.dispatchCommand(b.OUTDENT_CONTENT_COMMAND,void 0):i.dispatchCommand(b.DELETE_CHARACTER_COMMAND,!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.KEY_DELETE_COMMAND,o=>{if(J(o.target))return!1;let s=b.$getSelection();return!!b.$isRangeSelection(s)&&(o.preventDefault(),i.dispatchCommand(b.DELETE_CHARACTER_COMMAND,!1))},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.KEY_ENTER_COMMAND,o=>{let s=b.$getSelection();if(!b.$isRangeSelection(s))return!1;if(null!==o){if((R||A||W)&&N)return!1;if(o.preventDefault(),o.shiftKey)return i.dispatchCommand(b.INSERT_LINE_BREAK_COMMAND,!1)}return i.dispatchCommand(b.INSERT_PARAGRAPH_COMMAND,void 0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.KEY_ESCAPE_COMMAND,()=>{let o=b.$getSelection();return!!b.$isRangeSelection(o)&&(i.blur(),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.DROP_COMMAND,o=>{let[,s]=H(o);if(0<s.length){var f=l(o.clientX,o.clientY);if(null!==f){let{offset:o,node:_}=f;var g=b.$getNearestNodeFromDOMNode(_);if(null!==g){if(f=b.$createRangeSelection(),b.$isTextNode(g))f.anchor.set(g.getKey(),o,"text"),f.focus.set(g.getKey(),o,"text");else{let i=g.getParentOrThrow().getKey();g=g.getIndexWithinParent()+1,f.anchor.set(i,g,"element"),f.focus.set(i,g,"element")}f=b.$normalizeSelection__EXPERIMENTAL(f),b.$setSelection(f)}i.dispatchCommand(V,s)}return o.preventDefault(),!0}return o=b.$getSelection(),!!b.$isRangeSelection(o)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.DRAGSTART_COMMAND,i=>{[i]=H(i);let o=b.$getSelection();return!i||!!b.$isRangeSelection(o)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.DRAGOVER_COMMAND,i=>{var[o]=H(i);let s=b.$getSelection();return(!o||!!b.$isRangeSelection(s))&&(null!==(o=l(i.clientX,i.clientY))&&(o=b.$getNearestNodeFromDOMNode(o.node),b.$isDecoratorNode(o)&&i.preventDefault()),!0)},b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.SELECT_ALL_COMMAND,()=>(b.$selectAll(),!0),b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.COPY_COMMAND,o=>(f.copyToClipboard(i,_.objectKlassEquals(o,ClipboardEvent)?o:null),!0),b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.CUT_COMMAND,o=>(G(o,i),!0),b.COMMAND_PRIORITY_EDITOR),i.registerCommand(b.PASTE_COMMAND,o=>{let[,s,g]=H(o);if(0<s.length&&!g)return i.dispatchCommand(V,s),!0;if(b.isSelectionCapturedInDecoratorInput(o.target))return!1;let _=b.$getSelection();return!!(b.$isRangeSelection(_)||b.DEPRECATED_$isGridSelection(_))&&(o.preventDefault(),i.update(()=>{let s=b.$getSelection(),g=o instanceof InputEvent||o instanceof KeyboardEvent?null:o.clipboardData;null!=g&&(b.$isRangeSelection(s)||b.DEPRECATED_$isGridSelection(s))&&f.$insertDataTransferForRichText(g,s,i)},{tag:"paste"}),!0)},b.COMMAND_PRIORITY_EDITOR))}},7273:function(i,o,s){"use strict";let f=s(4508);i.exports=f},4508:function(i,o,s){"use strict";var f=s(1333);let g=new Map;function v(i){for(;null!=i;){if(i.nodeType===Node.TEXT_NODE)return i;i=i.firstChild}return null}function w(i){let o=i.parentNode;if(null==o)throw Error("Should never happen");return[o,Array.from(o.childNodes).indexOf(i)]}function y(i){let o={};for(let s of i=i.split(";"))if(""!==s){let[i,f]=s.split(/:([^]+)/);o[i.trim()]=f.trim()}return o}function z(i){let o=g.get(i);return void 0===o&&(o=y(i),g.set(i,o)),o}function B(i,o){var s=z("getStyle"in i?i.getStyle():i.style);s=function(i){let o="";for(let s in i)s&&(o+=`${s}: ${i[s]};`);return o}(o=Object.entries(o).reduce((i,[o,s])=>(null===s?delete i[o]:i[o]=s,i),{...s})),i.setStyle(s),g.set(s,o)}function E(i,o,s,g,_=null){if(0!==o.length){var b=o[0],T=new Map,S=[];(b=f.$isElementNode(b)?b:b.getParentOrThrow()).isInline()&&(b=b.getParentOrThrow());for(var N=!1;null!==b;){var A=b.getPreviousSibling();if(null!==A){b=A,N=!0;break}if(b=b.getParentOrThrow(),f.$isRootOrShadowRoot(b))break}A=new Set;for(var R=0;R<s;R++){var $=o[R];f.$isElementNode($)&&0===$.getChildrenSize()&&A.add($.getKey())}var W=new Set;for(R=0;R<s;R++){var V=($=o[R]).getParent();if(null!==V&&V.isInline()&&(V=V.getParent()),null!==V&&f.$isLeafNode($)&&!W.has($.getKey())){if($=V.getKey(),void 0===T.get($)){let i=g();i.setFormat(V.getFormatType()),i.setIndent(V.getIndent()),S.push(i),T.set($,i),V.getChildren().forEach(o=>{i.append(o),W.add(o.getKey()),f.$isElementNode(o)&&o.getChildrenKeys().forEach(i=>W.add(i))}),function(i){for(;null!==i&&!f.$isRootOrShadowRoot(i);){let o=i.getLatest(),s=i.getParent();0===o.getChildrenSize()&&i.remove(!0),i=s}}(V)}}else A.has($.getKey())&&((V=g()).setFormat($.getFormatType()),V.setIndent($.getIndent()),S.push(V),$.remove(!0))}if(null!==_)for(o=0;o<S.length;o++)_.append(S[o]);if(o=null,f.$isRootOrShadowRoot(b)){if(N){if(null!==_)b.insertAfter(_);else for(_=S.length-1;0<=_;_--)b.insertAfter(S[_])}else if(N=b.getFirstChild(),f.$isElementNode(N)&&(b=N),null===N){if(_)b.append(_);else for(_=0;_<S.length;_++)N=S[_],b.append(N),o=N}else if(null!==_)N.insertBefore(_);else for(b=0;b<S.length;b++)_=S[b],N.insertBefore(_),o=_}else if(_)b.insertAfter(_);else for(_=S.length-1;0<=_;_--)N=S[_],b.insertAfter(N),o=N;S=f.$getPreviousSelection(),f.$isRangeSelection(S)&&S.anchor.getNode().isAttached()&&S.focus.getNode().isAttached()?f.$setSelection(S.clone()):null!==o?o.selectEnd():i.dirty=!0}}function F(i,o,s,f){i.modify(o?"extend":"move",s,f)}function G(i){return i=i.anchor.getNode(),"rtl"===(f.$isRootNode(i)?i:i.getParentOrThrow()).getDirection()}o.$addNodeStyle=function(i){let o=y(i=i.getStyle());g.set(i,o)},o.$cloneWithProperties=function(i){let o=i.constructor.clone(i);return(o.__parent=i.__parent,o.__next=i.__next,o.__prev=i.__prev,f.$isElementNode(i)&&f.$isElementNode(o))?(o.__first=i.__first,o.__last=i.__last,o.__size=i.__size,o.__format=i.__format,o.__indent=i.__indent,o.__dir=i.__dir):f.$isTextNode(i)&&f.$isTextNode(o)&&(o.__format=i.__format,o.__style=i.__style,o.__mode=i.__mode,o.__detail=i.__detail),o},o.$getSelectionStyleValueForProperty=function(i,o,s=""){let g=null,_=i.getNodes();var b=i.anchor,T=i.focus,S=i.isBackward();let N=S?T.offset:b.offset;if(b=S?T.getNode():b.getNode(),""!==i.style&&null!==(i=z(i.style))&&o in i)return i[o];for(i=0;i<_.length;i++){var A=_[i];if((0===i||0!==N||!A.is(b))&&f.$isTextNode(A)){if(T=o,S=s,T=null!==(A=z(A=A.getStyle()))&&A[T]||S,null===g)g=T;else if(g!==T){g="";break}}}return null===g?s:g},o.$isAtNodeEnd=function(i){return"text"===i.type?i.offset===i.getNode().getTextContentSize():i.offset===i.getNode().getChildrenSize()},o.$isParentElementRTL=G,o.$moveCaretSelection=F,o.$moveCharacter=function(i,o,s){let f=G(i);F(i,o,s?!f:f,"character")},o.$patchStyleText=function C(i,o){var s=i.getNodes(),g=s.length;if(f.DEPRECATED_$isGridSelection(i)){for(var _=f.$createRangeSelection(),b=_.anchor,T=_.focus,S=0;S<g;S++){var N=s[S];f.DEPRECATED_$isGridCellNode(N)&&(b.set(N.getKey(),0,"element"),T.set(N.getKey(),N.getChildrenSize(),"element"),C(f.$normalizeSelection__EXPERIMENTAL(_),o))}f.$setSelection(i)}else if(--g,_=s[0],b=s[g],i.isCollapsed())B(i,o);else{var A=i.anchor,R=i.focus;S=_.getTextContent().length,N=R.offset;var $=A.offset,W=A.isBefore(R);T=W?$:N,i=W?N:$;var V=W?A.type:R.type,U=W?R.type:A.type;if(A=W?R.key:A.key,f.$isTextNode(_)&&T===S&&(R=_.getNextSibling(),f.$isTextNode(R)&&(T=$=0,_=R)),1===s.length)f.$isTextNode(_)&&(T="element"===V?0:$>N?N:$)!==(i="element"===U?S:$>N?$:N)&&(0===T&&i===S?(B(_,o),_.select(T,i)):(s=_.splitText(T,i),B(s=0===T?s[0]:s[1],o),s.select(0,i-T)));else for(f.$isTextNode(_)&&T<_.getTextContentSize()&&(0!==T&&(_=_.splitText(T)[1]),B(_,o)),f.$isTextNode(b)&&(T=b.getTextContent().length,b.__key!==A&&0!==i&&(i=T),i!==T&&([b]=b.splitText(i)),0!==i&&B(b,o)),i=1;i<g;i++)S=(T=s[i]).getKey(),f.$isTextNode(T)&&S!==_.getKey()&&S!==b.getKey()&&!T.isToken()&&B(T,o)}},o.$selectAll=function(i){let o=i.anchor;i=i.focus;var s=o.getNode().getTopLevelElementOrThrow().getParentOrThrow();let g=s.getFirstDescendant();s=s.getLastDescendant();let _="element",b="element",T=0;f.$isTextNode(g)?_="text":f.$isElementNode(g)||null===g||(g=g.getParentOrThrow()),f.$isTextNode(s)?(b="text",T=s.getTextContentSize()):f.$isElementNode(s)||null===s||(s=s.getParentOrThrow()),g&&s&&(o.set(g.getKey(),0,_),i.set(s.getKey(),T,b))},o.$setBlocksType=function(i,o){if("root"===i.anchor.key){o=o();var s=f.$getRoot();(i=s.getFirstChild())?i.replace(o,!0):s.append(o)}else for(s=i.getNodes(),i=i.anchor.getNode().getParentOrThrow(),-1===s.indexOf(i)&&s.push(i),i.isInline()&&(i=i.getParentOrThrow(),-1===s.indexOf(i)&&s.push(i)),i=0;i<s.length;i++){let b=s[i];var g=b;if(!f.$isElementNode(g)||f.$isRootOrShadowRoot(g))g=!1;else{var _=g.getFirstChild();_=null===_||f.$isLineBreakNode(_)||f.$isTextNode(_)||_.isInline(),g=!g.isInline()&&!1!==g.canBeEmpty()&&_}g&&((g=o()).setFormat(b.getFormatType()),g.setIndent(b.getIndent()),b.replace(g,!0))}},o.$shouldOverrideDefaultCharacterSelection=function(i,o){return i=f.$getAdjacentNode(i.focus,o),f.$isDecoratorNode(i)&&!i.isIsolated()||f.$isElementNode(i)&&!i.isInline()&&!i.canBeEmpty()},o.$sliceSelectedTextNodeContent=function(i,o){if(o.isSelected()&&!o.isSegmented()&&!o.isToken()&&(f.$isRangeSelection(i)||f.DEPRECATED_$isGridSelection(i))){var s=i.anchor.getNode(),g=i.focus.getNode(),_=o.is(s),b=o.is(g);if(_||b){let f;_=i.isBackward();let[T,S]=i.getCharacterOffsets();i=s.is(g),b=o.is(_?g:s),g=o.is(_?s:g),s=0,i?(s=T>S?S:T,f=T>S?T:S):b?(s=_?S:T,f=void 0):g&&(s=0,f=_=_?T:S),o.__text=o.__text.slice(s,f)}}return o},o.$wrapNodes=function(i,o,s=null){var g=i.getNodes();let _=g.length;var b=i.anchor;if(0===_||1===_&&"element"===b.type&&0===b.getNode().getChildrenSize()){g=(i="text"===b.type?b.getNode().getParentOrThrow():b.getNode()).getChildren();let f=o();f.setFormat(i.getFormatType()),f.setIndent(i.getIndent()),g.forEach(i=>f.append(i)),s&&(f=s.append(f)),i.replace(f)}else{b=null;var T=[];for(let S=0;S<_;S++){let _=g[S];f.$isRootOrShadowRoot(_)?(E(i,T,T.length,o,s),T=[],b=_):null===b||null!==b&&f.$hasAncestor(_,b)?T.push(_):(E(i,T,T.length,o,s),T=[_])}E(i,T,T.length,o,s)}},o.createDOMRange=function(i,o,s,g,_){let b=o.getKey(),T=g.getKey(),S=document.createRange(),N=i.getElementByKey(b);if(i=i.getElementByKey(T),f.$isTextNode(o)&&(N=v(N)),f.$isTextNode(g)&&(i=v(i)),void 0===o||void 0===g||null===N||null===i)return null;"BR"===N.nodeName&&([N,s]=w(N)),"BR"===i.nodeName&&([i,_]=w(i)),o=N.firstChild,N===i&&null!=o&&"BR"===o.nodeName&&0===s&&0===_&&(_=1);try{S.setStart(N,s),S.setEnd(i,_)}catch(i){return null}return S.collapsed&&(s!==_||b!==T)&&(S.setStart(i,_),S.setEnd(N,s)),S},o.createRectsFromDOMRange=function(i,o){let s;var f=i.getRootElement();if(null===f)return[];i=f.getBoundingClientRect(),f=parseFloat((f=getComputedStyle(f)).paddingLeft)+parseFloat(f.paddingRight);let g=(o=Array.from(o.getClientRects())).length;o.sort((i,o)=>{let s=i.top-o.top;return 3>=Math.abs(s)?i.left-o.left:s});for(let _=0;_<g;_++){let b=o[_],T=b.width+f===i.width;s&&s.top<=b.top&&s.top+s.height>b.top&&s.left+s.width>b.left||T?(o.splice(_--,1),g--):s=b}return o},o.getStyleObjectFromCSS=z,o.trimTextContentFromAnchor=function(i,o,s){let g=o.getNode();if(f.$isElementNode(g)){var _=g.getDescendantByIndex(o.offset);null!==_&&(g=_)}for(;0<s&&null!==g;){var b=g.getPreviousSibling(),T=0;if(null===b){_=g.getParentOrThrow();for(var S=_.getPreviousSibling();null===S;){if(null===(_=_.getParent())){b=null;break}S=_.getPreviousSibling()}null!==_&&(T=_.isInline()?0:2,b=f.$isElementNode(S)?S.getLastDescendant():S)}if(""===(S=g.getTextContent())&&f.$isElementNode(g)&&!g.isInline()&&(S="\n\n"),_=S.length,!f.$isTextNode(g)||s>=_)S=g.getParent(),g.remove(),null==S||0!==S.getChildrenSize()||f.$isRootNode(S)||S.remove(),s-=_+T,g=b;else{let N=g.getKey();T=i.getEditorState().read(()=>{let i=f.$getNodeByKey(N);return f.$isTextNode(i)&&i.isSimpleText()?i.getTextContent():null}),b=_-s;let A=S.slice(0,b);null!==T&&T!==S?(s=f.$getPreviousSelection(),_=g,g.isSimpleText()?g.setTextContent(T):(_=f.$createTextNode(T),g.replace(_)),f.$isRangeSelection(s)&&s.isCollapsed()&&(s=s.anchor.offset,_.select(s,s))):g.isSimpleText()?(T=o.key===N,(S=o.offset)<s&&(S=_),s=T?S-s:0,_=T?S:b,T&&0===s?[s]=g.splitText(s,_):[,s]=g.splitText(s,_),s.remove()):(s=f.$createTextNode(A),g.replace(s)),s=0}}}},1296:function(i,o,s){"use strict";let f=s(6456);i.exports=f},6456:function(i,o,s){"use strict";var f=s(1333);function r(i,o=!0){return!i&&(i=t(),o&&(i=i.trim()),""===i)}function t(){return f.$getRoot().getTextContent()}function u(i){if(!r(i,!1))return!1;let o=(i=f.$getRoot().getChildren()).length;if(1<o)return!1;for(let g=0;g<o;g++){var s=i[g];if(f.$isDecoratorNode(s))return!1;if(f.$isElementNode(s)){if(!f.$isParagraphNode(s)||0!==s.__indent)return!1;let i=(s=s.getChildren()).length;for(let o=0;o<i;o++)if(!f.$isTextNode(s[g]))return!1}}return!0}o.$canShowPlaceholder=u,o.$canShowPlaceholderCurry=function(i){return()=>u(i)},o.$findTextIntersectionFromCharacters=function(i,o){var s=i.getFirstChild();i=0;e:for(;null!==s;){if(f.$isElementNode(s)){var g=s.getFirstChild();if(null!==g){s=g;continue}}else if(f.$isTextNode(s)){if(i+(g=s.getTextContentSize())>o)return{node:s,offset:o-i};i+=g}if(null!==(g=s.getNextSibling()))s=g;else{for(s=s.getParent();null!==s;){if(null!==(g=s.getNextSibling())){s=g;continue e}s=s.getParent()}break}}return null},o.$isRootTextContentEmpty=r,o.$isRootTextContentEmptyCurry=function(i,o){return()=>r(i,o)},o.$rootTextContent=t,o.registerLexicalTextEntity=function(i,o,s,g){let n=i=>{let o=f.$createTextNode(i.getTextContent());o.setFormat(i.getFormat()),i.replace(o)};return[i.registerNodeTransform(f.TextNode,i=>{if(i.isSimpleText()){var _=i.getPreviousSibling(),b=i.getTextContent(),T=i;if(f.$isTextNode(_)){var S=_.getTextContent(),N=o(S+b);if(_ instanceof s){if(null===N||0!==_.getLatest().__mode){n(_);return}if(0<(N=N.end-S.length)){T=S+(T=b.slice(0,N)),_.select(),_.setTextContent(T),N===b.length?i.remove():(_=b.slice(N),i.setTextContent(_));return}}else if(null===N||N.start<S.length)return}for(;;){let A;if(b=N=null===(i=o(b))?"":b.slice(i.end),""===N){if(S=T.getNextSibling(),f.$isTextNode(S)){if(null===(N=o(N=T.getTextContent()+S.getTextContent()))){S instanceof s?n(S):S.markDirty();break}if(0!==N.start)break}}else if(null!==(S=o(N))&&0===S.start)break;if(null===i||!(0===i.start&&f.$isTextNode(_)&&_.isTextEntity())&&(0===i.start?[A,T]=T.splitText(i.end):[,A,T]=T.splitText(i.start,i.end),(i=g(A)).setFormat(A.getFormat()),A.replace(i),null==T))break}}}),i=i.registerNodeTransform(s,i=>{var g=i.getTextContent();let _=o(g);null===_||0!==_.start?n(i):g.length>_.end?i.splitText(_.end):(g=i.getPreviousSibling(),f.$isTextNode(g)&&g.isTextEntity()&&(n(g),n(i)),g=i.getNextSibling(),f.$isTextNode(g)&&g.isTextEntity()&&(n(g),i instanceof s&&n(i)))})]}},2104:function(i,o,s){"use strict";let f=s(6883);i.exports=f},6883:function(i,o,s){"use strict";var f=s(7273),g=s(1333);function r(i,o){for(let s of o)if(i.type.startsWith(s))return!0;return!1}function t(i,o){for(;i!==g.$getRoot()&&null!=i;){if(o(i))return i;i=i.getParent()}return null}o.$splitNode=g.$splitNode,o.isHTMLAnchorElement=g.isHTMLAnchorElement,o.isHTMLElement=g.isHTMLElement,o.$dfs=function(i,o){let s=[];i=(i||g.$getRoot()).getLatest(),o=o||(g.$isElementNode(i)?i.getLastDescendant():i);for(var f=i,_=0;null!==(f=f.getParent());)_++;for(f=_;null!==i&&!i.is(o);)if(s.push({depth:f,node:i}),g.$isElementNode(i)&&0<i.getChildrenSize())i=i.getFirstChild(),f++;else for(_=null;null===_&&null!==i;)null===(_=i.getNextSibling())?(i=i.getParent(),f--):i=_;return null!==i&&i.is(o)&&s.push({depth:f,node:i}),s},o.$filter=function(i,o){let s=[];for(let f=0;f<i.length;f++){let g=o(i[f]);null!==g&&s.push(g)}return s},o.$findMatchingParent=t,o.$getNearestBlockElementAncestorOrThrow=function(i){let o=t(i,i=>g.$isElementNode(i)&&!i.isInline());return g.$isElementNode(o)||function(i){let o=new URLSearchParams;o.append("code",i);for(let i=1;i<arguments.length;i++)o.append("v",arguments[i]);throw Error(`Minified Lexical error #${i}; visit https://lexical.dev/docs/error?${o} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(4,i.__key),o},o.$getNearestNodeOfType=function(i,o){for(;null!=i;){if(i instanceof o)return i;i=i.getParent()}return null},o.$insertFirst=function(i,o){let s=i.getFirstChild();null!==s?s.insertBefore(o):i.append(o)},o.$insertNodeToNearestRoot=function(i){var o=g.$getSelection()||g.$getPreviousSelection();if(g.$isRangeSelection(o)){var{focus:s}=o;if(o=s.getNode(),s=s.offset,g.$isRootOrShadowRoot(o))null==(s=o.getChildAtIndex(s))?o.append(i):s.insertBefore(i),i.selectNext();else{let f,_;g.$isTextNode(o)?(f=o.getParentOrThrow(),_=o.getIndexWithinParent(),0<s&&(_+=1,o.splitText(s))):(f=o,_=s),[,o]=g.$splitNode(f,_),o.insertBefore(i),o.selectStart()}}else g.$isNodeSelection(o)||g.DEPRECATED_$isGridSelection(o)?(o=o.getNodes())[o.length-1].getTopLevelElementOrThrow().insertAfter(i):g.$getRoot().append(i),o=g.$createParagraphNode(),i.insertAfter(o),o.select();return i.getLatest()},o.$restoreEditorState=function(i,o){let s=new Map,_=i._pendingEditorState;for(let[i,_]of o._nodeMap){let o=f.$cloneWithProperties(_);g.$isTextNode(o)&&(o.__text=_.__text),s.set(i,o)}_&&(_._nodeMap=s),i._dirtyType=2,i=o._selection,g.$setSelection(null===i?null:i.clone())},o.$wrapNodeInElement=function(i,o){return o=o(),i.replace(o),o.append(i),o},o.addClassNamesToElement=function(i,...o){o.forEach(o=>{"string"==typeof o&&(o=o.split(" ").filter(i=>""!==i),i.classList.add(...o))})},o.isMimeType=r,o.mediaFileReader=function(i,o){let s=i[Symbol.iterator]();return new Promise((i,f)=>{let g=[],h=()=>{let{done:_,value:b}=s.next();if(_)return i(g);let T=new FileReader;T.addEventListener("error",f),T.addEventListener("load",()=>{let i=T.result;"string"==typeof i&&g.push({file:b,result:i}),h()}),r(b,o)?T.readAsDataURL(b):h()};h()})},o.mergeRegister=function(...i){return()=>{i.forEach(i=>i())}},o.objectKlassEquals=function(i,o){return null!==i&&Object.getPrototypeOf(i).constructor.name===o.name},o.registerNestedElementResolver=function(i,o,s,f){return i.registerNodeTransform(o,i=>{e:{for(var g=i.getChildren(),_=0;_<g.length;_++)if(g[_]instanceof o){g=null;break e}for(g=i;null!==g;)if(_=g,(g=g.getParent())instanceof o){g={child:_,parent:g};break e}g=null}if(null!==g){let{child:o,parent:b}=g;if(o.is(i)){if(f(b,i),g=(i=o.getNextSiblings()).length,b.insertAfter(o),0!==g){_=s(b),o.insertAfter(_);for(let o=0;o<g;o++)_.append(i[o])}b.canBeEmpty()||0!==b.getChildrenSize()||b.remove()}}})},o.removeClassNamesFromElement=function(i,...o){o.forEach(o=>{"string"==typeof o&&i.classList.remove(...o.split(" "))})}},4440:function(i,o){var s;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var f={}.hasOwnProperty;function classNames(){for(var i=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var g=typeof s;if("string"===g||"number"===g)i.push(s);else if(Array.isArray(s)){if(s.length){var _=classNames.apply(null,s);_&&i.push(_)}}else if("object"===g){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var b in s)f.call(s,b)&&s[b]&&i.push(b)}}}return i.join(" ")}i.exports?(classNames.default=classNames,i.exports=classNames):void 0!==(s=(function(){return classNames}).apply(o,[]))&&(i.exports=s)}()},1333:function(i,o,s){"use strict";let f=s(1125);i.exports=f},1125:function(i,o){"use strict";let s={},f={},g={},_={},b={},T={},S={},N={},A={},R={},$={},W={},V={},U={},j={},Y={},Z={},X={},et={},en={},er={},ei={},eo={},el={},ea={},es={},eu={},ed={},ep={},eh={},eg={},em={},e_={},ev={},ey={},eC={};function r(i){let o=new URLSearchParams;o.append("code",i);for(let i=1;i<arguments.length;i++)o.append("v",arguments[i]);throw Error(`Minified Lexical error #${i}; visit https://lexical.dev/docs/error?${o} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let ex="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,eE=ex&&"documentMode"in document?document.documentMode:null,eb=ex&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ek=ex&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),eT=!!(ex&&"InputEvent"in window)&&!eE&&"getTargetRanges"in new window.InputEvent("input"),eS=ex&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),eN=ex&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ew=ex&&/^(?=.*Chrome).*/i.test(navigator.userAgent),eO=ex&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ew,eD=eS||eN||eO?"\xa0":"",eA=ek?"\xa0":eD,eI=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,eM=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,eR={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},eP={directionless:1,unmergeable:2},e$={center:2,end:6,justify:4,left:1,right:3,start:5},eL={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},eF={normal:0,segmented:2,token:1},eB={0:"normal",2:"segmented",1:"token"},ez=!1,eK=0;function qb(i){eK=i.timeStamp}function rb(i,o,s){return o.__lexicalLineBreak===i||void 0!==i[`__lexicalKey_${s._key}`]}function tb(i,o,s){ez=!0;let f=100<performance.now()-eK;try{w(i,()=>{let g=v()||i.getEditorState().read(()=>{let i=v();return null!==i?i.clone():null});var _=new Map,b=i.getRootElement(),T=i._editorState,S=i._blockCursorElement;let N=!1,A="";for(var R=0;R<o.length;R++){var $=o[R],W=$.type,V=$.target,U=ub(V,T);if(!(null===U&&V!==b||z(U))){if("characterData"===W){if($=f&&B(U))e:{$=g,W=V;var j=U;if(C($)){var Y=$.anchor.getNode();if(Y.is(j)&&$.format!==Y.getFormat()){$=!1;break e}}$=3===W.nodeType&&j.isAttached()}$&&(j=vb(i._window),W=$=null,null!==j&&j.anchorNode===V&&($=j.anchorOffset,W=j.focusOffset),V=V.nodeValue,null!==V&&wb(U,V,$,W,!1))}else if("childList"===W){for(j=0,N=!0,W=$.addedNodes;j<W.length;j++){Y=W[j];var Z=xb(Y),X=Y.parentNode;null==X||Y===S||null!==Z||"BR"===Y.nodeName&&rb(Y,X,i)||(ek&&(Z=Y.innerText||Y.nodeValue)&&(A+=Z),X.removeChild(Y))}if(W=($=$.removedNodes).length,0<W){for(Y=0,j=0;Y<W;Y++)X=$[Y],("BR"===X.nodeName&&rb(X,V,i)||S===X)&&(V.appendChild(X),j++);W!==j&&(V===b&&(U=T._nodeMap.get("root")),_.set(V,U))}}}}if(0<_.size)for(let[o,s]of _)if(D(s))for(_=s.getChildrenKeys(),b=o.firstChild,T=0;T<_.length;T++)S=i.getElementByKey(_[T]),null!==S&&(null==b?(o.appendChild(S),b=S):b!==S&&o.replaceChild(S,b),b=b.nextSibling);else B(s)&&s.markDirty();if(_=s.takeRecords(),0<_.length){for(b=0;b<_.length;b++)for(T=(S=_[b]).addedNodes,S=S.target,R=0;R<T.length;R++)V=(U=T[R]).parentNode,null==V||"BR"!==U.nodeName||rb(U,S,i)||V.removeChild(U);s.takeRecords()}null!==g&&(N&&(g.dirty=!0,yb(g)),ek&&zb(i)&&g.insertRawText(A))})}finally{ez=!1}}function Ab(i){let o=i._observer;null!==o&&tb(i,o.takeRecords(),o)}function Bb(i){0===eK&&Cb(i).addEventListener("textInput",qb,!0),i._observer=new MutationObserver((o,s)=>{tb(i,o,s)})}function Db(i,o){let s=i.__mode,f=i.__format;i=i.__style;let g=o.__mode,_=o.__format;return o=o.__style,(null===s||s===g)&&(null===f||f===_)&&(null===i||i===o)}function Eb(i,o){let s=i.mergeWithSibling(o),f=F()._normalizedNodes;return f.add(i.__key),f.add(o.__key),s}function Fb(i){if(""===i.__text&&i.isSimpleText()&&!i.isUnmergeable())i.remove();else{for(var o,s;null!==(o=i.getPreviousSibling())&&B(o)&&o.isSimpleText()&&!o.isUnmergeable();)if(""===o.__text)o.remove();else{Db(o,i)&&(i=Eb(o,i));break}for(;null!==(s=i.getNextSibling())&&B(s)&&s.isSimpleText()&&!s.isUnmergeable();)if(""===s.__text)s.remove();else{Db(i,s)&&Eb(i,s);break}}}function Gb(i){return Hb(i.anchor),Hb(i.focus),i}function Hb(i){for(;"element"===i.type;){var o=i.getNode(),s=i.offset;if(s===o.getChildrenSize()?(o=o.getChildAtIndex(s-1),s=!0):(o=o.getChildAtIndex(s),s=!1),B(o)){i.set(o.__key,s?o.getTextContentSize():0,"text");break}if(!D(o))break;i.set(o.__key,s?o.getChildrenSize():0,"element")}}let eW=1,eH="function"==typeof queueMicrotask?queueMicrotask:i=>{Promise.resolve().then(i)};function Kb(i){let o=document.activeElement;if(null===o)return!1;let s=o.nodeName;return z(ub(i))&&("INPUT"===s||"TEXTAREA"===s||"true"===o.contentEditable&&null==o.__lexicalEditor)}function Lb(i,o,s){let f=i.getRootElement();try{return null!==f&&f.contains(o)&&f.contains(s)&&null!==o&&!Kb(o)&&Mb(o)===i}catch(i){return!1}}function Mb(i){for(;null!=i;){let o=i.__lexicalEditor;if(null!=o)return o;i=Nb(i)}return null}function Ob(i){return i.isToken()||i.isSegmented()}function Vb(i){for(;null!=i;){if(3===i.nodeType)return i;i=i.firstChild}return null}function Wb(i,o,s){return i&(o=eR[o])&&(null===s||0==(s&o))?i^o:null===s||s&o?i|o:i}function Xb(i){return B(i)||Yb(i)||z(i)}function Zb(i,o){if(null!=o)i.__key=o;else{G(),99<ty&&r(14),o=F();var s=ac(),f=""+eW++;s._nodeMap.set(f,i),D(i)?o._dirtyElements.set(f,!0):o._dirtyLeaves.add(f),o._cloneNotNeeded.add(f),o._dirtyType=1,i.__key=f}}function bc(i){var o=i.getParent();if(null!==o){let g=i.getWritable();o=o.getWritable();var s=i.getPreviousSibling();if(i=i.getNextSibling(),null===s){if(null!==i){var f=i.getWritable();o.__first=i.__key,f.__prev=null}else o.__first=null}else{if(f=s.getWritable(),null!==i){let o=i.getWritable();o.__prev=f.__key,f.__next=o.__key}else f.__next=null;g.__prev=null}null===i?null!==s?(i=s.getWritable(),o.__last=s.__key,i.__next=null):o.__last=null:(i=i.getWritable(),null!==s?((s=s.getWritable()).__next=i.__key,i.__prev=s.__key):i.__prev=null,g.__next=null),o.__size--,g.__parent=null}}function cc(i){99<ty&&r(14);var o=i.getLatest(),s=o.__parent,f=ac();let g=F(),_=f._nodeMap;if(f=g._dirtyElements,null!==s)for(;null!==s&&!f.has(s);){let i=_.get(s);if(void 0===i)break;f.set(s,!1),s=i.__parent}o=o.__key,g._dirtyType=1,D(i)?f.set(o,!0):g._dirtyLeaves.add(o)}function H(i){G();var o=F();let s=o._compositionKey;i!==s&&(o._compositionKey=i,null!==s&&null!==(o=I(s))&&o.getWritable(),null!==i&&null!==(i=I(i))&&i.getWritable())}function dc(){return ec()?null:F()._compositionKey}function I(i,o){return void 0===(i=(o||ac())._nodeMap.get(i))?null:i}function xb(i,o){let s=F();return void 0!==(i=i[`__lexicalKey_${s._key}`])?I(i,o):null}function ub(i,o){for(;null!=i;){let s=xb(i,o);if(null!==s)return s;i=Nb(i)}return null}function fc(i){let o=Object.assign({},i._decorators);return i._pendingDecorators=o}function gc(i){return i.read(()=>hc().getTextContent())}function hc(){return ac()._nodeMap.get("root")}function yb(i){G();let o=ac();null!==i&&(i.dirty=!0,i._cachedNodes=null),o._selection=i}function jc(i){var o,s=F();e:{for(o=i;null!=o;){let i=o[`__lexicalKey_${s._key}`];if(void 0!==i){o=i;break e}o=Nb(o)}o=null}return null===o?i===(s=s.getRootElement())?I("root"):null:I(o)}function kc(i){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(i)}function lc(i){let o=[];for(;null!==i;)o.push(i),i=i._parentEditor;return o}function mc(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function nc(i,o,s){if(null!==(o=vb(o._window))){var f=o.anchorNode,{anchorOffset:g,focusOffset:_}=o;if(null!==f&&(o=3===f.nodeType?f.nodeValue:null,f=ub(f),null!==o&&B(f))){if(o===eD&&s){let i=s.length;o=s,_=g=i}null!==o&&wb(f,o,g,_,i)}}}function wb(i,o,s,f,g){let _=i;if(_.isAttached()&&(g||!_.isDirty())){let N=_.isComposing(),A=o;if((N||g)&&o[o.length-1]===eD&&(A=o.slice(0,-1)),o=_.getTextContent(),g||A!==o){if(""===A){if(H(null),eS||eN||eO)_.remove();else{let i=F();setTimeout(()=>{i.update(()=>{_.isAttached()&&_.remove()})},20)}}else{g=_.getParent(),o=oc();var b=_.getTextContentSize(),T=dc(),S=_.getKey();_.isToken()||null!==T&&S===T&&!N||C(o)&&(null!==g&&!g.canInsertTextBefore()&&0===o.anchor.offset||o.anchor.key===i.__key&&0===o.anchor.offset&&!_.canInsertTextBefore()||o.focus.key===i.__key&&o.focus.offset===b&&!_.canInsertTextAfter())?_.markDirty():(C(i=v())&&null!==s&&null!==f&&(i.setTextNodeRange(_,s,_,f),_.isSegmented()&&(s=J(s=_.getTextContent()),_.replace(s),_=s)),_.setTextContent(A))}}}}function qc(i,o){void 0===i.__lexicalClassNameCache&&(i.__lexicalClassNameCache={});let s=i.__lexicalClassNameCache,f=s[o];return void 0!==f?f:"string"==typeof(i=i[o])?(i=i.split(" "),s[o]=i):i}function rc(i,o,s,f,g){0!==s.size&&(s=f.__type,f=f.__key,void 0===(o=o.get(s))&&r(33,s),s=o.klass,void 0===(o=i.get(s))&&(o=new Map,i.set(s,o)),s="destroyed"===(i=o.get(f))&&"created"===g,(void 0===i||s)&&o.set(f,s?"updated":g))}function sc(i,o,s){let f=i.getParent(),g=s;return null!==f&&(o&&0===s?(g=i.getIndexWithinParent(),i=f):o||s!==i.getChildrenSize()||(g=i.getIndexWithinParent()+1,i=f)),i.getChildAtIndex(o?g-1:g)}function tc(i,o){var s=i.offset;return"element"===i.type?sc(i=i.getNode(),o,s):(i=i.getNode(),o&&0===s||!o&&s===i.getTextContentSize()?null===(s=o?i.getPreviousSibling():i.getNextSibling())?sc(i.getParentOrThrow(),o,i.getIndexWithinParent()+(o?0:1)):s:null)}function zb(i){return"insertFromPaste"===(i=(i=Cb(i).event)&&i.inputType)||"insertFromPasteAsQuotation"===i}function uc(i){return!K(i)&&!i.isLastChild()&&!i.isInline()}function vc(i,o){return void 0===(i=i._keyToDOMMap.get(o))&&r(75,o),i}function Nb(i){return null!==(i=i.assignedSlot||i.parentElement)&&11===i.nodeType?i.host:i}function wc(i,o){for(i=i.getParent();null!==i;){if(i.is(o))return!0;i=i.getParent()}return!1}function Cb(i){return null===(i=i._window)&&r(78),i}function xc(i){for(i=i.getParentOrThrow();null!==i&&!yc(i);)i=i.getParentOrThrow();return i}function yc(i){return K(i)||D(i)&&i.isShadowRoot()}function zc(i){return Zb(i=i.constructor.clone(i),null),i}function Ac(i){var o=F();let s=i.constructor.getType();return void 0===(o=o._nodes.get(s))&&r(97),null!==(o=o.replace)?((o=o(i))instanceof i.constructor||r(98),o):i}function Bc(i,o){!K(i=i.getParent())||D(o)||z(o)||r(99)}function Cc(i){return(z(i)||D(i)&&!i.canBeEmpty())&&!i.isInline()}function Dc(i,o,s){s.style.removeProperty("caret-color"),o._blockCursorElement=null,null!==(o=i.parentElement)&&o.removeChild(i)}function vb(i){return ex?(i||window).getSelection():null}function Ec(i,o){let s=i.getChildAtIndex(o);null==s&&(s=i),yc(i)&&r(102);let d=i=>{let o=i.getParentOrThrow(),f=yc(o),g=i!==s||f?zc(i):i;if(f)return i.insertAfter(g),[i,g,g];let[_,b,T]=d(o);return i=i.getNextSiblings(),T.append(g,...i),[_,b,g]},[f,g]=d(s);return[f,g]}function Fc(i,o){for(;i!==hc()&&null!=i;){if(o(i))return i;i=i.getParent()}return null}function Hc(i){return 1===i.nodeType}let eV="",eU="",eq="",ej,eG,eY,eZ=!1,eJ=!1,eQ,eX=null,e0,e1,e2,e3,e5,e4;function fd(i,o){let s=e2.get(i);if(null!==o){let s=gd(i);s.parentNode===o&&o.removeChild(s)}e3.has(i)||eG._keyToDOMMap.delete(i),D(s)&&id(i=hd(s,e2),0,i.length-1,null),void 0!==s&&rc(e4,eY,eQ,s,"destroyed")}function id(i,o,s,f){for(;o<=s;++o){let s=i[o];void 0!==s&&fd(s,f)}}function jd(i,o){i.setProperty("text-align",o)}function kd(i,o){var s=ej.theme.indent;if("string"==typeof s){let f=i.classList.contains(s);0<o&&!f?i.classList.add(s):1>o&&f&&i.classList.remove(s)}s=getComputedStyle(i).getPropertyValue("--lexical-indent-base-value")||"40px",i.style.setProperty("padding-inline-start",0===o?"":`calc(${o} * ${s})`)}function ld(i,o){i=i.style,0===o?jd(i,""):1===o?jd(i,"left"):2===o?jd(i,"center"):3===o?jd(i,"right"):4===o?jd(i,"justify"):5===o?jd(i,"start"):6===o&&jd(i,"end")}function md(i,o,s){let f=e3.get(i);void 0===f&&r(60);let g=f.createDOM(ej,eG);var _=eG._keyToDOMMap;if(g["__lexicalKey_"+eG._key]=i,_.set(i,g),B(f)?g.setAttribute("data-lexical-text","true"):z(f)&&g.setAttribute("data-lexical-decorator","true"),D(f)){if(i=f.__indent,_=f.__size,0!==i&&kd(g,i),0!==_){--_,i=hd(f,e3);var b=eU;eU="",nd(i,f,0,_,g,null),od(f,g),eU=b}0!==(i=f.__format)&&ld(g,i),f.isInline()||pd(null,f,g),uc(f)&&(eV+="\n\n",eq+="\n\n")}else _=f.getTextContent(),z(f)?(null!==(b=f.decorate(eG,ej))&&qd(i,b),g.contentEditable="false"):B(f)&&(f.isDirectionless()||(eU+=_)),eV+=_,eq+=_;return null!==o&&(null!=s?o.insertBefore(g,s):null!=(s=o.__lexicalLineBreak)?o.insertBefore(g,s):o.appendChild(g)),rc(e4,eY,eQ,f,"created"),g}function nd(i,o,s,f,g,_){let b=eV;for(eV="";s<=f;++s)md(i[s],g,_);uc(o)&&(eV+="\n\n"),g.__lexicalTextContent=eV,eV=b+eV}function rd(i,o){return Yb(i=o.get(i))||z(i)&&i.isInline()}function pd(i,o,s){i=null!==i&&(0===i.__size||rd(i.__last,e2)),o=0===o.__size||rd(o.__last,e3),i?o||(null!=(o=s.__lexicalLineBreak)&&s.removeChild(o),s.__lexicalLineBreak=null):o&&(o=document.createElement("br"),s.__lexicalLineBreak=o,s.appendChild(o))}function od(i,o){var s=o.__lexicalDir;if(o.__lexicalDirTextContent!==eU||s!==eX){let _=""===eU;if(_)var f=eX;else f=eU,f=eI.test(f)?"rtl":eM.test(f)?"ltr":null;if(f!==s){let b=o.classList,T=ej.theme;var g=null!==s?T[s]:void 0;let S=null!==f?T[f]:void 0;void 0!==g&&("string"==typeof g&&(g=g.split(" "),g=T[s]=g),b.remove(...g)),null===f||_&&"ltr"===f?o.removeAttribute("dir"):(void 0!==S&&("string"==typeof S&&(s=S.split(" "),S=T[f]=s),void 0!==S&&b.add(...S)),o.dir=f),eJ||(i.getWritable().__dir=f)}eX=f,o.__lexicalDirTextContent=eU,o.__lexicalDir=f}}function hd(i,o){let s=[];for(i=i.__first;null!==i;){let f=o.get(i);void 0===f&&r(101),s.push(i),i=f.__next}return s}function qd(i,o){let s=eG._pendingDecorators,f=eG._decorators;if(null===s){if(f[i]===o)return;s=fc(eG)}s[i]=o}function td(i){return null!==(i=i.nextSibling)&&i===eG._blockCursorElement&&(i=i.nextSibling),i}function gd(i){let o=e5.get(i);return void 0===o&&r(75,i),o}let e6=Object.freeze({}),e8=[["keydown",function(i,o){if(e7=i.timeStamp,e9=i.keyCode,!o.isComposing()){var{keyCode:s,shiftKey:f,ctrlKey:b,metaKey:T,altKey:S}=i;if(!O(o,U,i)){if(39!==s||b||T||S){if(39!==s||S||f||!b&&!T){if(37!==s||b||T||S){if(37!==s||S||f||!b&&!T){if(38!==s||b||T){if(40!==s||b||T){if(13===s&&f)to=!0,O(o,er,i);else if(32===s)O(o,ei,i);else if(eb&&b&&79===s)i.preventDefault(),to=!0,O(o,_,!0);else if(13!==s||f){var N=eb?!S&&!T&&(8===s||72===s&&b):!b&&!S&&!T&&8===s;N?8===s?O(o,eo,i):(i.preventDefault(),O(o,g,!0)):27===s?O(o,el,i):(N=eb?!f&&!S&&!T&&(46===s||68===s&&b):!b&&!S&&!T&&46===s)?46===s?O(o,ea,i):(i.preventDefault(),O(o,g,!1)):8===s&&(eb?S:b)?(i.preventDefault(),O(o,A,!0)):46===s&&(eb?S:b)?(i.preventDefault(),O(o,A,!1)):eb&&T&&8===s?(i.preventDefault(),O(o,R,!0)):eb&&T&&46===s?(i.preventDefault(),O(o,R,!1)):66===s&&!S&&(eb?T:b)?(i.preventDefault(),O(o,$,"bold")):85===s&&!S&&(eb?T:b)?(i.preventDefault(),O(o,$,"underline")):73===s&&!S&&(eb?T:b)?(i.preventDefault(),O(o,$,"italic")):9!==s||S||b||T?90===s&&!f&&(eb?T:b)?(i.preventDefault(),O(o,W,void 0)):(N=eb?90===s&&T&&f:89===s&&b||90===s&&b&&f)?(i.preventDefault(),O(o,V,void 0)):Ud(o._editorState._selection)?(N=!f&&67===s&&(eb?T:b))?(i.preventDefault(),O(o,eg,i)):(N=!f&&88===s&&(eb?T:b))?(i.preventDefault(),O(o,em,i)):65===s&&(eb?T:b)&&(i.preventDefault(),O(o,e_,i)):!ek&&65===s&&(eb?T:b)&&(i.preventDefault(),O(o,e_,i)):O(o,es,i)}else to=!1,O(o,er,i)}else O(o,en,i)}else O(o,et,i)}else O(o,X,i)}else O(o,Z,i)}else O(o,Y,i)}else O(o,j,i);(b||f||S||T)&&O(o,eC,i)}}}],["pointerdown",function(i,o){let s=i.target;i=i.pointerType,s instanceof Node&&"touch"!==i&&w(o,()=>{z(ub(s))||(ti=!0)})}],["compositionstart",function(i,o){w(o,()=>{let s=v();if(C(s)&&!o.isComposing()){let f=s.anchor,g=s.anchor.getNode();H(f.key),(i.timeStamp<e7+30||"element"===f.type||!s.isCollapsed()||g.getFormat()!==s.format||g.getStyle()!==s.style)&&O(o,T,eA)}})}],["compositionend",function(i,o){ek?tl=!0:w(o,()=>{Td(o,i.data)})}],["input",function(i,o){i.stopPropagation(),w(o,()=>{var s=v(),f=i.data,g=Rd(i);if(null!=f&&C(s)&&Nd(s,g,f,i.timeStamp,!1)){tl&&(Td(o,f),tl=!1);var _=s.anchor,b=_.getNode();if(null===(g=vb(o._window)))return;let S=_.offset;(_=eT&&!s.isCollapsed()&&B(b)&&null!==g.anchorNode)&&(_=(b=b.getTextContent().slice(0,S)+f+b.getTextContent().slice(S+s.focus.offset))===(3===(g=g.anchorNode).nodeType?g.nodeValue:null)),_||O(o,T,f),f=f.length,ek&&1<f&&"insertCompositionText"===i.inputType&&!o.isComposing()&&(s.anchor.offset-=f),eS||eN||eO||!o.isComposing()||(e7=0,H(null))}else nc(!1,o,null!==f?f:void 0),tl&&(Td(o,f||void 0),tl=!1);G(),Ab(s=F())}),tt=null}],["click",function(i,o){w(o,()=>{let s=v();var g=vb(o._window);let _=oc();if(g){if(C(s)){let o=s.anchor;var b=o.getNode();"element"===o.type&&0===o.offset&&s.isCollapsed()&&!K(b)&&1===hc().getChildrenSize()&&b.getTopLevelElementOrThrow().isEmpty()&&null!==_&&s.is(_)?(g.removeAllRanges(),s.dirty=!0):3!==i.detail||s.isCollapsed()||b!==(g=s.focus.getNode())&&(D(b)?b.select(0):b.getParentOrThrow().select(0))}else"touch"===i.pointerType&&null!==(b=g.anchorNode)&&(1===(b=b.nodeType)||3===b)&&yb(g=Qd(_,g,o))}O(o,f,i)})}],["cut",e6],["copy",e6],["dragstart",e6],["dragover",e6],["dragend",e6],["paste",e6],["focus",e6],["blur",e6],["drop",e6]];eT&&e8.push(["beforeinput",(i,o)=>{let s,f;return s=i.inputType,f=Rd(i),void("deleteCompositionText"===s||ek&&zb(o)||"insertCompositionText"!==s&&w(o,()=>{let U=v();if("deleteContentBackward"===s){if(null===U){var j=oc();if(!C(j))return;yb(j.clone())}if(C(U)){229===e9&&i.timeStamp<e7+30&&o.isComposing()&&U.anchor.key===U.focus.key?(H(null),e7=0,setTimeout(()=>{w(o,()=>{H(null)})},30),C(U)&&((j=U.anchor.getNode()).markDirty(),U.format=j.getFormat(),U.style=j.getStyle())):(i.preventDefault(),O(o,g,!0));return}}if(C(U)){j=i.data,null!==tt&&nc(!1,o,tt),U.dirty&&null===tt||!U.isCollapsed()||K(U.anchor.getNode())||null===f||U.applyDOMRange(f),tt=null;var Y,Z=U.focus,X=U.anchor.getNode();if(Z=Z.getNode(),"insertText"===s||"insertTranspose"===s)"\n"===j?(i.preventDefault(),O(o,_,!1)):"\n\n"===j?(i.preventDefault(),O(o,b,void 0)):null==j&&i.dataTransfer?(j=i.dataTransfer.getData("text/plain"),i.preventDefault(),U.insertRawText(j)):null!=j&&Nd(U,f,j,i.timeStamp,!0)?(i.preventDefault(),O(o,T,j)):tt=j,te=i.timeStamp;else switch(i.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":O(o,T,i);break;case"insertFromComposition":H(null),O(o,T,i);break;case"insertLineBreak":H(null),O(o,_,!1);break;case"insertParagraph":H(null),to&&!eN?(to=!1,O(o,_,!1)):O(o,b,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":O(o,S,i);break;case"deleteByComposition":(X!==(Y=Z)||D(X)||D(Y)||!X.isToken()||!Y.isToken())&&O(o,N,i);break;case"deleteByDrag":case"deleteByCut":O(o,N,i);break;case"deleteContent":O(o,g,!1);break;case"deleteWordBackward":O(o,A,!0);break;case"deleteWordForward":O(o,A,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":O(o,R,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":O(o,R,!1);break;case"formatStrikeThrough":O(o,$,"strikethrough");break;case"formatBold":O(o,$,"bold");break;case"formatItalic":O(o,$,"italic");break;case"formatUnderline":O(o,$,"underline");break;case"historyUndo":O(o,W,void 0);break;case"historyRedo":O(o,V,void 0)}}}))}]);let e7=0,e9=0,te=0,tt=null,tn=0,tr=!1,ti=!1,to=!1,tl=!1,ta=[0,"",0,"root",0];function Nd(i,o,s,f,g){let _=i.anchor,b=i.focus,T=_.getNode();var S=F();let N=vb(S._window),A=null!==N?N.anchorNode:null,R=_.key;S=S.getElementByKey(R);let $=s.length;return R!==b.key||!B(T)||(!g&&(!eT||te<f+50)||T.isDirty()&&2>$||kc(s))&&_.offset!==b.offset&&!T.isComposing()||Ob(T)||T.isDirty()&&1<$||(g||!eT)&&null!==S&&!T.isComposing()&&A!==Vb(S)||null!==N&&null!==o&&(!o.collapsed||o.startContainer!==N.anchorNode||o.startOffset!==N.anchorOffset)||T.getFormat()!==i.format||T.getStyle()!==i.style||function(i,o){if(o.isSegmented())return!0;if(!i.isCollapsed())return!1;i=i.anchor.offset;let s=o.getParentOrThrow(),f=o.isToken();return 0===i?((i=!o.canInsertTextBefore()||!s.canInsertTextBefore()||f)||(i=(B(o=o.getPreviousSibling())||D(o)&&o.isInline())&&!o.canInsertTextAfter()),i):i===o.getTextContentSize()&&(!o.canInsertTextAfter()||!s.canInsertTextAfter()||f)}(i,T)}function Od(i,o){return null!==i&&null!==i.nodeValue&&3===i.nodeType&&0!==o&&o!==i.nodeValue.length}function Pd(i,o,f){let{anchorNode:g,anchorOffset:_,focusNode:b,focusOffset:T}=i;tr&&(tr=!1,Od(g,_)&&Od(b,T))||w(o,()=>{if(f){if(Lb(o,g,b)){var _=v();if(C(_)){var T=_.anchor,S=T.getNode();if(_.isCollapsed()){"Range"===i.type&&i.anchorNode===i.focusNode&&(_.dirty=!0);var N=Cb(o).event;N=N?N.timeStamp:performance.now();let[s,f,g,b,A]=ta;N<A+200&&T.offset===g&&T.key===b?(_.format=s,_.style=f):"text"===T.type?(_.format=S.getFormat(),_.style=S.getStyle()):"element"===T.type&&(_.format=0,_.style="")}else{T=255,S=!1;let i=(N=_.getNodes()).length;for(let o=0;o<i;o++){let i=N[o];if(B(i)&&(S=!0,0==(T&=i.getFormat())))break}_.format=S?T:0}}O(o,s,void 0)}}else yb(null)})}function Rd(i){return i.getTargetRanges?0===(i=i.getTargetRanges()).length?null:i[0]:null}function Td(i,o){var s=i._compositionKey;if(H(null),null!==s&&null!=o){if(""===o){o=I(s),null!==(i=Vb(i.getElementByKey(s)))&&null!==i.nodeValue&&B(o)&&wb(o,i.nodeValue,null,null,!0);return}if("\n"===o[o.length-1]&&C(s=v())){o=s.focus,s.anchor.set(o.key,o.offset,o.type),O(i,er,null);return}}nc(!0,i,o)}function Vd(i){let o=i.__lexicalEventHandles;return void 0===o&&(o=[],i.__lexicalEventHandles=o),o}let ts=new Map;function Xd(i){let o=vb(null==(i=i.target)?null:9===i.nodeType?i.defaultView:i.ownerDocument.defaultView);if(null!==o){var s=Mb(o.anchorNode);if(null!==s){ti&&(ti=!1,w(s,()=>{var i=oc(),f=o.anchorNode;null!==f&&(1===(f=f.nodeType)||3===f)&&yb(i=Qd(i,o,s))}));var f=(i=(i=lc(s))[i.length-1])._key,g=ts.get(f),_=g||i;_!==s&&Pd(o,_,!1),Pd(o,s,!0),s!==i?ts.set(f,s):g&&ts.delete(f)}}}function Zd(i,o,s){G();var f=i.__key;let g=i.getParent();if(null!==g){var _=v();if(C(_)&&D(i)){var{anchor:b,focus:T}=_,S=b.getNode(),N=T.getNode();wc(S,i)&&b.set(i.__key,0,"element"),wc(N,i)&&T.set(i.__key,0,"element")}if(N=!1,C(S=_)&&o){_=S.anchor;let o=S.focus;_.key===f&&($d(_,i,g,i.getPreviousSibling(),i.getNextSibling()),N=!0),o.key===f&&($d(o,i,g,i.getPreviousSibling(),i.getNextSibling()),N=!0)}else Ud(S)&&o&&i.isSelected()&&i.selectPrevious();C(S)&&o&&!N?(f=i.getIndexWithinParent(),bc(i),ae(S,g,f,-1)):bc(i),s||yc(g)||g.canBeEmpty()||!g.isEmpty()||Zd(g,o),o&&K(g)&&g.isEmpty()&&g.selectEnd()}}let be=class be{static getType(){r(64,this.name)}static clone(){r(65,this.name)}constructor(i){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Zb(this,i)}getType(){return this.__type}isAttached(){for(var i=this.__key;null!==i;){if("root"===i)return!0;if(null===(i=I(i)))break;i=i.__parent}return!1}isSelected(i){if(null==(i=i||v()))return!1;let o=i.getNodes().some(i=>i.__key===this.__key);return B(this)?o:(!C(i)||"element"!==i.anchor.type||"element"!==i.focus.type||i.anchor.key!==i.focus.key||i.anchor.offset!==i.focus.offset)&&o}getKey(){return this.__key}getIndexWithinParent(){var i=this.getParent();if(null===i)return -1;i=i.getFirstChild();let o=0;for(;null!==i;){if(this.is(i))return o;o++,i=i.getNextSibling()}return -1}getParent(){let i=this.getLatest().__parent;return null===i?null:I(i)}getParentOrThrow(){let i=this.getParent();return null===i&&r(66,this.__key),i}getTopLevelElement(){let i=this;for(;null!==i;){let o=i.getParent();if(yc(o))return i;i=o}return null}getTopLevelElementOrThrow(){let i=this.getTopLevelElement();return null===i&&r(67,this.__key),i}getParents(){let i=[],o=this.getParent();for(;null!==o;)i.push(o),o=o.getParent();return i}getParentKeys(){let i=[],o=this.getParent();for(;null!==o;)i.push(o.__key),o=o.getParent();return i}getPreviousSibling(){let i=this.getLatest().__prev;return null===i?null:I(i)}getPreviousSiblings(){let i=[];var o=this.getParent();if(null===o)return i;for(o=o.getFirstChild();null!==o&&!o.is(this);)i.push(o),o=o.getNextSibling();return i}getNextSibling(){let i=this.getLatest().__next;return null===i?null:I(i)}getNextSiblings(){let i=[],o=this.getNextSibling();for(;null!==o;)i.push(o),o=o.getNextSibling();return i}getCommonAncestor(i){let o=this.getParents();var s=i.getParents();D(this)&&o.unshift(this),D(i)&&s.unshift(i),i=o.length;var f=s.length;if(0===i||0===f||o[i-1]!==s[f-1])return null;for(f=0,s=new Set(s);f<i;f++){let i=o[f];if(s.has(i))return i}return null}is(i){return null!=i&&this.__key===i.__key}isBefore(i){if(this===i)return!1;if(i.isParentOf(this))return!0;if(this.isParentOf(i))return!1;var o=this.getCommonAncestor(i);let s=this;for(;;){var f=s.getParentOrThrow();if(f===o){f=s.getIndexWithinParent();break}s=f}for(s=i;;){if((i=s.getParentOrThrow())===o){o=s.getIndexWithinParent();break}s=i}return f<o}isParentOf(i){let o=this.__key;if(o===i.__key)return!1;for(;null!==i;){if(i.__key===o)return!0;i=i.getParent()}return!1}getNodesBetween(i){let o=this.isBefore(i),s=[],f=new Set;for(var g=this;;){var _=g.__key;if(f.has(_)||(f.add(_),s.push(g)),g===i)break;if(null!==(_=D(g)?o?g.getFirstChild():g.getLastChild():null))g=_;else if(null!==(_=o?g.getNextSibling():g.getPreviousSibling()))g=_;else{if(g=g.getParentOrThrow(),f.has(g.__key)||s.push(g),g===i)break;_=g;do null===_&&r(68),g=o?_.getNextSibling():_.getPreviousSibling(),null!==(_=_.getParent())&&(null!==g||f.has(_.__key)||s.push(_));while(null===g)}}return o||s.reverse(),s}isDirty(){let i=F()._dirtyLeaves;return null!==i&&i.has(this.__key)}getLatest(){let i=I(this.__key);return null===i&&r(113),i}getWritable(){G();var i=ac(),o=F();i=i._nodeMap;let s=this.__key,f=this.getLatest(),g=f.__parent;o=o._cloneNotNeeded;var _=v();return(null!==_&&(_._cachedNodes=null),o.has(s))?(cc(f),f):((_=f.constructor.clone(f)).__parent=g,_.__next=f.__next,_.__prev=f.__prev,D(f)&&D(_)?(_.__first=f.__first,_.__last=f.__last,_.__size=f.__size,_.__indent=f.__indent,_.__format=f.__format,_.__dir=f.__dir):B(f)&&B(_)&&(_.__format=f.__format,_.__style=f.__style,_.__mode=f.__mode,_.__detail=f.__detail),o.add(s),_.__key=s,cc(_),i.set(s,_),_)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){r(70)}updateDOM(){r(71)}exportDOM(i){return{element:this.createDOM(i._config,i)}}exportJSON(){r(72)}static importJSON(){r(18,this.name)}static transform(){return null}remove(i){Zd(this,!0,i)}replace(i,o){G();var s=v();null!==s&&(s=s.clone()),Bc(this,i);let f=this.getLatest(),g=this.__key,_=i.__key,b=i.getWritable(),T=(i=this.getParentOrThrow().getWritable()).__size;bc(b);let S=f.getPreviousSibling(),N=f.getNextSibling(),A=f.__prev,R=f.__next,$=f.__parent;return Zd(f,!1,!0),null===S?i.__first=_:S.getWritable().__next=_,b.__prev=A,null===N?i.__last=_:N.getWritable().__prev=_,b.__next=R,b.__parent=$,i.__size=T,o&&this.getChildren().forEach(i=>{b.append(i)}),C(s)&&(yb(s),o=s.anchor,s=s.focus,o.key===g&&ce(o,b),s.key===g&&ce(s,b)),dc()===g&&H(_),b}insertAfter(i,o=!0){G(),Bc(this,i);var s=this.getWritable();let f=i.getWritable();var g=f.getParent();let _=v();var b=!1,T=!1;if(null!==g){var S=i.getIndexWithinParent();bc(f),C(_)&&(T=g.__key,b=_.anchor,g=_.focus,b="element"===b.type&&b.key===T&&b.offset===S+1,T="element"===g.type&&g.key===T&&g.offset===S+1)}g=this.getNextSibling(),S=this.getParentOrThrow().getWritable();let N=f.__key,A=s.__next;return null===g?S.__last=N:g.getWritable().__prev=N,S.__size++,s.__next=N,f.__next=A,f.__prev=s.__key,f.__parent=s.__parent,o&&C(_)&&(ae(_,S,(o=this.getIndexWithinParent())+1),s=S.__key,b&&_.anchor.set(s,o+2,"element"),T&&_.focus.set(s,o+2,"element")),i}insertBefore(i,o=!0){G(),Bc(this,i);var s=this.getWritable();let f=i.getWritable(),g=f.__key;bc(f);let _=this.getPreviousSibling(),b=this.getParentOrThrow().getWritable(),T=s.__prev,S=this.getIndexWithinParent();return null===_?b.__first=g:_.getWritable().__next=g,b.__size++,s.__prev=g,f.__prev=T,f.__next=s.__key,f.__parent=s.__parent,s=v(),o&&C(s)&&ae(s,o=this.getParentOrThrow(),S),i}isParentRequired(){return!1}createParentElementNode(){return de()}selectPrevious(i,o){G();let s=this.getPreviousSibling(),f=this.getParentOrThrow();return null===s?f.select(0,0):D(s)?s.select():B(s)?s.select(i,o):(i=s.getIndexWithinParent()+1,f.select(i,i))}selectNext(i,o){G();let s=this.getNextSibling(),f=this.getParentOrThrow();return null===s?f.select():D(s)?s.select(0,0):B(s)?s.select(i,o):(i=s.getIndexWithinParent(),f.select(i,i))}markDirty(){this.getWritable()}};let ee=class ee extends be{static getType(){return"linebreak"}static clone(i){return new ee(i.__key)}constructor(i){super(i)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:i=>{let o=i.parentElement,s,f;return null!==o&&((s=o.firstChild)===i||s.nextSibling===i&&3===s.nodeType&&null!==(s.textContent||"").match(/^( |\t|\r?\n)+$/))&&((f=o.lastChild)===i||f.previousSibling===i&&3===f.nodeType&&null!==(f.textContent||"").match(/^( |\t|\r?\n)+$/))?null:{conversion:fe,priority:0}}}}static importJSON(){return ge()}exportJSON(){return{type:"linebreak",version:1}}};function fe(){return{node:ge()}}function ge(){return Ac(new ee)}function Yb(i){return i instanceof ee}function he(i,o){return 16&o?"code":128&o?"mark":32&o?"sub":64&o?"sup":null}function ie(i,o){return 1&o?"strong":2&o?"em":"span"}function je(i,o,s,f,g){i=f.classList,void 0!==(f=qc(g,"base"))&&i.add(...f);let _=!1,b=8&o&&4&o;var T=8&s&&4&s;for(let S in void 0!==(f=qc(g,"underlineStrikethrough"))&&(T?(_=!0,b||i.add(...f)):b&&i.remove(...f)),eR)T=eR[S],void 0!==(f=qc(g,S))&&(s&T?_&&("underline"===S||"strikethrough"===S)?o&T&&i.remove(...f):(0==(o&T)||b&&"underline"===S||"strikethrough"===S)&&i.add(...f):o&T&&i.remove(...f))}function ke(i,o,s){let f=o.firstChild;if(i+=(s=s.isComposing())?eD:"",null==f)o.textContent=i;else if((o=f.nodeValue)!==i){if(s||ek){s=o.length;let g=i.length,_=0,b=0;for(;_<s&&_<g&&o[_]===i[_];)_++;for(;b+_<s&&b+_<g&&o[s-b-1]===i[g-b-1];)b++;let[T,S,N]=i=[_,s-_-b,i.slice(_,g-b)];0!==S&&f.deleteData(T,S),f.insertData(T,N)}else f.nodeValue=i}}function le(i,o){return(o=document.createElement(o)).appendChild(i),o}let me=class me extends be{static getType(){return"text"}static clone(i){return new me(i.__text,i.__key)}constructor(i,o){super(o),this.__text=i,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return eB[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===dc()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(i){return i=eR[i],0!=(this.getFormat()&i)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(i,o){return Wb(this.getLatest().__format,i,o)}createDOM(i){var o=this.__format,s=he(this,o);let f=ie(this,o),g=document.createElement(null===s?f:s),_=g;return this.hasFormat("code")&&g.setAttribute("spellcheck","false"),null!==s&&(_=document.createElement(f),g.appendChild(_)),s=_,ke(this.__text,s,this),void 0!==(i=i.theme.text)&&je(f,0,o,s,i),""!==(o=this.__style)&&(g.style.cssText=o),g}updateDOM(i,o,s){let f=this.__text;var g=i.__format,_=this.__format,b=he(this,g);let T=he(this,_);var S=ie(this,g);let N=ie(this,_);return(null===b?S:b)!==(null===T?N:T)||(b===T&&S!==N?(null==(g=o.firstChild)&&r(48),ke(f,i=b=document.createElement(N),this),void 0!==(s=s.theme.text)&&je(N,0,_,i,s),o.replaceChild(b,g)):(S=o,null!==T&&null!==b&&null==(S=o.firstChild)&&r(49),ke(f,S,this),void 0!==(s=s.theme.text)&&g!==_&&je(N,g,_,S,s),_=this.__style,i.__style!==_&&(o.style.cssText=_)),!1)}static importDOM(){return{"#text":()=>({conversion:ne,priority:0}),b:()=>({conversion:oe,priority:0}),code:()=>({conversion:pe,priority:0}),em:()=>({conversion:pe,priority:0}),i:()=>({conversion:pe,priority:0}),s:()=>({conversion:pe,priority:0}),span:()=>({conversion:qe,priority:0}),strong:()=>({conversion:pe,priority:0}),sub:()=>({conversion:pe,priority:0}),sup:()=>({conversion:pe,priority:0}),u:()=>({conversion:pe,priority:0})}}static importJSON(i){let o=J(i.text);return o.setFormat(i.format),o.setDetail(i.detail),o.setMode(i.mode),o.setStyle(i.style),o}exportDOM(i){return{element:i}=super.exportDOM(i),null!==i&&Hc(i)||r(132),i.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(i=le(i,"b")),this.hasFormat("italic")&&(i=le(i,"i")),this.hasFormat("strikethrough")&&(i=le(i,"s")),this.hasFormat("underline")&&(i=le(i,"u")),{element:i}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(i){let o=this.getWritable();return o.__format="string"==typeof i?eR[i]:i,o}setDetail(i){let o=this.getWritable();return o.__detail="string"==typeof i?eP[i]:i,o}setStyle(i){let o=this.getWritable();return o.__style=i,o}toggleFormat(i){return i=eR[i],this.setFormat(this.getFormat()^i)}toggleDirectionless(){let i=this.getWritable();return i.__detail^=1,i}toggleUnmergeable(){let i=this.getWritable();return i.__detail^=2,i}setMode(i){if(i=eF[i],this.__mode===i)return this;let o=this.getWritable();return o.__mode=i,o}setTextContent(i){if(this.__text===i)return this;let o=this.getWritable();return o.__text=i,o}select(i,o){G();let s=v();var f=this.getTextContent();let g=this.__key;return("string"==typeof f?(f=f.length,void 0===i&&(i=f),void 0===o&&(o=f)):o=i=0,C(s))?((f=dc())!==s.anchor.key&&f!==s.focus.key||H(g),s.setTextNodeRange(this,i,this,o),s):re(g,i,g,o,"text","text")}spliceText(i,o,s,f){let g=this.getWritable(),_=g.__text,b=s.length,T=i;0>T&&0>(T=b+T)&&(T=0);let S=v();return f&&C(S)&&(i+=b,S.setTextNodeRange(g,i,g,i)),o=_.slice(0,T)+s+_.slice(T+o),g.__text=o,g}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...i){G();var o=this.getLatest(),s=o.getTextContent(),f=o.__key,g=dc(),_=new Set(i);i=[];for(var b=s.length,T="",S=0;S<b;S++)""!==T&&_.has(S)&&(i.push(T),T=""),T+=s[S];if(""!==T&&i.push(T),0===(_=i.length))return[];if(i[0]===s)return[o];var N=i[0];s=o.getParentOrThrow(),S=o.getFormat();let A=o.getStyle(),R=o.__detail;b=!1,o.isSegmented()?((T=J(N)).__format=S,T.__style=A,T.__detail=R,b=!0):(T=o.getWritable()).__text=N,o=v(),T=[T],N=N.length;for(let s=1;s<_;s++){var $=i[s],W=$.length;($=J($).getWritable()).__format=S,$.__style=A,$.__detail=R;let _=$.__key;if(W=N+W,C(o)){let i=o.anchor,s=o.focus;i.key===f&&"text"===i.type&&i.offset>N&&i.offset<=W&&(i.key=_,i.offset-=N,o.dirty=!0),s.key===f&&"text"===s.type&&s.offset>N&&s.offset<=W&&(s.key=_,s.offset-=N,o.dirty=!0)}g===f&&H(_),N=W,T.push($)}return f=this.getPreviousSibling(),g=this.getNextSibling(),null!==f&&cc(f),null!==g&&cc(g),f=s.getWritable(),g=this.getIndexWithinParent(),b?(f.splice(g,0,T),this.remove()):f.splice(g,1,T),C(o)&&ae(o,s,g,_-1),T}mergeWithSibling(i){var o=i===this.getPreviousSibling();o||i===this.getNextSibling()||r(50);var s=this.__key;let f=i.__key,g=this.__text,_=g.length;dc()===f&&H(s);let b=v();if(C(b)){let g=b.anchor,T=b.focus;null!==g&&g.key===f&&(se(g,o,s,i,_),b.dirty=!0),null!==T&&T.key===f&&(se(T,o,s,i,_),b.dirty=!0)}return s=i.__text,this.setTextContent(o?s+g:g+s),o=this.getWritable(),i.remove(),o}isTextEntity(){return!1}};function qe(i){let o="700"===i.style.fontWeight,s="line-through"===i.style.textDecoration,f="italic"===i.style.fontStyle,g="underline"===i.style.textDecoration,_=i.style.verticalAlign;return{forChild:i=>(B(i)&&(o&&i.toggleFormat("bold"),s&&i.toggleFormat("strikethrough"),f&&i.toggleFormat("italic"),g&&i.toggleFormat("underline"),"sub"===_&&i.toggleFormat("subscript"),"super"===_&&i.toggleFormat("superscript")),i),node:null}}function oe(i){let o="normal"===i.style.fontWeight;return{forChild:i=>(B(i)&&!o&&i.toggleFormat("bold"),i),node:null}}let tu=new WeakMap;function ne(i){null===i.parentElement&&r(129);for(var o,s=i.textContent||"",f=i.parentNode,g=[i];null!==f&&void 0===(o=tu.get(f))&&!("PRE"===f.nodeName||1===f.nodeType&&f.style.whiteSpace.startsWith("pre"));)g.push(f),f=f.parentNode;for(o=void 0===o?f:o,f=0;f<g.length;f++)tu.set(g[f],o);if(null!==o){for(o=0,s=s.split(/(\r?\n|\t)/),i=[],g=s.length;o<g;o++)"\n"===(f=s[o])||"\r\n"===f?i.push(ge()):"	"===f?i.push(ue()):""!==f&&i.push(J(f));return{node:i}}if(""===(s=s.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===s[0]){for(g=i,o=!0;null!==g&&null!==(g=ve(g,!1));)if(0<(f=g.textContent||"").length){/[ \t\n]$/.test(f)&&(s=s.slice(1)),o=!1;break}o&&(s=s.slice(1))}if(" "===s[s.length-1]){for(g=!0;null!==i&&null!==(i=ve(i,!0));)if(0<(i.textContent||"").replace(/^( |\t|\r?\n)+/,"").length){g=!1;break}g&&(s=s.slice(0,s.length-1))}return""===s?{node:null}:{node:J(s)}}let tp=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function ve(i,o){for(;;){for(var s=void 0;null===(s=o?i.nextSibling:i.previousSibling);)if(null===(i=i.parentElement))return null;if(1===(i=s).nodeType&&(""===(s=i.style.display)&&null===i.nodeName.match(tp)||""!==s&&!s.startsWith("inline")))return null;for(;null!==(s=o?i.firstChild:i.lastChild);)i=s;if(3===i.nodeType)return i;if("BR"===i.nodeName)return null}}let th={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function pe(i){let o=th[i.nodeName.toLowerCase()];return void 0===o?{node:null}:{forChild:i=>(B(i)&&!i.hasFormat(o)&&i.toggleFormat(o),i),node:null}}function J(i=""){return Ac(new me(i))}function B(i){return i instanceof me}let ye=class ye extends me{static getType(){return"tab"}static clone(i){let o=new ye(i.__key);return o.__text=i.__text,o.__format=i.__format,o.__style=i.__style,o}constructor(i){super("	",i),this.__detail=2}static importDOM(){return null}static importJSON(i){let o=ue();return o.setFormat(i.format),o.setStyle(i.style),o}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){r(126)}setDetail(){r(127)}setMode(){r(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}};function ue(){return Ac(new ye)}let ze=class ze{constructor(i,o,s){this._selection=null,this.key=i,this.offset=o,this.type=s}is(i){return this.key===i.key&&this.offset===i.offset&&this.type===i.type}isBefore(i){let o=this.getNode(),s=i.getNode(),f=this.offset;if(i=i.offset,D(o)){var g=o.getDescendantByIndex(f);o=null!=g?g:o}return D(s)&&(s=null!=(g=s.getDescendantByIndex(i))?g:s),o===s?f<i:o.isBefore(s)}getNode(){let i=I(this.key);return null===i&&r(20),i}set(i,o,s){let f=this._selection,g=this.key;this.key=i,this.offset=o,this.type=s,ec()||(dc()===g&&H(i),null!==f&&(f._cachedNodes=null,f.dirty=!0))}};function Ae(i,o){let s=o.__key,f=i.offset,g="element";if(B(o))g="text",f>(o=o.getTextContentSize())&&(f=o);else if(!D(o)){var _=o.getNextSibling();B(_)?(s=_.__key,f=0,g="text"):(_=o.getParent())&&(s=_.__key,f=o.getIndexWithinParent()+1)}i.set(s,f,g)}function ce(i,o){if(D(o)){let s=o.getLastDescendant();D(s)||B(s)?Ae(i,s):Ae(i,o)}else Ae(i,o)}function Be(i,o,s,f){let g=i.getNode(),_=g.getChildAtIndex(i.offset),b=J(),T=K(g)?de().append(b):b;b.setFormat(s),b.setStyle(f),null===_?g.append(T):(_.insertBefore(T),"element"===o.type&&o.key===i.key&&o.offset!==i.offset&&o.set(o.key,o.offset+1,"element")),i.is(o)&&o.set(b.__key,0,"text"),i.set(b.__key,0,"text")}function Ce(i,o,s,f){i.key=o,i.offset=s,i.type=f}let De=class De{constructor(i){this.dirty=!1,this._nodes=i,this._cachedNodes=null}is(i){if(!Ud(i))return!1;let o=this._nodes,s=i._nodes;return o.size===s.size&&Array.from(o).every(i=>s.has(i))}add(i){this.dirty=!0,this._nodes.add(i),this._cachedNodes=null}delete(i){this.dirty=!0,this._nodes.delete(i),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(i){return this._nodes.has(i)}clone(){return new De(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(i,o){let s=this.getNodes(),f=s.length;var g=s[f-1];if(B(g))g=g.select();else{let i=g.getIndexWithinParent()+1;g=g.getParentOrThrow().select(i,i)}for(g.insertNodes(i,o),i=0;i<f;i++)s[i].remove();return!0}getNodes(){var i=this._cachedNodes;if(null!==i)return i;var o=this._nodes;for(let s of(i=[],o))null!==(o=I(s))&&i.push(o);return ec()||(this._cachedNodes=i),i}getTextContent(){let i=this.getNodes(),o="";for(let s=0;s<i.length;s++)o+=i[s].getTextContent();return o}};function C(i){return i instanceof Ne}function Oe(i){let[o,,s]=Pe(i),f=(i=s.getChildren()).length;var g=i[0].getChildren().length;let _=Array(f);for(var b=0;b<f;b++)_[b]=Array(g);for(g=0;g<f;g++){b=i[g].getChildren();let s=0;for(let i=0;i<b.length;i++){for(;_[g][s];)s++;let f=b[i],T=f.__rowSpan||1,S=f.__colSpan||1;for(let i=0;i<T;i++)for(let o=0;o<S;o++)_[g+i][s+o]=f;if(o===f)return{colSpan:S,columnIndex:s,rowIndex:g,rowSpan:T};s+=S}}return null}let Qe=class Qe{constructor(i,o,s){this.gridKey=i,this.anchor=o,this.focus=s,this.dirty=!1,this._cachedNodes=null,o._selection=this,s._selection=this}is(i){return!!Re(i)&&this.gridKey===i.gridKey&&this.anchor.is(i.anchor)&&this.focus.is(i.focus)}set(i,o,s){this.dirty=!0,this.gridKey=i,this.anchor.key=o,this.focus.key=s,this._cachedNodes=null}clone(){return new Qe(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Se(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(i,o){let s=this.focus.getNode();return Gb(s.select(0,s.getChildrenSize())).insertNodes(i,o)}getShape(){var i=I(this.anchor.key);if(P(i)||r(103),null===(i=Oe(i)))throw Error("getCellRect: expected to find AnchorNode");var o=I(this.focus.key);P(o)||r(104);let s=Oe(o);if(null===s)throw Error("getCellRect: expected to find focusCellNode");o=Math.min(i.columnIndex,s.columnIndex);let f=Math.max(i.columnIndex,s.columnIndex),g=Math.min(i.rowIndex,s.rowIndex);return{fromX:Math.min(o,f),fromY:Math.min(g,i=Math.max(i.rowIndex,s.rowIndex)),toX:Math.max(o,f),toY:Math.max(g,i)}}getNodes(){function a(i){let{cell:o,startColumn:s,startRow:f}=i;b=Math.min(b,s),T=Math.min(T,f),S=Math.max(S,s+o.__colSpan-1),N=Math.max(N,f+o.__rowSpan-1)}var i=this._cachedNodes;if(null!==i)return i;var o=this.anchor.getNode();i=this.focus.getNode(),o=Fc(o,P);var s=Fc(i,P);P(o)||r(103),P(s)||r(104),Te(i=o.getParent())||r(105),Ue(i=i.getParent())||r(106);let[f,g,_]=Ve(i,o,s),b=Math.min(g.startColumn,_.startColumn),T=Math.min(g.startRow,_.startRow),S=Math.max(g.startColumn+g.cell.__colSpan-1,_.startColumn+_.cell.__colSpan-1),N=Math.max(g.startRow+g.cell.__rowSpan-1,_.startRow+_.cell.__rowSpan-1);o=b,s=T;for(var A=b,R=T;b<o||T<s||S>A||N>R;){if(b<o){var $=R-s;--o;for(var W=0;W<=$;W++)a(f[s+W][o])}if(T<s)for($=A-o,--s,W=0;W<=$;W++)a(f[s][o+W]);if(S>A)for($=R-s,A+=1,W=0;W<=$;W++)a(f[s+W][A]);if(N>R)for($=A-o,R+=1,W=0;W<=$;W++)a(f[R][o+W])}for(i=[i],o=null,s=T;s<=N;s++)for(A=b;A<=S;A++)({cell:R}=f[s][A]),Te($=R.getParent())||r(107),$!==o&&i.push($),i.push(R,...function(i){let o=[],s=[i];for(;0<s.length;){let f=s.pop();void 0===f&&r(112),D(f)&&s.unshift(...f.getChildren()),f!==i&&o.push(f)}return o}(R)),o=$;return ec()||(this._cachedNodes=i),i}getTextContent(){let i=this.getNodes(),o="";for(let s=0;s<i.length;s++)o+=i[s].getTextContent();return o}};function Re(i){return i instanceof Qe}let Ne=class Ne{constructor(i,o,s,f){this.anchor=i,this.focus=o,this.dirty=!1,this.format=s,this.style=f,this._cachedNodes=null,i._selection=this,o._selection=this}is(i){return!!C(i)&&this.anchor.is(i.anchor)&&this.focus.is(i.focus)&&this.format===i.format&&this.style===i.style}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var i=this._cachedNodes;if(null!==i)return i;i=this.anchor;var o=this.focus,s=i.isBefore(o),f=s?i:o;s=s?o:i,i=f.getNode(),o=s.getNode();let g=f.offset;return f=s.offset,D(i)&&(i=null!=(s=i.getDescendantByIndex(g))?s:i),D(o)&&(null!==(s=o.getDescendantByIndex(f))&&s!==i&&o.getChildAtIndex(f)===s&&(s=s.getPreviousSibling()),o=null!=s?s:o),i=i.is(o)?D(i)&&0<i.getChildrenSize()?[]:[i]:i.getNodesBetween(o),ec()||(this._cachedNodes=i),i}setTextNodeRange(i,o,s,f){Ce(this.anchor,i.__key,o,"text"),Ce(this.focus,s.__key,f,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let i=this.getNodes();if(0===i.length)return"";let o=i[0],s=i[i.length-1],f=this.anchor,g=this.focus,_=f.isBefore(g),[b,T]=Se(this),S="",N=!0;for(let A=0;A<i.length;A++){let R=i[A];if(D(R)&&!R.isInline())N||(S+="\n"),N=!R.isEmpty();else if(N=!1,B(R)){let i=R.getTextContent();R===o?R===s?("element"!==f.type||"element"!==g.type||g.offset===f.offset)&&(i=b<T?i.slice(b,T):i.slice(T,b)):i=_?i.slice(b):i.slice(T):R===s&&(i=_?i.slice(0,T):i.slice(0,b)),S+=i}else!z(R)&&!Yb(R)||R===s&&this.isCollapsed()||(S+=R.getTextContent())}return S}applyDOMRange(i){let o=F(),s=o.getEditorState()._selection;if(null!==(i=We(i.startContainer,i.startOffset,i.endContainer,i.endOffset,o,s))){var[f,g]=i;Ce(this.anchor,f.key,f.offset,f.type),Ce(this.focus,g.key,g.offset,g.type),this._cachedNodes=null}}clone(){let i=this.anchor,o=this.focus;return new Ne(new ze(i.key,i.offset,i.type),new ze(o.key,o.offset,o.type),this.format,this.style)}toggleFormat(i){this.format=Wb(this.format,i,null),this.dirty=!0}setStyle(i){this.style=i,this.dirty=!0}hasFormat(i){return 0!=(this.format&eR[i])}insertRawText(i){i=i.split(/(\r?\n|\t)/);let o=[],s=i.length;for(let f=0;f<s;f++){let s=i[f];"\n"===s||"\r\n"===s?o.push(ge()):"	"===s?o.push(ue()):o.push(J(s))}this.insertNodes(o)}insertText(i){var o=this.anchor,s=this.focus,f=this.isCollapsed()||o.isBefore(s),g=this.format,_=this.style;f&&"element"===o.type?Be(o,s,g,_):f||"element"!==s.type||Be(s,o,g,_);var b=this.getNodes(),T=b.length,S=f?s:o;s=(f?o:s).offset;var N=S.offset;B(o=b[0])||r(26),f=o.getTextContent().length;var A=o.getParentOrThrow(),R=b[T-1];if(this.isCollapsed()&&s===f&&(o.isSegmented()||o.isToken()||!o.canInsertTextAfter()||!A.canInsertTextAfter()&&null===o.getNextSibling())){var $=o.getNextSibling();if(B($)&&$.canInsertTextBefore()&&!Ob($)||(($=J()).setFormat(g),A.canInsertTextAfter()?o.insertAfter($):A.insertAfter($)),$.select(0,0),o=$,""!==i){this.insertText(i);return}}else if(this.isCollapsed()&&0===s&&(o.isSegmented()||o.isToken()||!o.canInsertTextBefore()||!A.canInsertTextBefore()&&null===o.getPreviousSibling())){if((!B($=o.getPreviousSibling())||Ob($))&&(($=J()).setFormat(g),A.canInsertTextBefore()?o.insertBefore($):A.insertBefore($)),$.select(),o=$,""!==i){this.insertText(i);return}}else if(o.isSegmented()&&s!==f)(A=J(o.getTextContent())).setFormat(g),o.replace(A),o=A;else if(!(this.isCollapsed()||""===i||($=R.getParent(),A.canInsertTextBefore()&&A.canInsertTextAfter()&&(!D($)||$.canInsertTextBefore()&&$.canInsertTextAfter())))){this.insertText(""),Xe(this.anchor,this.focus,null),this.insertText(i);return}if(1===T){if(o.isToken())(i=J(i)).select(),o.replace(i);else{if(b=o.getFormat(),T=o.getStyle(),s===N&&(b!==g||T!==_)){if(""===o.getTextContent())o.setFormat(g),o.setStyle(_);else{(b=J(i)).setFormat(g),b.setStyle(_),b.select(),0===s?o.insertBefore(b,!1):([T]=o.splitText(s),T.insertAfter(b,!1)),b.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=i.length);return}}""===(o=o.spliceText(s,N-s,i,!0)).getTextContent()?o.remove():"text"===this.anchor.type&&(o.isComposing()?this.anchor.offset-=i.length:(this.format=b,this.style=T))}}else{if(g=new Set([...o.getParentKeys(),...R.getParentKeys()]),$=D(o)?o:o.getParentOrThrow(),_=D(R)?R:R.getParentOrThrow(),A=R,!$.is(_)&&_.isInline())do A=_,_=_.getParentOrThrow();while(_.isInline());if("text"===S.type&&(0!==N||""===R.getTextContent())||"element"===S.type&&R.getIndexWithinParent()<N){if(B(R)&&!R.isToken()&&N!==R.getTextContentSize()){if(R.isSegmented()){var W=J(R.getTextContent());R.replace(W),R=W}K(S.getNode())||(R=R.spliceText(0,N,"")),g.add(R.__key)}else(S=R.getParentOrThrow()).canBeEmpty()||1!==S.getChildrenSize()?R.remove():S.remove()}else g.add(R.__key);for(S=_.getChildren(),N=new Set(b),R=$.is(_),$=$.isInline()&&null===o.getNextSibling()?$:o,W=S.length-1;0<=W;W--){let i=S[W];if(i.is(o)||D(i)&&i.isParentOf(o))break;i.isAttached()&&(!N.has(i)||i.is(A)?R||$.insertAfter(i,!1):i.remove())}if(!R)for(S=_,N=null;null!==S;)(0===(R=(_=S.getChildren()).length)||_[R-1].is(N))&&(g.delete(S.__key),N=S),S=S.getParent();for(o.isToken()?s===f?o.select():((i=J(i)).select(),o.replace(i)):""===(o=o.spliceText(s,f-s,i,!0)).getTextContent()?o.remove():o.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=i.length),i=1;i<T;i++)o=b[i],g.has(o.__key)||o.remove()}}removeText(){this.insertText("")}formatText(i){if(this.isCollapsed())this.toggleFormat(i),H(null);else{var o=this.getNodes(),s=[];for(var f of o)B(f)&&s.push(f);var g=s.length;if(0===g)this.toggleFormat(i),H(null);else{f=this.anchor;var _=this.focus,b=this.isBackward();o=b?_:f,f=b?f:_;var T=0,S=s[0];if(_="element"===o.type?0:o.offset,"text"===o.type&&_===S.getTextContentSize()&&(T=1,S=s[1],_=0),null!=S){b=S.getFormatFlags(i,null);var N=g-1,A=s[N];if(g="text"===f.type?f.offset:A.getTextContentSize(),S.is(A))_!==g&&(0===_&&g===S.getTextContentSize()?S.setFormat(b):(i=S.splitText(_,g),(i=0===_?i[0]:i[1]).setFormat(b),"text"===o.type&&o.set(i.__key,0,"text"),"text"===f.type&&f.set(i.__key,g-_,"text")),this.format=b);else{0!==_&&([,S]=S.splitText(_),_=0),S.setFormat(b);var R=A.getFormatFlags(i,b);for(0<g&&(g!==A.getTextContentSize()&&([A]=A.splitText(g)),A.setFormat(R)),T+=1;T<N;T++){let o=s[T];if(!o.isToken()){let s=o.getFormatFlags(i,R);o.setFormat(s)}}"text"===o.type&&o.set(S.__key,_,"text"),"text"===f.type&&f.set(A.__key,g,"text"),this.format=b|R}}}}}insertNodes(i,o){if(!this.isCollapsed()){var s=this.isBackward()?this.anchor:this.focus,f=s.getNode().getNextSibling();if(f=f?f.getKey():null,s=(s=s.getNode().getPreviousSibling())?s.getKey():null,this.removeText(),this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===f&&0===this.focus.offset){var g=J();this.focus.getNode().insertBefore(g)}else this.focus.key===s&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(g=J(),this.focus.getNode().insertAfter(g));g&&(this.focus.set(g.__key,0,"text"),this.anchor.set(g.__key,0,"text"))}}s=(g=this.anchor).offset;var _=g.getNode();f=_,"element"===g.type&&(f=null===(f=(g=g.getNode()).getChildAtIndex(s-1))?g:f),g=[];var b=_.getNextSiblings(),T=yc(_)?null:_.getTopLevelElementOrThrow();if(B(_)){if(f=_.getTextContent().length,0===s&&0!==f)f=null!==(f=_.getPreviousSibling())?f:_.getParentOrThrow(),g.push(_);else if(s===f)f=_;else{if(_.isToken())return!1;[f,_]=_.splitText(s),g.push(_)}}_=f,g.push(...b),b=i[0];var S=!1,N=null;for(let o=0;o<i.length;o++){var A=i[o];if(yc(f)||z(f)||!D(A)||A.isInline())S&&!D(A)&&!z(A)&&yc(f.getParent())&&r(28);else{if(A.is(b)){if(D(f)&&f.isEmpty()&&f.canReplaceWith(A)){f.replace(A),f=A,S=!0;continue}if(Xb(S=A.getFirstDescendant())){for(var R=S.getParentOrThrow();R.isInline();)R=R.getParentOrThrow();if(S=(N=R.getChildren()).length,D(f)){var $=f.getFirstChild();for(let i=0;i<S;i++){let o=N[i];null===$?f.append(o):$.insertAfter(o),$=o}}else{for($=S-1;0<=$;$--)f.insertAfter(N[$]);f=f.getParentOrThrow()}if(N=N[S-1],R.remove(),S=!0,R.is(A))continue}}B(f)&&(null===T&&r(27),f=T)}S=!1,D(f)&&!f.isInline()?(N=A,z(A)&&!A.isInline())?f=1===i.length&&f.canBeEmpty()&&f.isEmpty()?f.insertBefore(A,!1):f.insertAfter(A,!1):D(A)?(A.canBeEmpty()||!A.isEmpty())&&(K(f)?(null!==(R=f.getChildAtIndex(s))?R.insertBefore(A):f.append(A),f=A):A.isInline()?(f.append(A),f=A):f=f.insertAfter(A,!1)):(null!==(R=f.getFirstChild())?R.insertBefore(A):f.append(A),f=A):!D(A)||D(A)&&A.isInline()||z(f)&&!f.isInline()?(N=A,C(this)&&z(A)&&(D(f)||B(f))&&!A.isInline()?(B(f)?(R=f.getParentOrThrow(),[f]=f.splitText(s),f=f.getIndexWithinParent()+1):(R=f,f=s),[,f]=Ec(R,f),f=f.insertBefore(A)):f=f.insertAfter(A,!1)):(A=f.getParentOrThrow(),Yb(f)&&f.remove(),f=A,o--)}if(o&&(B(_)?_.select():B(i=f.getPreviousSibling())?i.select():(i=f.getIndexWithinParent(),f.getParentOrThrow().select(i,i))),D(f)){if(i=B(N)?N:D(N)&&N.isInline()?N.getLastDescendant():f.getLastDescendant(),o||(null===i?f.select():B(i)?""===i.getTextContent()?i.selectPrevious():i.select():i.selectNext()),0!==g.length)for(o=f,i=g.length-1;0<=i;i--)T=(s=g[i]).getParentOrThrow(),!D(f)||Ye(s)||z(s)&&(!s.isInline()||s.isIsolated())?D(f)||Ye(s)?D(s)&&!s.canInsertAfter(f)?(D(_=T.constructor.clone(T))||r(29),_.append(s),f.insertAfter(_)):f.insertAfter(s):(f.insertBefore(s),f=s):(o===f?f.append(s):f.insertBefore(s),f=s),T.isEmpty()&&!T.canBeEmpty()&&T.remove()}else o||(B(f)?f.select():(o=f.getParentOrThrow(),i=f.getIndexWithinParent()+1,o.select(i,i)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var i=this.anchor,o=i.offset,s=[];if("text"===i.type){var f=i.getNode(),g=f.getNextSiblings().reverse(),_=f.getParentOrThrow(),b=_.isInline(),T=b?_.getTextContentSize():f.getTextContentSize();0===o?g.push(f):(b&&(s=_.getNextSiblings()),o===T||b&&o===f.getTextContentSize()||([,f]=f.splitText(o),g.push(f)))}else{if(yc(_=i.getNode())){g=de(),s=_.getChildAtIndex(o),g.select(),null!==s?s.insertBefore(g,!1):_.append(g);return}g=_.getChildren().slice(o).reverse()}if(f=g.length,0===o&&0<f&&_.isInline()){if(D(g=(s=_.getParentOrThrow()).insertNewAfter(this,!1)))for(s=s.getChildren(),_=0;_<s.length;_++)g.append(s[_])}else if(null===(b=_.insertNewAfter(this,!1)))this.insertLineBreak();else if(D(b)){if(T=_.getFirstChild(),0===o&&(_.is(i.getNode())||T&&T.is(i.getNode()))&&0<f)_.insertBefore(b);else{if(_=null,o=s.length,i=b.getParentOrThrow(),0<o)for(T=0;T<o;T++)i.append(s[T]);if(0!==f)for(s=0;s<f;s++)o=g[s],null===_?b.append(o):_.insertBefore(o),_=o;b.canBeEmpty()||0!==b.getChildrenSize()?b.selectStart():(b.selectPrevious(),b.remove())}}}insertLineBreak(i){let o=ge();var s=this.anchor;"element"===s.type&&K(s=s.getNode())&&this.insertParagraph(),i?this.insertNodes([o],!0):this.insertNodes([o])&&o.selectNext(0,0)}getCharacterOffsets(){return Se(this)}extract(){var i=this.getNodes(),o=i.length,s=o-1,f=this.anchor;let g=this.focus;var _=i[0];let b=i[s],[T,S]=Se(this);return 0===o?[]:1===o?B(_)&&!this.isCollapsed()?(i=T>S?S:T,s=_.splitText(i,T>S?T:S),null!=(i=0===i?s[0]:s[1])?[i]:[]):[_]:(o=f.isBefore(g),B(_)&&((f=o?T:S)===_.getTextContentSize()?i.shift():0!==f&&([,_]=_.splitText(f),i[0]=_)),B(b)&&(_=b.getTextContent().length,0===(o=o?S:T)?i.pop():o!==_&&([b]=b.splitText(o),i[s]=b)),i)}modify(i,o,s){var f=this.focus,g=this.anchor,_="move"===i,b=tc(f,o);if(z(b)&&!b.isIsolated())_&&b.isKeyboardSelectable()?((o=Ze()).add(b.__key),yb(o)):B(i=o?b.getPreviousSibling():b.getNextSibling())?(b=i.__key,o=o?i.getTextContent().length:0,f.set(b,o,"text"),_&&g.set(b,o,"text")):(s=b.getParentOrThrow(),D(i)?(s=i.__key,b=o?i.getChildrenSize():0):(b=b.getIndexWithinParent(),s=s.__key,o||b++),f.set(s,b,"element"),_&&g.set(s,b,"element"));else if(f=vb((g=F())._window)){var T=g._blockCursorElement,S=g._rootElement;if(null===S||null===T||!D(b)||b.isInline()||b.canBeEmpty()||Dc(T,g,S),f.modify(i,o?"backward":"forward",s),0<f.rangeCount&&(b=f.getRangeAt(0),g=K(g=this.anchor.getNode())?g:xc(g),this.applyDOMRange(b),this.dirty=!0,!_)){for(T=0,_=this.getNodes(),i=[],s=!1;T<_.length;T++)wc(S=_[T],g)?i.push(S):s=!0;s&&0<i.length&&(o?D(o=i[0])?o.selectStart():o.getParentOrThrow().selectStart():D(o=i[i.length-1])?o.selectEnd():o.getParentOrThrow().selectEnd()),(f.anchorNode!==b.startContainer||f.anchorOffset!==b.startOffset)&&(o=this.focus,f=(_=this.anchor).key,b=_.offset,g=_.type,Ce(_,o.key,o.offset,o.type),Ce(o,f,b,g),this._cachedNodes=null)}}}deleteCharacter(i){let o=this.isCollapsed();if(this.isCollapsed()){var f=this.anchor,g=this.focus,_=f.getNode();if(!i&&("element"===f.type&&D(_)&&f.offset===_.getChildrenSize()||"text"===f.type&&f.offset===_.getTextContentSize())){var b=_.getParent();if(D(b=_.getNextSibling()||(null===b?null:b.getNextSibling()))&&b.isShadowRoot())return}if(z(b=tc(g,i))&&!b.isIsolated()){b.isKeyboardSelectable()&&D(_)&&0===_.getChildrenSize()?(_.remove(),(i=Ze()).add(b.__key),yb(i)):(b.remove(),F().dispatchCommand(s,void 0));return}if(!i&&D(b)&&D(_)&&_.isEmpty()){_.remove(),b.selectStart();return}if(this.modify("extend",i,"character"),this.isCollapsed()){if(i&&0===f.offset&&("element"===f.type?f.getNode():f.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(b="text"===g.type?g.getNode():null,_="text"===f.type?f.getNode():null,null!==b&&b.isSegmented()){if(f=g.offset,g=b.getTextContentSize(),b.is(_)||i&&f!==g||!i&&0!==f){$e(b,i,f);return}}else if(null!==_&&_.isSegmented()&&(f=f.offset,g=_.getTextContentSize(),_.is(b)||i&&0!==f||!i&&f!==g)){$e(_,i,f);return}if(_=this.anchor,b=this.focus,(f=_.getNode())===(g=b.getNode())&&"text"===_.type&&"text"===b.type){var T=_.offset,S=b.offset;let o=T<S;(g=o?T:S)!==(T=(S=o?S:T)-1)&&(kc(f=f.getTextContent().slice(g,S))||(i?b.offset=T:_.offset=T))}}}this.removeText(),i&&!o&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&(i=this.anchor.getNode()).isEmpty()&&K(i.getParent())&&0===i.getIndexWithinParent()&&i.collapseAtStart(this)}deleteLine(i){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",i,"lineboundary"),0===(i?this.focus:this.anchor).offset&&this.modify("extend",i,"character")),this.removeText()}deleteWord(i){this.isCollapsed()&&this.modify("extend",i,"word"),this.removeText()}};function Ud(i){return i instanceof De}function af(i){let o=i.offset;return"text"===i.type?o:o===(i=i.getNode()).getChildrenSize()?i.getTextContent().length:0}function Se(i){let o=i.anchor;return i=i.focus,"element"===o.type&&"element"===i.type&&o.key===i.key&&o.offset===i.offset?[0,0]:[af(o),af(i)]}function $e(i,o,s){let f=i.getTextContent().split(/(?=\s)/g),g=f.length,_=0,b=0;for(let i=0;i<g;i++){let T=f[i],S=i===g-1;if(b=_,_+=T.length,o&&_===s||_>s||S){f.splice(i,1),S&&(b=void 0);break}}""===(o=f.join("").trim())?i.remove():(i.setTextContent(o),i.select(b,b))}function bf(i,o,s,f){var g=o;if(1===i.nodeType){let T=!1;var _=i.childNodes,b=_.length;g===b&&(T=!0,g=b-1);let S=_[g];if(b=!1,S===f._blockCursorElement?(S=_[g+1],b=!0):null!==f._blockCursorElement&&g--,B(f=jc(S)))g=T?f.getTextContentSize():0;else{if(null===(_=jc(i)))return null;if(D(_)?((o=D(i=_.getChildAtIndex(g)))&&(o=i.getParent(),o=null===s||null===o||!o.canBeEmpty()||o!==s.getNode()),o&&(null===(s=T?i.getLastDescendant():i.getFirstDescendant())?(_=i,g=0):_=D(i=s)?i:i.getParentOrThrow()),B(i)?(f=i,_=null,g=T?i.getTextContentSize():0):i!==_&&T&&!b&&g++):(g=_.getIndexWithinParent(),g=0===o&&z(_)&&jc(i)===_?g:g+1,_=_.getParentOrThrow()),D(_))return new ze(_.__key,g,"element")}}else f=jc(i);return B(f)?new ze(f.__key,g,"text"):null}function cf(i,o,s){var f=i.offset,g=i.getNode();0===f?(f=g.getPreviousSibling(),g=g.getParent(),o)?(s||!o)&&null===f&&D(g)&&g.isInline()&&B(o=g.getPreviousSibling())&&(i.key=o.__key,i.offset=o.getTextContent().length):D(f)&&!s&&f.isInline()?(i.key=f.__key,i.offset=f.getChildrenSize(),i.type="element"):B(f)&&(i.key=f.__key,i.offset=f.getTextContent().length):f===g.getTextContent().length&&(f=g.getNextSibling(),g=g.getParent(),o&&D(f)&&f.isInline()?(i.key=f.__key,i.offset=0,i.type="element"):(s||o)&&null===f&&D(g)&&g.isInline()&&!g.canInsertTextAfter()&&B(o=g.getNextSibling())&&(i.key=o.__key,i.offset=0))}function Xe(i,o,s){if("text"===i.type&&"text"===o.type){var f=i.isBefore(o);let g=i.is(o);cf(i,f,g),cf(o,!f,g),g&&(o.key=i.key,o.offset=i.offset,o.type=i.type),(f=F()).isComposing()&&f._compositionKey!==i.key&&C(s)&&(f=s.anchor,s=s.focus,Ce(i,f.key,f.offset,f.type),Ce(o,s.key,s.offset,s.type))}}function We(i,o,s,f,g,_){return null===i||null===s||!Lb(g,i,s)||null===(o=bf(i,o,C(_)?_.anchor:null,g))||null===(f=bf(s,f,C(_)?_.focus:null,g))||"element"===o.type&&"element"===f.type&&(i=jc(i),s=jc(s),z(i)&&z(s))?null:(Xe(o,f,_),[o,f])}function Ye(i){return D(i)&&!i.isInline()}function re(i,o,s,f,g,_){let b=ac();return(i=new Ne(new ze(i,o,g),new ze(s,f,_),0,"")).dirty=!0,b._selection=i}function Ze(){return new De(new Set)}function Qd(i,o,s){let f;var g=s._window;if(null===g)return null;var _=g.event,b=_?_.type:void 0;if(g="selectionchange"===b,_=!ez&&(g||"beforeinput"===b||"compositionstart"===b||"compositionend"===b||"click"===b&&_&&3===_.detail||"drop"===b||void 0===b),C(i)&&!_)return i.clone();if(null===o)return null;if(_=o.anchorNode,b=o.focusNode,f=o.anchorOffset,o=o.focusOffset,g&&C(i)&&!Lb(s,_,b))return i.clone();if(null===(s=We(_,f,b,o,s,i)))return null;let[T,S]=s;return new Ne(T,S,C(i)?i.format:0,C(i)?i.style:"")}function v(){return ac()._selection}function oc(){return F()._editorState._selection}function ae(i,o,s,f=1){var g=i.anchor,_=i.focus,b=g.getNode(),T=_.getNode();if(o.is(b)||o.is(T)){if(b=o.__key,i.isCollapsed())(s<=(o=g.offset)&&0<f||s<o&&0>f)&&(s=Math.max(0,o+f),g.set(b,s,"element"),_.set(b,s,"element"),ef(i));else{let N=i.isBackward();var S=(T=N?_:g).getNode();_=(g=N?g:_).getNode(),o.is(S)&&(s<=(S=T.offset)&&0<f||s<S&&0>f)&&T.set(b,Math.max(0,S+f),"element"),o.is(_)&&(s<=(o=g.offset)&&0<f||s<o&&0>f)&&g.set(b,Math.max(0,o+f),"element")}ef(i)}}function ef(i){var o=i.anchor,s=o.offset;let f=i.focus;var g=f.offset,_=o.getNode(),b=f.getNode();if(i.isCollapsed())D(_)&&B(b=(g=s>=(b=_.getChildrenSize()))?_.getChildAtIndex(b-1):_.getChildAtIndex(s))&&(s=0,g&&(s=b.getTextContentSize()),o.set(b.__key,s,"text"),f.set(b.__key,s,"text"));else{if(D(_)){let f=_.getChildrenSize();B(s=(i=s>=f)?_.getChildAtIndex(f-1):_.getChildAtIndex(s))&&(_=0,i&&(_=s.getTextContentSize()),o.set(s.__key,_,"text"))}D(b)&&B(g=(o=g>=(s=b.getChildrenSize()))?b.getChildAtIndex(s-1):b.getChildAtIndex(g))&&(b=0,o&&(b=g.getTextContentSize()),f.set(g.__key,b,"text"))}}function $d(i,o,s,f,g){let _=null,b=0,T=null;null!==f?(_=f.__key,B(f)?(b=f.getTextContentSize(),T="text"):D(f)&&(b=f.getChildrenSize(),T="element")):null!==g&&(_=g.__key,B(g)?T="text":D(g)&&(T="element")),null!==_&&null!==T?i.set(_,b,T):(-1===(b=o.getIndexWithinParent())&&(b=s.getChildrenSize()),i.set(s.__key,b,"element"))}function se(i,o,s,f,g){"text"===i.type?(i.key=s,o||(i.offset+=g)):i.offset>f.getIndexWithinParent()&&--i.offset}function Ve(i,o,s){let f=[],g=null,_=null;i=i.getChildren();for(let N=0;N<i.length;N++){var b=i[N];Te(b)||r(108);var T=b.getChildren();for(let i of(b=0,T)){for(P(i)||r(109);void 0!==f[N]&&void 0!==f[N][b];)b++;var S=b;let A={cell:i,startColumn:S,startRow:T=N},R=i.__rowSpan,$=i.__colSpan;for(let i=0;i<R;i++){void 0===f[T+i]&&(f[T+i]=[]);for(let o=0;o<$;o++)f[T+i][S+o]=A}o.is(i)&&(g=A),s.is(i)&&(_=A),b+=i.__colSpan}}return null===g&&r(110),null===_&&r(111),[f,g,_]}function Pe(i){i instanceof gf||(i=i instanceof be?Fc(i,P):Fc(i.getNode(),P),P(i)||r(114));let o=i.getParent();Te(o)||r(115);let s=o.getParent();return Ue(s)||r(116),[i,o,s]}let tg=null,tm=null,t_=!1,tv=!1,ty=0,tC={characterData:!0,childList:!0,subtree:!0};function ec(){return t_||null!==tg&&tg._readOnly}function G(){t_&&r(13)}function ac(){return null===tg&&r(15),tg}function F(){return null===tm&&r(16),tm}function kf(i,o,s){var f=o.__type;let g=i._nodes.get(f);for(void 0===g&&r(30,f),void 0===(i=s.get(f))&&(i=Array.from(g.transforms),s.set(f,i)),s=i.length,f=0;f<s&&(i[f](o),o.isAttached());f++);}function nf(i,o){var s=i.type,f=o.get(s);if(void 0===f&&r(17,s),s=f.klass,i.type!==s.getType()&&r(18,s.name),s=s.importJSON(i),i=i.children,D(s)&&Array.isArray(i))for(f=0;f<i.length;f++){let g=nf(i[f],o);s.append(g)}return s}function of(i,o){let s=tg,f=t_,g=tm;tg=i,t_=!0,tm=null;try{return o()}finally{tg=s,t_=f,tm=g}}function pf(i,o){let f=i._pendingEditorState,g=i._rootElement,_=i._headless||null===g;if(null!==f){var b=i._editorState,T=b._selection,S=f._selection,N=0!==i._dirtyType,A=tg,R=t_,$=tm,W=i._updating,V=i._observer,U=null;if(i._pendingEditorState=null,i._editorState=f,!_&&N&&null!==V){tm=i,tg=f,t_=!1,i._updating=!0;try{let o=i._dirtyType,s=i._dirtyElements,g=i._dirtyLeaves;V.disconnect(),eU=eq=eV="",eZ=2===o,eX=null,eG=i,ej=i._config,eY=i._nodes,eQ=eG._listeners.mutation,e0=s,e1=g,e2=b._nodeMap,e3=f._nodeMap,eJ=f._readOnly,e5=new Map(i._keyToDOMMap);let _=new Map;e4=_,function sd(i,o){var s=e2.get(i),f=e3.get(i);void 0!==s&&void 0!==f||r(61);var g=eZ||e1.has(i)||e0.has(i);let _=vc(eG,i);if(s===f&&!g)return D(s)?(void 0!==(f=_.__lexicalTextContent)&&(eV+=f,eq+=f),void 0!==(f=_.__lexicalDirTextContent)&&(eU+=f)):(f=s.getTextContent(),B(s)&&!s.isDirectionless()&&(eU+=f),eq+=f,eV+=f),_;if(s!==f&&g&&rc(e4,eY,eQ,f,"updated"),f.updateDOM(s,_,ej))return f=md(i,null,null),null===o&&r(62),o.replaceChild(f,_),fd(i,null),f;if(D(s)&&D(f)){if((i=f.__indent)!==s.__indent&&kd(_,i),(i=f.__format)!==s.__format&&ld(_,i),g){i=f,g=eU,eU="",o=eV;var b=s.__size,T=i.__size;if(eV="",1===b&&1===T){var S=s.__first,N=i.__first;if(S===N)sd(S,_);else{var A=gd(S);N=md(N,null,null),_.replaceChild(N,A),fd(S,null)}}else{N=hd(s,e2);var R=hd(i,e3);if(0===b)0!==T&&nd(R,i,0,T-1,_,null);else if(0===T)0!==b&&(id(N,0,b-1,(S=null==_.__lexicalLineBreak)?null:_),S&&(_.textContent=""));else{var $=N;N=R,R=b-1,b=T-1;let o=_.firstChild,s=0;for(T=0;s<=R&&T<=b;){var W=$[s];let i=N[T];if(W===i)o=td(sd(i,_)),s++,T++;else{void 0===S&&(S=new Set($)),void 0===A&&(A=new Set(N));let f=A.has(W),g=S.has(i);f?(g?((W=vc(eG,i))===o?o=td(sd(i,_)):(null!=o?_.insertBefore(W,o):_.appendChild(W),sd(i,_)),s++):md(i,_,o),T++):(o=td(gd(W)),fd(W,_),s++)}}S=s>R,A=T>b,S&&!A?(S=void 0===(S=N[b+1])?null:eG.getElementByKey(S),nd(N,i,T,b,_,S)):A&&!S&&id($,s,R,_)}}uc(i)&&(eV+="\n\n"),_.__lexicalTextContent=eV,eV=o+eV,od(i,_),eU=g,K(f)||f.isInline()||pd(s,f,_)}uc(f)&&(eV+="\n\n",eq+="\n\n")}else s=f.getTextContent(),z(f)?null!==(g=f.decorate(eG,ej))&&qd(i,g):B(f)&&!f.isDirectionless()&&(eU+=s),eV+=s,eq+=s;return!eJ&&K(f)&&f.__cachedText!==eq&&((f=f.getWritable()).__cachedText=eq),_}("root",null),e4=e5=ej=e3=e2=e1=e0=eY=eG=void 0,U=_}catch(o){if(o instanceof Error&&i._onError(o),tv)throw o;qf(i,null,g,f),Bb(i),i._dirtyType=2,tv=!0,pf(i,b),tv=!1;return}finally{V.observe(g,tC),i._updating=W,tg=A,t_=R,tm=$}}f._readOnly||(f._readOnly=!0);var j=i._dirtyLeaves,Y=i._dirtyElements,Z=i._normalizedNodes,X=i._updateTags,et=i._deferred;N&&(i._dirtyType=0,i._cloneNotNeeded.clear(),i._dirtyLeaves=new Set,i._dirtyElements=new Map,i._normalizedNodes=new Set,i._updateTags=new Set);var en,er=i._decorators,ei=i._pendingDecorators||er,eo=f._nodeMap;for(en in ei)eo.has(en)||(ei===er&&(ei=fc(i)),delete ei[en]);var el=_?null:vb(i._window);if(i._editable&&null!==el&&(N||null===S||S.dirty)){tm=i,tg=f;try{if(null!==V&&V.disconnect(),N||null===S||S.dirty){let o=i._blockCursorElement;null!==o&&Dc(o,i,g);e:{let o=el.anchorNode,s=el.focusNode,f=el.anchorOffset,_=el.focusOffset,b=document.activeElement;if(!(X.has("collaboration")&&b!==g||null!==b&&Kb(b))){if(C(S)){var ea=S.anchor,es=S.focus,eu=ea.key,ed=es.key,ep=vc(i,eu),eh=vc(i,ed),eg=ea.offset,em=es.offset,e_=S.format,ev=S.style,ey=S.isCollapsed(),eC=ep,ex=eh,eE=!1;if("text"===ea.type){eC=Vb(ep);let i=ea.getNode();eE=i.getFormat()!==e_||i.getStyle()!==ev}else C(T)&&"text"===T.anchor.type&&(eE=!0);if("text"===es.type&&(ex=Vb(eh)),null!==eC&&null!==ex){if(ey&&(null===T||eE||C(T)&&(T.format!==e_||T.style!==ev))){var eb=performance.now();ta=[e_,ev,eg,eu,eb]}if(f===eg&&_===em&&o===eC&&s===ex&&("Range"!==el.type||!ey)&&(null!==b&&g.contains(b)||g.focus({preventScroll:!0}),"element"!==ea.type))break e;try{el.setBaseAndExtent(eC,eg,ex,em)}catch(i){}if(!X.has("skip-scroll-into-view")&&S.isCollapsed()&&null!==g&&g===document.activeElement){let o=S instanceof Ne&&"element"===S.anchor.type?eC.childNodes[eg]||null:0<el.rangeCount?el.getRangeAt(0):null;if(null!==o){let s;if(o instanceof Text){let i=document.createRange();i.selectNode(o),s=i.getBoundingClientRect()}else s=o.getBoundingClientRect();let f=g.ownerDocument,_=f.defaultView;if(null!==_)for(var ek,eT,{top:eS,bottom:eN}=s,ew=g;null!==ew;){let o=ew===f.body;if(o)ek=0,eT=Cb(i).innerHeight;else{let i=ew.getBoundingClientRect();ek=i.top,eT=i.bottom}let s=0;if(eS<ek?s=-(ek-eS):eN>eT&&(s=eN-eT),0!==s){if(o)_.scrollBy(0,s);else{let i=ew.scrollTop;ew.scrollTop+=s;let o=ew.scrollTop-i;eS-=o,eN-=o}}if(o)break;ew=Nb(ew)}}}tr=!0}}else null!==T&&Lb(i,o,s)&&el.removeAllRanges()}}}e:{let o=i._blockCursorElement;if(C(S)&&S.isCollapsed()&&"element"===S.anchor.type&&g.contains(document.activeElement)){let s=S.anchor,f=s.getNode(),_=s.offset,b=f.getChildrenSize(),T=!1,N=null;if(_===b){let i=f.getChildAtIndex(_-1);Cc(i)&&(T=!0)}else{let o=f.getChildAtIndex(_);if(Cc(o)){let s=o.getPreviousSibling();(null===s||Cc(s))&&(T=!0,N=i.getElementByKey(o.__key))}}if(T){let s=i.getElementByKey(f.__key);if(null===o){let s=i._config.theme,f=document.createElement("div");f.contentEditable="false",f.setAttribute("data-lexical-cursor","true");let g=s.blockCursor;if(void 0!==g){if("string"==typeof g){let i=g.split(" ");g=s.blockCursor=i}void 0!==g&&f.classList.add(...g)}i._blockCursorElement=o=f}g.style.caretColor="transparent",null===N?s.appendChild(o):s.insertBefore(o,N);break e}}null!==o&&Dc(o,i,g)}null!==V&&V.observe(g,tC)}finally{tm=$,tg=A}}if(null!==U){var eO=U;let o=Array.from(i._listeners.mutation),s=o.length;for(let i=0;i<s;i++){let[s,f]=o[i],g=eO.get(f);void 0!==g&&s(g,{dirtyLeaves:j,prevEditorState:b,updateTags:X})}}C(S)||null===S||null!==T&&T.is(S)||i.dispatchCommand(s,void 0);var eD=i._pendingDecorators;null!==eD&&(i._decorators=eD,i._pendingDecorators=null,rf("decorator",i,!0,eD));var eA=gc(o||b),eI=gc(f);if(eA!==eI&&rf("textcontent",i,!0,eI),rf("update",i,!0,{dirtyElements:Y,dirtyLeaves:j,editorState:f,normalizedNodes:Z,prevEditorState:o||b,tags:X}),i._deferred=[],0!==et.length){let o=i._updating;i._updating=!0;try{for(let i=0;i<et.length;i++)et[i]()}finally{i._updating=o}}var eM=i._updates;if(0!==eM.length){let o=eM.shift();if(o){let[s,f]=o;sf(i,s,f)}}}}function rf(i,o,s,...f){let g=o._updating;o._updating=s;try{let s=Array.from(o._listeners[i]);for(i=0;i<s.length;i++)s[i].apply(null,f)}finally{o._updating=g}}function O(i,o,s){if(!1===i._updating||tm!==i){let f=!1;return i.update(()=>{f=O(i,o,s)}),f}let f=lc(i);for(let _=4;0<=_;_--)for(let b=0;b<f.length;b++){var g=f[b]._commands.get(o);if(void 0!==g&&void 0!==(g=g[_])){let o=(g=Array.from(g)).length;for(let f=0;f<o;f++)if(!0===g[f](s,i))return!0}}return!1}function tf(i,o){let s=i._updates;for(o=o||!1;0!==s.length;){var f=s.shift();if(f){let[s,g]=f,_;void 0!==g&&(f=g.onUpdate,_=g.tag,g.skipTransforms&&(o=!0),f&&i._deferred.push(f),_&&i._updateTags.add(_)),s()}}return o}function sf(i,o,s){let f=i._updateTags;var g,_=g=!1;if(void 0!==s){var b=s.onUpdate;null!=(g=s.tag)&&f.add(g),g=s.skipTransforms||!1,_=s.discrete||!1}b&&i._deferred.push(b),s=i._editorState;let T=!1;(null===(b=i._pendingEditorState)||b._readOnly)&&(b=i._pendingEditorState=new uf(new Map((b||s)._nodeMap)),T=!0),b._flushSync=_,_=tg;let S=t_,N=tm,A=i._updating;tg=b,t_=!1,i._updating=!0,tm=i;try{let f,_;T&&(i._headless?null!=s._selection&&(b._selection=s._selection.clone()):b._selection=(f=i.getEditorState()._selection,_=vb(i._window),Ud(f)||Re(f)?f.clone():Qd(f,_,i)));let S=i._compositionKey;o(),g=tf(i,g),function(i,o){if(o=o.getEditorState()._selection,C(i=i._selection)){var s=i.anchor;let f=i.focus,g;"text"===s.type&&(g=s.getNode()).selectionTransform(o,i),"text"===f.type&&g!==(s=f.getNode())&&s.selectionTransform(o,i)}}(b,i),0!==i._dirtyType&&(g?function(i,o){for(let s of(o=o._dirtyLeaves,i=i._nodeMap,o))B(o=i.get(s))&&o.isAttached()&&o.isSimpleText()&&!o.isUnmergeable()&&Fb(o)}(b,i):function(i,o){let s=o._dirtyLeaves,f=o._dirtyElements;i=i._nodeMap;let g=dc(),_=new Map;var b=s;let T=b.size;for(var S=f,N=S.size;0<T||0<N;){if(0<T){for(let f of(o._dirtyLeaves=new Set,b))B(b=i.get(f))&&b.isAttached()&&b.isSimpleText()&&!b.isUnmergeable()&&Fb(b),void 0!==b&&void 0!==b&&b.__key!==g&&b.isAttached()&&kf(o,b,_),s.add(f);if(0<(T=(b=o._dirtyLeaves).size)){ty++;continue}}for(let s of(o._dirtyLeaves=new Set,o._dirtyElements=new Map,S))S=s[0],N=s[1],("root"===S||N)&&(void 0!==(b=i.get(S))&&void 0!==b&&b.__key!==g&&b.isAttached()&&kf(o,b,_),f.set(S,N));T=(b=o._dirtyLeaves).size,N=(S=o._dirtyElements).size,ty++}o._dirtyLeaves=s,o._dirtyElements=f}(b,i),tf(i),function(i,o,s,f){i=i._nodeMap,o=o._nodeMap;let g=[];for(let[s]of f){let _=o.get(s);void 0===_||_.isAttached()||(D(_)&&function Ic(i,o,s,f,g,_){for(i=i.getFirstChild();null!==i;){let b=i.__key;i.__parent===o&&(D(i)&&Ic(i,b,s,f,g,_),s.has(b)||_.delete(b),g.push(b)),i=i.getNextSibling()}}(_,s,i,o,g,f),i.has(s)||f.delete(s),g.push(s))}for(let i of g)o.delete(i);for(let g of s)void 0===(f=o.get(g))||f.isAttached()||(i.has(g)||s.delete(g),o.delete(g))}(s,b,i._dirtyLeaves,i._dirtyElements)),S!==i._compositionKey&&(b._flushSync=!0);let N=b._selection;if(C(N)){let i=b._nodeMap,o=N.focus.key;void 0!==i.get(N.anchor.key)&&void 0!==i.get(o)||r(19)}else Ud(N)&&0===N._nodes.size&&(b._selection=null)}catch(o){o instanceof Error&&i._onError(o),i._pendingEditorState=s,i._dirtyType=2,i._cloneNotNeeded.clear(),i._dirtyLeaves=new Set,i._dirtyElements.clear(),pf(i);return}finally{tg=_,t_=S,tm=N,i._updating=A,ty=0}0!==i._dirtyType||function(i,o){if(o=o.getEditorState()._selection,null!==(i=i._selection)){if(i.dirty||!i.is(o))return!0}else if(null!==o)return!0;return!1}(b,i)?b._flushSync?(b._flushSync=!1,pf(i)):T&&eH(()=>{pf(i)}):(b._flushSync=!1,T&&(f.clear(),i._deferred=[],i._pendingEditorState=null))}function w(i,o,s){i._updating?i._updates.push([o,s]):sf(i,o,s)}let wf=class wf extends be{constructor(i){super(i)}decorate(){r(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}};function z(i){return i instanceof wf}let xf=class xf extends be{constructor(i){super(i),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){return eL[this.getFormat()]||""}getIndent(){return this.getLatest().__indent}getChildren(){let i=[],o=this.getFirstChild();for(;null!==o;)i.push(o),o=o.getNextSibling();return i}getChildrenKeys(){let i=[],o=this.getFirstChild();for(;null!==o;)i.push(o.__key),o=o.getNextSibling();return i}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let i=F()._dirtyElements;return null!==i&&i.has(this.__key)}isLastChild(){let i=this.getLatest(),o=this.getParentOrThrow().getLastChild();return null!==o&&o.is(i)}getAllTextNodes(){let i=[],o=this.getFirstChild();for(;null!==o;){if(B(o)&&i.push(o),D(o)){let s=o.getAllTextNodes();i.push(...s)}o=o.getNextSibling()}return i}getFirstDescendant(){let i=this.getFirstChild();for(;null!==i;){if(D(i)){let o=i.getFirstChild();if(null!==o){i=o;continue}}break}return i}getLastDescendant(){let i=this.getLastChild();for(;null!==i;){if(D(i)){let o=i.getLastChild();if(null!==o){i=o;continue}}break}return i}getDescendantByIndex(i){let o=this.getChildren(),s=o.length;return i>=s?D(i=o[s-1])&&i.getLastDescendant()||i||null:D(i=o[i])&&i.getFirstDescendant()||i||null}getFirstChild(){let i=this.getLatest().__first;return null===i?null:I(i)}getFirstChildOrThrow(){let i=this.getFirstChild();return null===i&&r(45,this.__key),i}getLastChild(){let i=this.getLatest().__last;return null===i?null:I(i)}getLastChildOrThrow(){let i=this.getLastChild();return null===i&&r(96,this.__key),i}getChildAtIndex(i){let o;var s=this.getChildrenSize();if(i<s/2){for(s=0,o=this.getFirstChild();null!==o&&s<=i;){if(s===i)return o;o=o.getNextSibling(),s++}return null}for(o=this.getLastChild(),--s;null!==o&&s>=i;){if(s===i)return o;o=o.getPreviousSibling(),s--}return null}getTextContent(){let i="",o=this.getChildren(),s=o.length;for(let f=0;f<s;f++){let g=o[f];i+=g.getTextContent(),D(g)&&f!==s-1&&!g.isInline()&&(i+="\n\n")}return i}getTextContentSize(){let i=0,o=this.getChildren(),s=o.length;for(let f=0;f<s;f++){let g=o[f];i+=g.getTextContentSize(),D(g)&&f!==s-1&&!g.isInline()&&(i+=2)}return i}getDirection(){return this.getLatest().__dir}hasFormat(i){return""!==i&&(i=e$[i],0!=(this.getFormat()&i))}select(i,o){G();let s=v(),f=i,g=o;var _=this.getChildrenSize();if(!this.canBeEmpty()){if(0===i&&0===o){if(B(i=this.getFirstChild())||D(i))return i.select(0,0)}else if(!(void 0!==i&&i!==_||void 0!==o&&o!==_)&&(B(i=this.getLastChild())||D(i)))return i.select()}return(void 0===f&&(f=_),void 0===g&&(g=_),_=this.__key,C(s))?(s.anchor.set(_,f,"element"),s.focus.set(_,g,"element"),s.dirty=!0,s):re(_,f,_,g,"element","element")}selectStart(){let i=this.getFirstDescendant();return D(i)||B(i)?i.select(0,0):null!==i?i.selectPrevious():this.select(0,0)}selectEnd(){let i=this.getLastDescendant();return D(i)||B(i)?i.select():null!==i?i.selectNext():this.select()}clear(){let i=this.getWritable();return this.getChildren().forEach(i=>i.remove()),i}append(...i){return this.splice(this.getChildrenSize(),0,i)}setDirection(i){let o=this.getWritable();return o.__dir=i,o}setFormat(i){return this.getWritable().__format=""!==i?e$[i]:0,this}setIndent(i){return this.getWritable().__indent=i,this}splice(i,o,s){let f=s.length,g=this.getChildrenSize(),_=this.getWritable(),b=_.__key;var T=[],S=[];let N=this.getChildAtIndex(i+o),A=null,R=g-o+f;if(0!==i){if(i===g)A=this.getLastChild();else{var $=this.getChildAtIndex(i);null!==$&&(A=$.getPreviousSibling())}}if(0<o){var W=null===A?this.getFirstChild():A.getNextSibling();for($=0;$<o;$++){null===W&&r(100);var V=W.getNextSibling(),U=W.__key;bc(W=W.getWritable()),S.push(U),W=V}}for(V=0,$=A;V<f;V++){U=s[V],null!==$&&U.is($)&&(A=$=$.getPreviousSibling()),(W=U.getWritable()).__parent===b&&R--,bc(W);let i=U.__key;null===$?(_.__first=i,W.__prev=null):(($=$.getWritable()).__next=i,W.__prev=$.__key),U.__key===b&&r(76),W.__parent=b,T.push(i),$=U}if(i+o===g?null!==$&&($.getWritable().__next=null,_.__last=$.__key):null!==N&&(i=N.getWritable(),null!==$?(o=$.getWritable(),i.__prev=$.__key,o.__next=N.__key):i.__prev=null),_.__size=R,S.length&&C(i=v())){S=new Set(S),T=new Set(T);let{anchor:o,focus:s}=i;yf(o,S,T)&&$d(o,o.getNode(),this,A,N),yf(s,S,T)&&$d(s,s.getNode(),this,A,N),0!==R||this.canBeEmpty()||yc(this)||this.remove()}return _}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}};function D(i){return i instanceof xf}function yf(i,o,s){for(i=i.getNode();i;){let f=i.__key;if(o.has(f)&&!s.has(f))return!0;i=i.getParent()}return!1}let zf=class zf extends xf{static getType(){return"root"}static clone(){return new zf}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){r(51)}getTextContent(){let i=this.__cachedText;return(ec()||0===F()._dirtyType)&&null!==i?i:super.getTextContent()}remove(){r(52)}replace(){r(53)}insertBefore(){r(54)}insertAfter(){r(55)}updateDOM(){return!1}append(...i){for(let o=0;o<i.length;o++){let s=i[o];D(s)||z(s)||r(56)}return super.append(...i)}static importJSON(i){let o=hc();return o.setFormat(i.format),o.setIndent(i.indent),o.setDirection(i.direction),o}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}};function K(i){return i instanceof zf}function Af(){return new uf(new Map([["root",new zf]]))}let uf=class uf{constructor(i,o){this._nodeMap=i,this._selection=o||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(i){return of(this,i)}clone(i){return(i=new uf(this._nodeMap,void 0===i?this._selection:i))._readOnly=!0,i}toJSON(){return of(this,()=>({root:function Bf(i){let o=i.exportJSON();var s=i.constructor;o.type!==s.getType()&&r(130,s.name);let f=o.children;if(D(i))for(Array.isArray(f)||r(59,s.name),i=i.getChildren(),s=0;s<i.length;s++){let o=Bf(i[s]);f.push(o)}return o}(hc())}))}};let Cf=class Cf extends xf{static getType(){return"paragraph"}static clone(i){return new Cf(i.__key)}createDOM(i){let o=document.createElement("p");return void 0!==(i=qc(i.theme,"paragraph"))&&o.classList.add(...i),o}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Df,priority:0})}}exportDOM(i){if({element:i}=super.exportDOM(i),i&&Hc(i)){this.isEmpty()&&i.append(document.createElement("br"));var o=this.getFormatType();i.style.textAlign=o,(o=this.getDirection())&&(i.dir=o),0<(o=this.getIndent())&&(i.style.textIndent=`${20*o}px`)}return{element:i}}static importJSON(i){let o=de();return o.setFormat(i.format),o.setIndent(i.indent),o.setDirection(i.direction),o}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(i,o){i=de();let s=this.getDirection();return i.setDirection(s),this.insertAfter(i,o),i}collapseAtStart(){let i=this.getChildren();if(0===i.length||B(i[0])&&""===i[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}};function Df(i){let o=de();return i.style&&(o.setFormat(i.style.textAlign),0<(i=parseInt(i.style.textIndent,10)/20)&&o.setIndent(i)),{node:o}}function de(){return Ac(new Cf)}function qf(i,o,s,f){let g=i._keyToDOMMap;g.clear(),i._editorState=Af(),i._pendingEditorState=f,i._compositionKey=null,i._dirtyType=0,i._cloneNotNeeded.clear(),i._dirtyLeaves=new Set,i._dirtyElements.clear(),i._normalizedNodes=new Set,i._updateTags=new Set,i._updates=[],i._blockCursorElement=null,null!==(f=i._observer)&&(f.disconnect(),i._observer=null),null!==o&&(o.textContent=""),null!==s&&(s.textContent="",g.set("root",s))}let Kf=class Kf{constructor(i,o,s,f,g,_,b){this._parentEditor=o,this._rootElement=null,this._editorState=i,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=f,this._nodes=s,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=mc(),this._onError=g,this._htmlConversions=_,this._editable=b,this._headless=null!==o&&o._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(i){let o=this._listeners.update;return o.add(i),()=>{o.delete(i)}}registerEditableListener(i){let o=this._listeners.editable;return o.add(i),()=>{o.delete(i)}}registerDecoratorListener(i){let o=this._listeners.decorator;return o.add(i),()=>{o.delete(i)}}registerTextContentListener(i){let o=this._listeners.textcontent;return o.add(i),()=>{o.delete(i)}}registerRootListener(i){let o=this._listeners.root;return i(this._rootElement,null),o.add(i),()=>{i(null,this._rootElement),o.delete(i)}}registerCommand(i,o,s){void 0===s&&r(35);let f=this._commands;f.has(i)||f.set(i,[new Set,new Set,new Set,new Set,new Set]);let g=f.get(i);void 0===g&&r(36,String(i));let _=g[s];return _.add(o),()=>{_.delete(o),g.every(i=>0===i.size)&&f.delete(i)}}registerMutationListener(i,o){void 0===this._nodes.get(i.getType())&&r(37,i.name);let s=this._listeners.mutation;return s.set(o,i),()=>{s.delete(o)}}registerNodeTransformToKlass(i,o){var s=i.getType();return void 0===(s=this._nodes.get(s))&&r(37,i.name),s.transforms.add(o),s}registerNodeTransform(i,o){var s,f=this.registerNodeTransformToKlass(i,o);let g=[f];return null!=(f=f.replaceWithKlass)&&(f=this.registerNodeTransformToKlass(f,o),g.push(f)),s=i.getType(),w(this,()=>{var i=ac();if(!i.isEmpty()){if("root"===s)hc().markDirty();else for(let[,o]of i=i._nodeMap)o.markDirty()}},null===this._pendingEditorState?{tag:"history-merge"}:void 0),()=>{g.forEach(i=>i.transforms.delete(o))}}hasNode(i){return this._nodes.has(i.getType())}hasNodes(i){return i.every(this.hasNode.bind(this))}dispatchCommand(i,o){return O(this,i,o)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(i){let o=this._rootElement;if(i!==o){let _=qc(this._config.theme,"root");var s=this._pendingEditorState||this._editorState;if(this._rootElement=i,qf(this,o,i,s),null!==o){if(!this._config.disableEvents){0!==tn&&0==--tn&&o.ownerDocument.removeEventListener("selectionchange",Xd);var f=o.__lexicalEditor;if(null!=f){if(null!==f._parentEditor){var g=lc(f);g=g[g.length-1]._key,ts.get(g)===f&&ts.delete(g)}else ts.delete(f._key);o.__lexicalEditor=null}for(g=0,f=Vd(o);g<f.length;g++)f[g]();o.__lexicalEventHandles=[]}null!=_&&o.classList.remove(..._)}null!==i?(s=(s=i.ownerDocument)&&s.defaultView||null,(f=i.style).userSelect="text",f.whiteSpace="pre-wrap",f.wordBreak="break-word",i.setAttribute("data-lexical-editor","true"),this._window=s,this._dirtyType=2,Bb(this),this._updateTags.add("history-merge"),pf(this),this._config.disableEvents||function(i,o){0===tn&&i.ownerDocument.addEventListener("selectionchange",Xd),tn++,i.__lexicalEditor=o;let s=Vd(i);for(let f=0;f<e8.length;f++){let[g,_]=e8[f],b="function"==typeof _?i=>{!0!==i._lexicalHandled&&(i._lexicalHandled=!0,o.isEditable()&&_(i,o))}:i=>{if(!0!==i._lexicalHandled&&(i._lexicalHandled=!0,o.isEditable()))switch(g){case"cut":return O(o,em,i);case"copy":return O(o,eg,i);case"paste":return O(o,S,i);case"dragstart":return O(o,ed,i);case"dragover":return O(o,ep,i);case"dragend":return O(o,eh,i);case"focus":return O(o,ev,i);case"blur":return O(o,ey,i);case"drop":return O(o,eu,i)}};i.addEventListener(g,b),s.push(()=>{i.removeEventListener(g,b)})}}(i,this),null!=_&&i.classList.add(..._)):(this._editorState=s,this._window=this._pendingEditorState=null),rf("root",this,!1,i,o)}}getElementByKey(i){return this._keyToDOMMap.get(i)||null}getEditorState(){return this._editorState}setEditorState(i,o){i.isEmpty()&&r(38),Ab(this);let s=this._pendingEditorState,f=this._updateTags;o=void 0!==o?o.tag:null,null===s||s.isEmpty()||(null!=o&&f.add(o),pf(this)),this._pendingEditorState=i,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=o&&f.add(o),pf(this)}parseEditorState(i,o){i="string"==typeof i?JSON.parse(i):i;let s=Af(),f=tg,g=t_,_=tm,b=this._dirtyElements,T=this._dirtyLeaves,S=this._cloneNotNeeded,N=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,tg=s,t_=!1,tm=this;try{nf(i.root,this._nodes),o&&o(),s._readOnly=!0}catch(i){i instanceof Error&&this._onError(i)}finally{this._dirtyElements=b,this._dirtyLeaves=T,this._cloneNotNeeded=S,this._dirtyType=N,tg=f,t_=g,tm=_}return s}update(i,o){w(this,i,o)}focus(i,o={}){let s=this._rootElement;null!==s&&(s.setAttribute("autocapitalize","off"),w(this,()=>{let i=v(),s=hc();null!==i?i.dirty=!0:0!==s.getChildrenSize()&&("rootStart"===o.defaultSelection?s.selectStart():s.selectEnd())},{onUpdate:()=>{s.removeAttribute("autocapitalize"),i&&i()},tag:"focus"}),null===this._pendingEditorState&&s.removeAttribute("autocapitalize"))}blur(){var i=this._rootElement;null!==i&&i.blur(),null!==(i=vb(this._window))&&i.removeAllRanges()}isEditable(){return this._editable}setEditable(i){this._editable!==i&&(this._editable=i,rf("editable",this,!0,i))}toJSON(){return{editorState:this._editorState.toJSON()}}};let gf=class gf extends xf{constructor(i,o){super(o),this.__colSpan=i,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(i){return this.getWritable().__colSpan=i,this}getRowSpan(){return this.__rowSpan}setRowSpan(i){return this.getWritable().__rowSpan=i,this}};function P(i){return i instanceof gf}let Lf=class Lf extends xf{};function Ue(i){return i instanceof Lf}let Mf=class Mf extends xf{};function Te(i){return i instanceof Mf}o.$addUpdateTag=function(i){G(),F()._updateTags.add(i)},o.$applyNodeReplacement=Ac,o.$copyNode=zc,o.$createLineBreakNode=ge,o.$createNodeSelection=Ze,o.$createParagraphNode=de,o.$createRangeSelection=function(){let i=new ze("root",0,"element"),o=new ze("root",0,"element");return new Ne(i,o,0,"")},o.$createTabNode=ue,o.$createTextNode=J,o.$getAdjacentNode=tc,o.$getNearestNodeFromDOMNode=ub,o.$getNearestRootOrShadowRoot=xc,o.$getNodeByKey=I,o.$getPreviousSelection=oc,o.$getRoot=hc,o.$getSelection=v,o.$getTextContent=function(){let i=v();return null===i?"":i.getTextContent()},o.$hasAncestor=wc,o.$hasUpdateTag=function(i){return F()._updateTags.has(i)},o.$insertNodes=function(i,o){let s=v()||oc();return null===s&&(s=hc().selectEnd()),s.insertNodes(i,o)},o.$isBlockElementNode=Ye,o.$isDecoratorNode=z,o.$isElementNode=D,o.$isInlineElementOrDecoratorNode=function(i){return D(i)&&i.isInline()||z(i)&&i.isInline()},o.$isLeafNode=Xb,o.$isLineBreakNode=Yb,o.$isNodeSelection=Ud,o.$isParagraphNode=function(i){return i instanceof Cf},o.$isRangeSelection=C,o.$isRootNode=K,o.$isRootOrShadowRoot=yc,o.$isTabNode=function(i){return i instanceof ye},o.$isTextNode=B,o.$nodesOfType=function(i){var o=ac();let s=o._readOnly,f=i.getType();o=o._nodeMap;let g=[];for(let[,_]of o)_ instanceof i&&_.__type===f&&(s||_.isAttached())&&g.push(_);return g},o.$normalizeSelection__EXPERIMENTAL=Gb,o.$parseSerializedNode=function(i){return nf(i,F()._nodes)},o.$selectAll=function(){var i=hc();yb(Gb(i=i.select(0,i.getChildrenSize())))},o.$setCompositionKey=H,o.$setSelection=yb,o.$splitNode=Ec,o.BLUR_COMMAND=ey,o.CAN_REDO_COMMAND={},o.CAN_UNDO_COMMAND={},o.CLEAR_EDITOR_COMMAND={},o.CLEAR_HISTORY_COMMAND={},o.CLICK_COMMAND=f,o.COMMAND_PRIORITY_CRITICAL=4,o.COMMAND_PRIORITY_EDITOR=0,o.COMMAND_PRIORITY_HIGH=3,o.COMMAND_PRIORITY_LOW=1,o.COMMAND_PRIORITY_NORMAL=2,o.CONTROLLED_TEXT_INSERTION_COMMAND=T,o.COPY_COMMAND=eg,o.CUT_COMMAND=em,o.DELETE_CHARACTER_COMMAND=g,o.DELETE_LINE_COMMAND=R,o.DELETE_WORD_COMMAND=A,o.DEPRECATED_$computeGridMap=Ve,o.DEPRECATED_$createGridSelection=function(){let i=new ze("root",0,"element"),o=new ze("root",0,"element");return new Qe("root",i,o)},o.DEPRECATED_$getGridCellNodeRect=Oe,o.DEPRECATED_$getNodeTriplet=Pe,o.DEPRECATED_$isGridCellNode=P,o.DEPRECATED_$isGridNode=Ue,o.DEPRECATED_$isGridRowNode=Te,o.DEPRECATED_$isGridSelection=Re,o.DEPRECATED_GridCellNode=gf,o.DEPRECATED_GridNode=Lf,o.DEPRECATED_GridRowNode=Mf,o.DRAGEND_COMMAND=eh,o.DRAGOVER_COMMAND=ep,o.DRAGSTART_COMMAND=ed,o.DROP_COMMAND=eu,o.DecoratorNode=wf,o.ElementNode=xf,o.FOCUS_COMMAND=ev,o.FORMAT_ELEMENT_COMMAND={},o.FORMAT_TEXT_COMMAND=$,o.INDENT_CONTENT_COMMAND={},o.INSERT_LINE_BREAK_COMMAND=_,o.INSERT_PARAGRAPH_COMMAND=b,o.INSERT_TAB_COMMAND={},o.KEY_ARROW_DOWN_COMMAND=en,o.KEY_ARROW_LEFT_COMMAND=Z,o.KEY_ARROW_RIGHT_COMMAND=j,o.KEY_ARROW_UP_COMMAND=et,o.KEY_BACKSPACE_COMMAND=eo,o.KEY_DELETE_COMMAND=ea,o.KEY_DOWN_COMMAND=U,o.KEY_ENTER_COMMAND=er,o.KEY_ESCAPE_COMMAND=el,o.KEY_MODIFIER_COMMAND=eC,o.KEY_SPACE_COMMAND=ei,o.KEY_TAB_COMMAND=es,o.LineBreakNode=ee,o.MOVE_TO_END=Y,o.MOVE_TO_START=X,o.OUTDENT_CONTENT_COMMAND={},o.PASTE_COMMAND=S,o.ParagraphNode=Cf,o.REDO_COMMAND=V,o.REMOVE_TEXT_COMMAND=N,o.RootNode=zf,o.SELECTION_CHANGE_COMMAND=s,o.SELECT_ALL_COMMAND=e_,o.TabNode=ye,o.TextNode=me,o.UNDO_COMMAND=W,o.createCommand=function(){return{}},o.createEditor=function(i){let o,s;var f,g=i||{},_=tm,b=g.theme||{};let T=void 0===i?_:g.parentEditor||null,S=g.disableEvents||!1,N=Af(),A=g.namespace||(null!==T?T._config.namespace:mc()),R=g.editorState,$=[zf,me,ee,ye,Cf,...g.nodes||[]],W=g.onError;if(g=void 0===g.editable||g.editable,void 0===i&&null!==_)i=_._nodes;else for(i=new Map,_=0;_<$.length;_++){let o=$[_],s=null;var V=null;"function"!=typeof o&&(o=(V=o).replace,s=V.with,V=V.withKlass?V.withKlass:null);let f=o.getType(),g=o.transform(),b=new Set;null!==g&&b.add(g),i.set(f,{klass:o,replace:s,replaceWithKlass:V,transforms:b})}return b=new Kf(N,T,i,{disableEvents:S,namespace:A,theme:b},W||console.error,(f=i,o=new Map,s=new Set,f.forEach(i=>{if(null!=(i=null!=i.klass.importDOM?i.klass.importDOM.bind(i.klass):null)&&!s.has(i)){s.add(i);var f=i();null!==f&&Object.keys(f).forEach(i=>{let s=o.get(i);void 0===s&&(s=[],o.set(i,s)),s.push(f[i])})}}),o),g),void 0!==R&&(b._pendingEditorState=R,b._dirtyType=2),b},o.getNearestEditorFromDOMNode=Mb,o.isHTMLAnchorElement=function(i){return Hc(i)&&"A"===i.tagName},o.isHTMLElement=Hc,o.isSelectionCapturedInDecoratorInput=Kb,o.isSelectionWithinEditor=Lb},7543:function(i,o,s){"use strict";let f,g;s.r(o),s.d(o,{default:function(){return rich_editor}});var _={};s.r(_),s.d(_,{attentionMarkers:function(){return e4},contentInitial:function(){return eX},disable:function(){return e6},document:function(){return eQ},flow:function(){return e1},flowInitial:function(){return e0},insideSpan:function(){return e5},string:function(){return e2},text:function(){return e3}});var b=s(7437);s(3062);var T=s(2265),S=s(5999),N=s(909),A=s(7273),R=s(2104),$=s(1333);let W={}.hasOwnProperty;function configure(i,o){let s,f=-1;if(o.extensions)for(;++f<o.extensions.length;)configure(i,o.extensions[f]);for(s in o)"extensions"===s||("unsafe"===s||"join"===s?i[s]=[...i[s]||[],...o[s]||[]]:"handlers"===s?i[s]=Object.assign(i[s],o[s]||{}):i.options[s]=o[s]);return i}function map(i,o,s){return">"+(s?"":" ")+i}function patternInScope(i,o){return listInScope(i,o.inConstruct,!0)&&!listInScope(i,o.notInConstruct,!1)}function listInScope(i,o,s){if("string"==typeof o&&(o=[o]),!o||0===o.length)return s;let f=-1;for(;++f<o.length;)if(i.includes(o[f]))return!0;return!1}function hardBreak(i,o,s,f){let g=-1;for(;++g<s.unsafe.length;)if("\n"===s.unsafe[g].character&&patternInScope(s.stack,s.unsafe[g]))return/[ \t]/.test(f.before)?"":" ";return"\\\n"}function formatCodeAsIndented(i,o){return!!(!o.options.fences&&i.value&&!i.lang&&/[^ \r\n]/.test(i.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(i.value))}function code_map(i,o,s){return(s?"":"    ")+i}function checkQuote(i){let o=i.options.quote||'"';if('"'!==o&&"'"!==o)throw Error("Cannot serialize title with `"+o+"` for `options.quote`, expected `\"`, or `'`");return o}function emphasis(i,o,s,f){let g=function(i){let o=i.options.emphasis||"*";if("*"!==o&&"_"!==o)throw Error("Cannot serialize emphasis with `"+o+"` for `options.emphasis`, expected `*`, or `_`");return o}(s),_=s.enter("emphasis"),b=s.createTracker(f),T=b.move(g);return T+=b.move(s.containerPhrasing(i,{before:T,after:g,...b.current()}))+b.move(g),_(),T}emphasis.peek=function(i,o,s){return s.options.emphasis||"*"};let convert=function(i){if(null==i)return ok;if("string"==typeof i)return castFactory(function(o){return o&&o.type===i});if("object"==typeof i)return Array.isArray(i)?function(i){let o=[],s=-1;for(;++s<i.length;)o[s]=convert(i[s]);return castFactory(function(...i){let s=-1;for(;++s<o.length;)if(o[s].call(this,...i))return!0;return!1})}(i):castFactory(function(o){let s;for(s in i)if(o[s]!==i[s])return!1;return!0});if("function"==typeof i)return castFactory(i);throw Error("Expected function, string, or object as test")};function castFactory(i){return function(o,...s){return!!(o&&"object"==typeof o&&"type"in o&&i.call(this,o,...s))}}function ok(){return!0}let visitParents=function(i,o,s,f){"function"==typeof o&&"function"!=typeof s&&(f=s,s=o,o=null);let g=convert(o),_=f?-1:1;(function factory(i,b,T){let S=i&&"object"==typeof i?i:{};if("string"==typeof S.type){let o="string"==typeof S.tagName?S.tagName:"string"==typeof S.name?S.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+i.type+(o?"<"+o+">":"")+")"})}return visit;function visit(){var S;let N,A,R,$=[];if((!o||g(i,b,T[T.length-1]||null))&&!1===($=Array.isArray(S=s(i,T))?S:"number"==typeof S?[!0,S]:[S])[0])return $;if(i.children&&"skip"!==$[0])for(A=(f?i.children.length:-1)+_,R=T.concat(i);A>-1&&A<i.children.length;){if(!1===(N=factory(i.children[A],A,R)())[0])return N;A="number"==typeof N[1]?N[1]:A+_}return $}})(i,void 0,[])()},visit=function(i,o,s,f){"function"==typeof o&&"function"!=typeof s&&(f=s,s=o,o=null),visitParents(i,o,function(i,o){let f=o[o.length-1];return s(i,f?f.children.indexOf(i):null,f)},f)},V={};function lib_toString(i,o){let s=o||V,f="boolean"!=typeof s.includeImageAlt||s.includeImageAlt,g="boolean"!=typeof s.includeHtml||s.includeHtml;return one(i,f,g)}function one(i,o,s){if(i&&"object"==typeof i){if("value"in i)return"html"!==i.type||s?i.value:"";if(o&&"alt"in i&&i.alt)return i.alt;if("children"in i)return lib_all(i.children,o,s)}return Array.isArray(i)?lib_all(i,o,s):""}function lib_all(i,o,s){let f=[],g=-1;for(;++g<i.length;)f[g]=one(i[g],o,s);return f.join("")}function formatHeadingAsSetext(i,o){let s=!1;return visit(i,i=>{if("value"in i&&/\r?\n|\r/.test(i.value)||"break"===i.type)return s=!0,!1}),!!((!i.depth||i.depth<3)&&lib_toString(i)&&(o.options.setext||s))}function html(i){return i.value||""}function image_image(i,o,s,f){let g=checkQuote(s),_='"'===g?"Quote":"Apostrophe",b=s.enter("image"),T=s.enter("label"),S=s.createTracker(f),N=S.move("![");return N+=S.move(s.safe(i.alt,{before:N,after:"]",...S.current()}))+S.move("]("),T(),!i.url&&i.title||/[\0- \u007F]/.test(i.url)?(T=s.enter("destinationLiteral"),N+=S.move("<"),N+=S.move(s.safe(i.url,{before:N,after:">",...S.current()}))+S.move(">")):(T=s.enter("destinationRaw"),N+=S.move(s.safe(i.url,{before:N,after:i.title?" ":")",...S.current()}))),T(),i.title&&(T=s.enter(`title${_}`),N+=S.move(" "+g),N+=S.move(s.safe(i.title,{before:N,after:g,...S.current()}))+S.move(g),T()),N+=S.move(")"),b(),N}function imageReference(i,o,s,f){let g=i.referenceType,_=s.enter("imageReference"),b=s.enter("label"),T=s.createTracker(f),S=T.move("!["),N=s.safe(i.alt,{before:S,after:"]",...T.current()});S+=T.move(N+"]["),b();let A=s.stack;s.stack=[],b=s.enter("reference");let R=s.safe(s.associationId(i),{before:S,after:"]",...T.current()});return b(),s.stack=A,_(),"full"!==g&&N&&N===R?"shortcut"===g?S=S.slice(0,-1):S+=T.move("]"):S+=T.move(R+"]"),S}function patternCompile(i){if(!i._compiled){let o=(i.atBreak?"[\\r\\n][\\t ]*":"")+(i.before?"(?:"+i.before+")":"");i._compiled=RegExp((o?"("+o+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(i.character)?"\\":"")+i.character+(i.after?"(?:"+i.after+")":""),"g")}return i._compiled}function inlineCode(i,o,s){let f=i.value||"",g="`",_=-1;for(;RegExp("(^|[^`])"+g+"([^`]|$)").test(f);)g+="`";for(/[^ \r\n]/.test(f)&&(/^[ \r\n]/.test(f)&&/[ \r\n]$/.test(f)||/^`|`$/.test(f))&&(f=" "+f+" ");++_<s.unsafe.length;){let i;let o=s.unsafe[_],g=patternCompile(o);if(o.atBreak)for(;i=g.exec(f);){let o=i.index;10===f.charCodeAt(o)&&13===f.charCodeAt(o-1)&&o--,f=f.slice(0,o)+" "+f.slice(i.index+1)}}return g+f+g}function formatLinkAsAutolink(i,o){let s=lib_toString(i);return!!(!o.options.resourceLink&&i.url&&!i.title&&i.children&&1===i.children.length&&"text"===i.children[0].type&&(s===i.url||"mailto:"+s===i.url)&&/^[a-z][a-z+.-]+:/i.test(i.url)&&!/[\0- <>\u007F]/.test(i.url))}function link_link(i,o,s,f){let g,_;let b=checkQuote(s),T='"'===b?"Quote":"Apostrophe",S=s.createTracker(f);if(formatLinkAsAutolink(i,s)){let o=s.stack;s.stack=[],g=s.enter("autolink");let f=S.move("<");return f+=S.move(s.containerPhrasing(i,{before:f,after:">",...S.current()}))+S.move(">"),g(),s.stack=o,f}g=s.enter("link"),_=s.enter("label");let N=S.move("[");return N+=S.move(s.containerPhrasing(i,{before:N,after:"](",...S.current()}))+S.move("]("),_(),!i.url&&i.title||/[\0- \u007F]/.test(i.url)?(_=s.enter("destinationLiteral"),N+=S.move("<"),N+=S.move(s.safe(i.url,{before:N,after:">",...S.current()}))+S.move(">")):(_=s.enter("destinationRaw"),N+=S.move(s.safe(i.url,{before:N,after:i.title?" ":")",...S.current()}))),_(),i.title&&(_=s.enter(`title${T}`),N+=S.move(" "+b),N+=S.move(s.safe(i.title,{before:N,after:b,...S.current()}))+S.move(b),_()),N+=S.move(")"),g(),N}function linkReference(i,o,s,f){let g=i.referenceType,_=s.enter("linkReference"),b=s.enter("label"),T=s.createTracker(f),S=T.move("["),N=s.containerPhrasing(i,{before:S,after:"]",...T.current()});S+=T.move(N+"]["),b();let A=s.stack;s.stack=[],b=s.enter("reference");let R=s.safe(s.associationId(i),{before:S,after:"]",...T.current()});return b(),s.stack=A,_(),"full"!==g&&N&&N===R?"shortcut"===g?S=S.slice(0,-1):S+=T.move("]"):S+=T.move(R+"]"),S}function checkBullet(i){let o=i.options.bullet||"*";if("*"!==o&&"+"!==o&&"-"!==o)throw Error("Cannot serialize items with `"+o+"` for `options.bullet`, expected `*`, `+`, or `-`");return o}function checkBulletOrdered(i){let o=i.options.bulletOrdered||".";if("."!==o&&")"!==o)throw Error("Cannot serialize items with `"+o+"` for `options.bulletOrdered`, expected `.` or `)`");return o}function checkRule(i){let o=i.options.rule||"*";if("*"!==o&&"-"!==o&&"_"!==o)throw Error("Cannot serialize rules with `"+o+"` for `options.rule`, expected `*`, `-`, or `_`");return o}html.peek=function(){return"<"},image_image.peek=function(){return"!"},imageReference.peek=function(){return"!"},inlineCode.peek=function(){return"`"},link_link.peek=function(i,o,s){return formatLinkAsAutolink(i,s)?"<":"["},linkReference.peek=function(){return"["};let U=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function strong(i,o,s,f){let g=function(i){let o=i.options.strong||"*";if("*"!==o&&"_"!==o)throw Error("Cannot serialize strong with `"+o+"` for `options.strong`, expected `*`, or `_`");return o}(s),_=s.enter("strong"),b=s.createTracker(f),T=b.move(g+g);return T+=b.move(s.containerPhrasing(i,{before:T,after:g,...b.current()}))+b.move(g+g),_(),T}strong.peek=function(i,o,s){return s.options.strong||"*"};let j={blockquote:function(i,o,s,f){let g=s.enter("blockquote"),_=s.createTracker(f);_.move("> "),_.shift(2);let b=s.indentLines(s.containerFlow(i,_.current()),map);return g(),b},break:hardBreak,code:function(i,o,s,f){let g=function(i){let o=i.options.fence||"`";if("`"!==o&&"~"!==o)throw Error("Cannot serialize code with `"+o+"` for `options.fence`, expected `` ` `` or `~`");return o}(s),_=i.value||"",b="`"===g?"GraveAccent":"Tilde";if(formatCodeAsIndented(i,s)){let i=s.enter("codeIndented"),o=s.indentLines(_,code_map);return i(),o}let T=s.createTracker(f),S=g.repeat(Math.max(function(i,o){let s=String(i),f=s.indexOf(o),g=f,_=0,b=0;if("string"!=typeof o)throw TypeError("Expected substring");for(;-1!==f;)f===g?++_>b&&(b=_):_=1,g=f+o.length,f=s.indexOf(o,g);return b}(_,g)+1,3)),N=s.enter("codeFenced"),A=T.move(S);if(i.lang){let o=s.enter(`codeFencedLang${b}`);A+=T.move(s.safe(i.lang,{before:A,after:" ",encode:["`"],...T.current()})),o()}if(i.lang&&i.meta){let o=s.enter(`codeFencedMeta${b}`);A+=T.move(" "),A+=T.move(s.safe(i.meta,{before:A,after:"\n",encode:["`"],...T.current()})),o()}return A+=T.move("\n"),_&&(A+=T.move(_+"\n")),A+=T.move(S),N(),A},definition:function(i,o,s,f){let g=checkQuote(s),_='"'===g?"Quote":"Apostrophe",b=s.enter("definition"),T=s.enter("label"),S=s.createTracker(f),N=S.move("[");return N+=S.move(s.safe(s.associationId(i),{before:N,after:"]",...S.current()}))+S.move("]: "),T(),!i.url||/[\0- \u007F]/.test(i.url)?(T=s.enter("destinationLiteral"),N+=S.move("<"),N+=S.move(s.safe(i.url,{before:N,after:">",...S.current()}))+S.move(">")):(T=s.enter("destinationRaw"),N+=S.move(s.safe(i.url,{before:N,after:i.title?" ":"\n",...S.current()}))),T(),i.title&&(T=s.enter(`title${_}`),N+=S.move(" "+g),N+=S.move(s.safe(i.title,{before:N,after:g,...S.current()}))+S.move(g),T()),b(),N},emphasis:emphasis,hardBreak:hardBreak,heading:function(i,o,s,f){let g=Math.max(Math.min(6,i.depth||1),1),_=s.createTracker(f);if(formatHeadingAsSetext(i,s)){let o=s.enter("headingSetext"),f=s.enter("phrasing"),b=s.containerPhrasing(i,{..._.current(),before:"\n",after:"\n"});return f(),o(),b+"\n"+(1===g?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf("\n"))+1))}let b="#".repeat(g),T=s.enter("headingAtx"),S=s.enter("phrasing");_.move(b+" ");let N=s.containerPhrasing(i,{before:"# ",after:"\n",..._.current()});return/^[\t ]/.test(N)&&(N="&#x"+N.charCodeAt(0).toString(16).toUpperCase()+";"+N.slice(1)),N=N?b+" "+N:b,s.options.closeAtx&&(N+=" "+b),S(),T(),N},html:html,image:image_image,imageReference:imageReference,inlineCode:inlineCode,link:link_link,linkReference:linkReference,list:function(i,o,s,f){let g=s.enter("list"),_=s.bulletCurrent,b=i.ordered?checkBulletOrdered(s):checkBullet(s),T=i.ordered?function(i){let o=checkBulletOrdered(i),s=i.options.bulletOrderedOther;if(!s)return"."===o?")":".";if("."!==s&&")"!==s)throw Error("Cannot serialize items with `"+s+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(s===o)throw Error("Expected `bulletOrdered` (`"+o+"`) and `bulletOrderedOther` (`"+s+"`) to be different");return s}(s):function(i){let o=checkBullet(i),s=i.options.bulletOther;if(!s)return"*"===o?"-":"*";if("*"!==s&&"+"!==s&&"-"!==s)throw Error("Cannot serialize items with `"+s+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(s===o)throw Error("Expected `bullet` (`"+o+"`) and `bulletOther` (`"+s+"`) to be different");return s}(s),S=s.bulletLastUsed,N=!1;if(o&&(i.ordered?s.options.bulletOrderedOther:s.options.bulletOther)&&S&&b===S&&(N=!0),!i.ordered){let o=i.children?i.children[0]:void 0;if("*"!==b&&"-"!==b||!o||o.children&&o.children[0]||"list"!==s.stack[s.stack.length-1]||"listItem"!==s.stack[s.stack.length-2]||"list"!==s.stack[s.stack.length-3]||"listItem"!==s.stack[s.stack.length-4]||0!==s.indexStack[s.indexStack.length-1]||0!==s.indexStack[s.indexStack.length-2]||0!==s.indexStack[s.indexStack.length-3]||(N=!0),checkRule(s)===b&&o){let o=-1;for(;++o<i.children.length;){let s=i.children[o];if(s&&"listItem"===s.type&&s.children&&s.children[0]&&"thematicBreak"===s.children[0].type){N=!0;break}}}}N&&(b=T),s.bulletCurrent=b;let A=s.containerFlow(i,f);return s.bulletLastUsed=b,s.bulletCurrent=_,g(),A},listItem:function(i,o,s,f){let g=function(i){let o=i.options.listItemIndent||"tab";if(1===o||"1"===o)return"one";if("tab"!==o&&"one"!==o&&"mixed"!==o)throw Error("Cannot serialize items with `"+o+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return o}(s),_=s.bulletCurrent||checkBullet(s);o&&"list"===o.type&&o.ordered&&(_=("number"==typeof o.start&&o.start>-1?o.start:1)+(!1===s.options.incrementListMarker?0:o.children.indexOf(i))+_);let b=_.length+1;("tab"===g||"mixed"===g&&(o&&"list"===o.type&&o.spread||i.spread))&&(b=4*Math.ceil(b/4));let T=s.createTracker(f);T.move(_+" ".repeat(b-_.length)),T.shift(b);let S=s.enter("listItem"),N=s.indentLines(s.containerFlow(i,T.current()),function(i,o,s){return o?(s?"":" ".repeat(b))+i:(s?_:_+" ".repeat(b-_.length))+i});return S(),N},paragraph:function(i,o,s,f){let g=s.enter("paragraph"),_=s.enter("phrasing"),b=s.containerPhrasing(i,f);return _(),g(),b},root:function(i,o,s,f){let g=i.children.some(i=>U(i)),_=g?s.containerPhrasing:s.containerFlow;return _.call(s,i,f)},strong:strong,text:function(i,o,s,f){return s.safe(i.value,f)},thematicBreak:function(i,o,s){let f=(checkRule(s)+(s.options.ruleSpaces?" ":"")).repeat(function(i){let o=i.options.ruleRepetition||3;if(o<3)throw Error("Cannot serialize rules with repetition `"+o+"` for `options.ruleRepetition`, expected `3` or more");return o}(s));return s.options.ruleSpaces?f.slice(0,-1):f}},Y=[function(i,o,s,f){if("code"===o.type&&formatCodeAsIndented(o,f)&&("list"===i.type||i.type===o.type&&formatCodeAsIndented(i,f))||"list"===i.type&&i.type===o.type&&!!i.ordered==!!o.ordered&&!(i.ordered?f.options.bulletOrderedOther:f.options.bulletOther))return!1;if("spread"in s&&"boolean"==typeof s.spread){if("paragraph"===i.type&&(i.type===o.type||"definition"===o.type||"heading"===o.type&&formatHeadingAsSetext(o,f)))return;return s.spread?1:0}}],Z=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],X=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Z},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Z},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:"(?:[ 	\r\n*])"},{character:"*",inConstruct:"phrasing",notInConstruct:Z},{atBreak:!0,character:"+",after:"(?:[ 	\r\n])"},{atBreak:!0,character:"-",after:"(?:[ 	\r\n-])"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ 	\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Z},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Z},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Z},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Z},{atBreak:!0,character:"~"}];var et=s(3034);function decodeNumericCharacterReference(i,o){let s=Number.parseInt(i,o);return s<9||11===s||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(65535&s)==65535||(65535&s)==65534||s>1114111?"":String.fromCharCode(s)}let en=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(i){return i.replace(en,decode)}function decode(i,o,s){if(o)return o;let f=s.charCodeAt(0);if(35===f){let i=s.charCodeAt(1),o=120===i||88===i;return decodeNumericCharacterReference(s.slice(o?2:1),o?16:10)}return(0,et.T)(s)||i}function association(i){return i.label||!i.identifier?i.label||"":decodeString(i.identifier)}let er=/\r?\n|\r/g;function indentLines(i,o){let s;let f=[],g=0,_=0;for(;s=er.exec(i);)one(i.slice(g,s.index)),f.push(s[0]),g=s.index+s[0].length,_++;return one(i.slice(g)),f.join("");function one(i){f.push(o(i,_,!i))}}function numerical(i,o){return i-o}function escapeBackslashes(i,o){let s;let f=/\\(?=[!-/:-@[-`{-~])/g,g=[],_=[],b=i+o,T=-1,S=0;for(;s=f.exec(b);)g.push(s.index);for(;++T<g.length;)S!==g[T]&&_.push(i.slice(S,g[T])),_.push("\\"),S=g[T];return _.push(i.slice(S)),_.join("")}function track(i){let o=i||{},s=o.now||{},f=o.lineShift||0,g=s.line||1,_=s.column||1;return{move:function(i){let o=i||"",s=o.split(/\r?\n|\r/g),b=s[s.length-1];return g+=s.length-1,_=1===s.length?_+b.length:1+b.length+f,o},current:function(){return{now:{line:g,column:_},lineShift:f}},shift:function(i){f+=i}}}function invalid(i){throw Error("Cannot handle value `"+i+"`, expected node")}function unknown(i){throw Error("Cannot handle unknown node `"+i.type+"`")}function joinDefinition(i,o){if("definition"===i.type&&i.type===o.type)return 0}function containerPhrasingBound(i,o){return function(i,o,s){let f=o.indexStack,g=i.children||[],_=[],b=-1,T=s.before;f.push(-1);let S=o.createTracker(s);for(;++b<g.length;){let N;let A=g[b];if(f[f.length-1]=b,b+1<g.length){let s=o.handle.handlers[g[b+1].type];s&&s.peek&&(s=s.peek),N=s?s(g[b+1],i,o,{before:"",after:"",...S.current()}).charAt(0):""}else N=s.after;_.length>0&&("\r"===T||"\n"===T)&&"html"===A.type&&(_[_.length-1]=_[_.length-1].replace(/(\r?\n|\r)$/," "),T=" ",(S=o.createTracker(s)).move(_.join(""))),_.push(S.move(o.handle(A,i,o,{...S.current(),before:T,after:N}))),T=_[_.length-1].slice(-1)}return f.pop(),_.join("")}(i,this,o)}function containerFlowBound(i,o){return function(i,o,s){let f=o.indexStack,g=i.children||[],_=o.createTracker(s),b=[],T=-1;for(f.push(-1);++T<g.length;){let s=g[T];f[f.length-1]=T,b.push(_.move(o.handle(s,i,o,{before:"\n",after:"\n",..._.current()}))),"list"!==s.type&&(o.bulletLastUsed=void 0),T<g.length-1&&b.push(_.move(function(i,o,s,f){let g=f.join.length;for(;g--;){let _=f.join[g](i,o,s,f);if(!0===_||1===_)break;if("number"==typeof _)return"\n".repeat(1+_);if(!1===_)return"\n\n<!---->\n\n"}return"\n\n"}(s,g[T+1],i,o)))}return f.pop(),b.join("")}(i,this,o)}function safeBound(i,o){return function(i,o,s){let f=(s.before||"")+(o||"")+(s.after||""),g=[],_=[],b={},T=-1;for(;++T<i.unsafe.length;){let o;let s=i.unsafe[T];if(!patternInScope(i.stack,s))continue;let _=patternCompile(s);for(;o=_.exec(f);){let i="before"in s||!!s.atBreak,f="after"in s,_=o.index+(i?o[1].length:0);g.includes(_)?(b[_].before&&!i&&(b[_].before=!1),b[_].after&&!f&&(b[_].after=!1)):(g.push(_),b[_]={before:i,after:f})}}g.sort(numerical);let S=s.before?s.before.length:0,N=f.length-(s.after?s.after.length:0);for(T=-1;++T<g.length;){let i=g[T];!(i<S)&&!(i>=N)&&(!(i+1<N)||g[T+1]!==i+1||!b[i].after||b[i+1].before||b[i+1].after)&&(g[T-1]!==i-1||!b[i].before||b[i-1].before||b[i-1].after)&&(S!==i&&_.push(escapeBackslashes(f.slice(S,i),"\\")),S=i,!/[!-/:-@[-`{-~]/.test(f.charAt(i))||s.encode&&s.encode.includes(f.charAt(i))?(_.push("&#x"+f.charCodeAt(i).toString(16).toUpperCase()+";"),S++):_.push("\\"))}return _.push(escapeBackslashes(f.slice(S,N),s.after)),_.join("")}(this,i,o)}let ei=/\s+$/,eo=/^\s+/;function splice(i,o,s,f){let g;let _=i.length,b=0;if(o=o<0?-o>_?0:_+o:o>_?_:o,s=s>0?s:0,f.length<1e4)(g=Array.from(f)).unshift(o,s),i.splice(...g);else for(s&&i.splice(o,s);b<f.length;)(g=f.slice(b,b+1e4)).unshift(o,0),i.splice(...g),b+=1e4,o+=1e4}function push(i,o){return i.length>0?(splice(i,i.length,0,o),i):o}let el={}.hasOwnProperty,ea=regexCheck(/[A-Za-z]/),es=regexCheck(/[\dA-Za-z]/),eu=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(i){return null!==i&&(i<32||127===i)}let ed=regexCheck(/\d/),ep=regexCheck(/[\dA-Fa-f]/),eh=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(i){return null!==i&&i<-2}function markdownLineEndingOrSpace(i){return null!==i&&(i<0||32===i)}function markdownSpace(i){return -2===i||-1===i||32===i}let eg=regexCheck(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),em=regexCheck(/\s/);function regexCheck(i){return function(o){return null!==o&&i.test(String.fromCharCode(o))}}function factorySpace(i,o,s,f){let g=f?f-1:Number.POSITIVE_INFINITY,_=0;return function(f){return markdownSpace(f)?(i.enter(s),function prefix(f){return markdownSpace(f)&&_++<g?(i.consume(f),prefix):(i.exit(s),o(f))}(f)):o(f)}}let e_={tokenize:function(i){let o;let s=i.attempt(this.parser.constructs.contentInitial,function(o){if(null===o){i.consume(o);return}return i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),factorySpace(i,s,"linePrefix")},function(s){return i.enter("paragraph"),function lineStart(s){let f=i.enter("chunkText",{contentType:"text",previous:o});return o&&(o.next=f),o=f,function data(o){if(null===o){i.exit("chunkText"),i.exit("paragraph"),i.consume(o);return}return markdownLineEnding(o)?(i.consume(o),i.exit("chunkText"),lineStart):(i.consume(o),data)}(s)}(s)});return s}},ev={tokenize:function(i){let o,s,f;let g=this,_=[],b=0;return start;function start(o){if(b<_.length){let s=_[b];return g.containerState=s[1],i.attempt(s[0].continuation,documentContinue,checkNewContainers)(o)}return checkNewContainers(o)}function documentContinue(i){if(b++,g.containerState._closeFlow){let s;g.containerState._closeFlow=void 0,o&&closeFlow();let f=g.events.length,_=f;for(;_--;)if("exit"===g.events[_][0]&&"chunkFlow"===g.events[_][1].type){s=g.events[_][1].end;break}exitContainers(b);let T=f;for(;T<g.events.length;)g.events[T][1].end=Object.assign({},s),T++;return splice(g.events,_+1,0,g.events.slice(f)),g.events.length=T,checkNewContainers(i)}return start(i)}function checkNewContainers(s){if(b===_.length){if(!o)return documentContinued(s);if(o.currentConstruct&&o.currentConstruct.concrete)return flowStart(s);g.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return g.containerState={},i.check(ey,thereIsANewContainer,thereIsNoNewContainer)(s)}function thereIsANewContainer(i){return o&&closeFlow(),exitContainers(b),documentContinued(i)}function thereIsNoNewContainer(i){return g.parser.lazy[g.now().line]=b!==_.length,f=g.now().offset,flowStart(i)}function documentContinued(o){return g.containerState={},i.attempt(ey,containerContinue,flowStart)(o)}function containerContinue(i){return b++,_.push([g.currentConstruct,g.containerState]),documentContinued(i)}function flowStart(f){if(null===f){o&&closeFlow(),exitContainers(0),i.consume(f);return}return o=o||g.parser.flow(g.now()),i.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:o}),function flowContinue(o){if(null===o){writeToChild(i.exit("chunkFlow"),!0),exitContainers(0),i.consume(o);return}return markdownLineEnding(o)?(i.consume(o),writeToChild(i.exit("chunkFlow")),b=0,g.interrupt=void 0,start):(i.consume(o),flowContinue)}(f)}function writeToChild(i,_){let T=g.sliceStream(i);if(_&&T.push(null),i.previous=s,s&&(s.next=i),s=i,o.defineSkip(i.start),o.write(T),g.parser.lazy[i.start.line]){let i,s,_=o.events.length;for(;_--;)if(o.events[_][1].start.offset<f&&(!o.events[_][1].end||o.events[_][1].end.offset>f))return;let T=g.events.length,S=T;for(;S--;)if("exit"===g.events[S][0]&&"chunkFlow"===g.events[S][1].type){if(i){s=g.events[S][1].end;break}i=!0}for(exitContainers(b),_=T;_<g.events.length;)g.events[_][1].end=Object.assign({},s),_++;splice(g.events,S+1,0,g.events.slice(T)),g.events.length=_}}function exitContainers(o){let s=_.length;for(;s-- >o;){let o=_[s];g.containerState=o[1],o[0].exit.call(g,i)}_.length=o}function closeFlow(){o.write([null]),s=void 0,o=void 0,g.containerState._closeFlow=void 0}}},ey={tokenize:function(i,o,s){return factorySpace(i,i.attempt(this.parser.constructs.document,o,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},eC={tokenize:function(i,o,s){return function(o){return markdownSpace(o)?factorySpace(i,after,"linePrefix")(o):after(o)};function after(i){return null===i||markdownLineEnding(i)?o(i):s(i)}},partial:!0};function subtokenize(i){let o,s,f,g,_,b,T;let S={},N=-1;for(;++N<i.length;){for(;(N in S);)N=S[N];if(o=i[N],N&&"chunkFlow"===o[1].type&&"listItemPrefix"===i[N-1][1].type&&((f=0)<(b=o[1]._tokenizer.events).length&&"lineEndingBlank"===b[f][1].type&&(f+=2),f<b.length&&"content"===b[f][1].type))for(;++f<b.length&&"content"!==b[f][1].type;)"chunkText"===b[f][1].type&&(b[f][1]._isInFirstContentOfListItem=!0,f++);if("enter"===o[0])o[1].contentType&&(Object.assign(S,function(i,o){let s,f;let g=i[o][1],_=i[o][2],b=o-1,T=[],S=g._tokenizer||_.parser[g.contentType](g.start),N=S.events,A=[],R={},$=-1,W=g,V=0,U=0,j=[U];for(;W;){for(;i[++b][1]!==W;);T.push(b),!W._tokenizer&&(s=_.sliceStream(W),W.next||s.push(null),f&&S.defineSkip(W.start),W._isInFirstContentOfListItem&&(S._gfmTasklistFirstContentOfListItem=!0),S.write(s),W._isInFirstContentOfListItem&&(S._gfmTasklistFirstContentOfListItem=void 0)),f=W,W=W.next}for(W=g;++$<N.length;)"exit"===N[$][0]&&"enter"===N[$-1][0]&&N[$][1].type===N[$-1][1].type&&N[$][1].start.line!==N[$][1].end.line&&(U=$+1,j.push(U),W._tokenizer=void 0,W.previous=void 0,W=W.next);for(S.events=[],W?(W._tokenizer=void 0,W.previous=void 0):j.pop(),$=j.length;$--;){let o=N.slice(j[$],j[$+1]),s=T.pop();A.unshift([s,s+o.length-1]),splice(i,s,2,o)}for($=-1;++$<A.length;)R[V+A[$][0]]=V+A[$][1],V+=A[$][1]-A[$][0]-1;return R}(i,N)),N=S[N],T=!0);else if(o[1]._container){for(f=N,s=void 0;f--;)if("lineEnding"===(g=i[f])[1].type||"lineEndingBlank"===g[1].type)"enter"===g[0]&&(s&&(i[s][1].type="lineEndingBlank"),g[1].type="lineEnding",s=f);else break;s&&(o[1].end=Object.assign({},i[s][1].start),(_=i.slice(s,N)).unshift(o),splice(i,s,N-s+1,_))}}return!T}let ex={tokenize:function(i,o){let s;return function(o){return i.enter("content"),s=i.enter("chunkContent",{contentType:"content"}),chunkInside(o)};function chunkInside(o){return null===o?contentEnd(o):markdownLineEnding(o)?i.check(eE,contentContinue,contentEnd)(o):(i.consume(o),chunkInside)}function contentEnd(s){return i.exit("chunkContent"),i.exit("content"),o(s)}function contentContinue(o){return i.consume(o),i.exit("chunkContent"),s.next=i.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,chunkInside}},resolve:function(i){return subtokenize(i),i}},eE={tokenize:function(i,o,s){let f=this;return function(o){return i.exit("chunkContent"),i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),factorySpace(i,prefixed,"linePrefix")};function prefixed(g){if(null===g||markdownLineEnding(g))return s(g);let _=f.events[f.events.length-1];return!f.parser.constructs.disable.null.includes("codeIndented")&&_&&"linePrefix"===_[1].type&&_[2].sliceSerialize(_[1],!0).length>=4?o(g):i.interrupt(f.parser.constructs.flow,s,o)(g)}},partial:!0},eb={tokenize:function(i){let o=this,s=i.attempt(eC,function(f){if(null===f){i.consume(f);return}return i.enter("lineEndingBlank"),i.consume(f),i.exit("lineEndingBlank"),o.currentConstruct=void 0,s},i.attempt(this.parser.constructs.flowInitial,afterConstruct,factorySpace(i,i.attempt(this.parser.constructs.flow,afterConstruct,i.attempt(ex,afterConstruct)),"linePrefix")));return s;function afterConstruct(f){if(null===f){i.consume(f);return}return i.enter("lineEnding"),i.consume(f),i.exit("lineEnding"),o.currentConstruct=void 0,s}}},ek={resolveAll:createResolver()},eT=initializeFactory("string"),eS=initializeFactory("text");function initializeFactory(i){return{tokenize:function(o){let s=this,f=this.parser.constructs[i],g=o.attempt(f,start,notText);return start;function start(i){return atBreak(i)?g(i):notText(i)}function notText(i){if(null===i){o.consume(i);return}return o.enter("data"),o.consume(i),data}function data(i){return atBreak(i)?(o.exit("data"),g(i)):(o.consume(i),data)}function atBreak(i){if(null===i)return!0;let o=f[i],g=-1;if(o)for(;++g<o.length;){let i=o[g];if(!i.previous||i.previous.call(s,s.previous))return!0}return!1}},resolveAll:createResolver("text"===i?resolveAllLineSuffixes:void 0)}}function createResolver(i){return function(o,s){let f,g=-1;for(;++g<=o.length;)void 0===f?o[g]&&"data"===o[g][1].type&&(f=g,g++):o[g]&&"data"===o[g][1].type||(g!==f+2&&(o[f][1].end=o[g-1][1].end,o.splice(f+2,g-f-2),g=f+2),f=void 0);return i?i(o,s):o}}function resolveAllLineSuffixes(i,o){let s=0;for(;++s<=i.length;)if((s===i.length||"lineEnding"===i[s][1].type)&&"data"===i[s-1][1].type){let f;let g=i[s-1][1],_=o.sliceStream(g),b=_.length,T=-1,S=0;for(;b--;){let i=_[b];if("string"==typeof i){for(T=i.length;32===i.charCodeAt(T-1);)S++,T--;if(T)break;T=-1}else if(-2===i)f=!0,S++;else if(-1===i);else{b++;break}}if(S){let _={type:s===i.length||f||S<2?"lineSuffix":"hardBreakTrailing",start:{line:g.end.line,column:g.end.column-S,offset:g.end.offset-S,_index:g.start._index+b,_bufferIndex:b?T:g.start._bufferIndex+T},end:Object.assign({},g.end)};g.end=Object.assign({},_.start),g.start.offset===g.end.offset?Object.assign(g,_):(i.splice(s,0,["enter",_,o],["exit",_,o]),s+=2)}s++}return i}function resolveAll(i,o,s){let f=[],g=-1;for(;++g<i.length;){let _=i[g].resolveAll;_&&!f.includes(_)&&(o=_(o,s),f.push(_))}return o}let eN={name:"thematicBreak",tokenize:function(i,o,s){let f,g=0;return function(_){return i.enter("thematicBreak"),f=_,function atBreak(_){return _===f?(i.enter("thematicBreakSequence"),function sequence(o){return o===f?(i.consume(o),g++,sequence):(i.exit("thematicBreakSequence"),markdownSpace(o)?factorySpace(i,atBreak,"whitespace")(o):atBreak(o))}(_)):g>=3&&(null===_||markdownLineEnding(_))?(i.exit("thematicBreak"),o(_)):s(_)}(_)}}},ew={name:"list",tokenize:function(i,o,s){let f=this,g=f.events[f.events.length-1],_=g&&"linePrefix"===g[1].type?g[2].sliceSerialize(g[1],!0).length:0,b=0;return function(o){let g=f.containerState.type||(42===o||43===o||45===o?"listUnordered":"listOrdered");if("listUnordered"===g?!f.containerState.marker||o===f.containerState.marker:ed(o)){if(f.containerState.type||(f.containerState.type=g,i.enter(g,{_container:!0})),"listUnordered"===g)return i.enter("listItemPrefix"),42===o||45===o?i.check(eN,s,atMarker)(o):atMarker(o);if(!f.interrupt||49===o)return i.enter("listItemPrefix"),i.enter("listItemValue"),function inside(o){return ed(o)&&++b<10?(i.consume(o),inside):(!f.interrupt||b<2)&&(f.containerState.marker?o===f.containerState.marker:41===o||46===o)?(i.exit("listItemValue"),atMarker(o)):s(o)}(o)}return s(o)};function atMarker(o){return i.enter("listItemMarker"),i.consume(o),i.exit("listItemMarker"),f.containerState.marker=f.containerState.marker||o,i.check(eC,f.interrupt?s:onBlank,i.attempt(eO,endOfPrefix,otherPrefix))}function onBlank(i){return f.containerState.initialBlankLine=!0,_++,endOfPrefix(i)}function otherPrefix(o){return markdownSpace(o)?(i.enter("listItemPrefixWhitespace"),i.consume(o),i.exit("listItemPrefixWhitespace"),endOfPrefix):s(o)}function endOfPrefix(s){return f.containerState.size=_+f.sliceSerialize(i.exit("listItemPrefix"),!0).length,o(s)}},continuation:{tokenize:function(i,o,s){let f=this;return f.containerState._closeFlow=void 0,i.check(eC,function(s){return f.containerState.furtherBlankLines=f.containerState.furtherBlankLines||f.containerState.initialBlankLine,factorySpace(i,o,"listItemIndent",f.containerState.size+1)(s)},function(s){return f.containerState.furtherBlankLines||!markdownSpace(s)?(f.containerState.furtherBlankLines=void 0,f.containerState.initialBlankLine=void 0,notInCurrentItem(s)):(f.containerState.furtherBlankLines=void 0,f.containerState.initialBlankLine=void 0,i.attempt(eD,o,notInCurrentItem)(s))});function notInCurrentItem(g){return f.containerState._closeFlow=!0,f.interrupt=void 0,factorySpace(i,i.attempt(ew,o,s),"linePrefix",f.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}},exit:function(i){i.exit(this.containerState.type)}},eO={tokenize:function(i,o,s){let f=this;return factorySpace(i,function(i){let g=f.events[f.events.length-1];return!markdownSpace(i)&&g&&"listItemPrefixWhitespace"===g[1].type?o(i):s(i)},"listItemPrefixWhitespace",f.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},eD={tokenize:function(i,o,s){let f=this;return factorySpace(i,function(i){let g=f.events[f.events.length-1];return g&&"listItemIndent"===g[1].type&&g[2].sliceSerialize(g[1],!0).length===f.containerState.size?o(i):s(i)},"listItemIndent",f.containerState.size+1)},partial:!0},eA={name:"blockQuote",tokenize:function(i,o,s){let f=this;return function(o){if(62===o){let s=f.containerState;return s.open||(i.enter("blockQuote",{_container:!0}),s.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(o),i.exit("blockQuoteMarker"),after}return s(o)};function after(s){return markdownSpace(s)?(i.enter("blockQuotePrefixWhitespace"),i.consume(s),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),o):(i.exit("blockQuotePrefix"),o(s))}},continuation:{tokenize:function(i,o,s){let f=this;return function(o){return markdownSpace(o)?factorySpace(i,contBefore,"linePrefix",f.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):contBefore(o)};function contBefore(f){return i.attempt(eA,o,s)(f)}}},exit:function(i){i.exit("blockQuote")}};function factoryDestination(i,o,s,f,g,_,b,T,S){let N=S||Number.POSITIVE_INFINITY,A=0;return function(o){return 60===o?(i.enter(f),i.enter(g),i.enter(_),i.consume(o),i.exit(_),enclosedBefore):null===o||32===o||41===o||asciiControl(o)?s(o):(i.enter(f),i.enter(b),i.enter(T),i.enter("chunkString",{contentType:"string"}),raw(o))};function enclosedBefore(s){return 62===s?(i.enter(_),i.consume(s),i.exit(_),i.exit(g),i.exit(f),o):(i.enter(T),i.enter("chunkString",{contentType:"string"}),enclosed(s))}function enclosed(o){return 62===o?(i.exit("chunkString"),i.exit(T),enclosedBefore(o)):null===o||60===o||markdownLineEnding(o)?s(o):(i.consume(o),92===o?enclosedEscape:enclosed)}function enclosedEscape(o){return 60===o||62===o||92===o?(i.consume(o),enclosed):enclosed(o)}function raw(g){return!A&&(null===g||41===g||markdownLineEndingOrSpace(g))?(i.exit("chunkString"),i.exit(T),i.exit(b),i.exit(f),o(g)):A<N&&40===g?(i.consume(g),A++,raw):41===g?(i.consume(g),A--,raw):null===g||32===g||40===g||asciiControl(g)?s(g):(i.consume(g),92===g?rawEscape:raw)}function rawEscape(o){return 40===o||41===o||92===o?(i.consume(o),raw):raw(o)}}function factoryLabel(i,o,s,f,g,_){let b;let T=this,S=0;return function(o){return i.enter(f),i.enter(g),i.consume(o),i.exit(g),i.enter(_),atBreak};function atBreak(N){return S>999||null===N||91===N||93===N&&!b||94===N&&!S&&"_hiddenFootnoteSupport"in T.parser.constructs?s(N):93===N?(i.exit(_),i.enter(g),i.consume(N),i.exit(g),i.exit(f),o):markdownLineEnding(N)?(i.enter("lineEnding"),i.consume(N),i.exit("lineEnding"),atBreak):(i.enter("chunkString",{contentType:"string"}),labelInside(N))}function labelInside(o){return null===o||91===o||93===o||markdownLineEnding(o)||S++>999?(i.exit("chunkString"),atBreak(o)):(i.consume(o),b||(b=!markdownSpace(o)),92===o?labelEscape:labelInside)}function labelEscape(o){return 91===o||92===o||93===o?(i.consume(o),S++,labelInside):labelInside(o)}}function factoryTitle(i,o,s,f,g,_){let b;return function(o){return 34===o||39===o||40===o?(i.enter(f),i.enter(g),i.consume(o),i.exit(g),b=40===o?41:o,begin):s(o)};function begin(s){return s===b?(i.enter(g),i.consume(s),i.exit(g),i.exit(f),o):(i.enter(_),atBreak(s))}function atBreak(o){return o===b?(i.exit(_),begin(b)):null===o?s(o):markdownLineEnding(o)?(i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),factorySpace(i,atBreak,"linePrefix")):(i.enter("chunkString",{contentType:"string"}),inside(o))}function inside(o){return o===b||null===o||markdownLineEnding(o)?(i.exit("chunkString"),atBreak(o)):(i.consume(o),92===o?escape:inside)}function escape(o){return o===b||92===o?(i.consume(o),inside):inside(o)}}function factoryWhitespace(i,o){let s;return function start(f){return markdownLineEnding(f)?(i.enter("lineEnding"),i.consume(f),i.exit("lineEnding"),s=!0,start):markdownSpace(f)?factorySpace(i,start,s?"linePrefix":"lineSuffix")(f):o(f)}}function normalizeIdentifier(i){return i.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let eI={tokenize:function(i,o,s){return function(o){return markdownLineEndingOrSpace(o)?factoryWhitespace(i,beforeMarker)(o):s(o)};function beforeMarker(o){return factoryTitle(i,titleAfter,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function titleAfter(o){return markdownSpace(o)?factorySpace(i,titleAfterOptionalWhitespace,"whitespace")(o):titleAfterOptionalWhitespace(o)}function titleAfterOptionalWhitespace(i){return null===i||markdownLineEnding(i)?o(i):s(i)}},partial:!0},eM={name:"codeIndented",tokenize:function(i,o,s){let f=this;return function(o){return i.enter("codeIndented"),factorySpace(i,afterPrefix,"linePrefix",5)(o)};function afterPrefix(o){let g=f.events[f.events.length-1];return g&&"linePrefix"===g[1].type&&g[2].sliceSerialize(g[1],!0).length>=4?function atBreak(o){return null===o?after(o):markdownLineEnding(o)?i.attempt(eR,atBreak,after)(o):(i.enter("codeFlowValue"),function inside(o){return null===o||markdownLineEnding(o)?(i.exit("codeFlowValue"),atBreak(o)):(i.consume(o),inside)}(o))}(o):s(o)}function after(s){return i.exit("codeIndented"),o(s)}}},eR={tokenize:function(i,o,s){let f=this;return furtherStart;function furtherStart(o){return f.parser.lazy[f.now().line]?s(o):markdownLineEnding(o)?(i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),furtherStart):factorySpace(i,afterPrefix,"linePrefix",5)(o)}function afterPrefix(i){let g=f.events[f.events.length-1];return g&&"linePrefix"===g[1].type&&g[2].sliceSerialize(g[1],!0).length>=4?o(i):markdownLineEnding(i)?furtherStart(i):s(i)}},partial:!0},eP={name:"setextUnderline",tokenize:function(i,o,s){let f;let g=this;return function(o){let _,b=g.events.length;for(;b--;)if("lineEnding"!==g.events[b][1].type&&"linePrefix"!==g.events[b][1].type&&"content"!==g.events[b][1].type){_="paragraph"===g.events[b][1].type;break}return!g.parser.lazy[g.now().line]&&(g.interrupt||_)?(i.enter("setextHeadingLine"),f=o,i.enter("setextHeadingLineSequence"),function inside(o){return o===f?(i.consume(o),inside):(i.exit("setextHeadingLineSequence"),markdownSpace(o)?factorySpace(i,after,"lineSuffix")(o):after(o))}(o)):s(o)};function after(f){return null===f||markdownLineEnding(f)?(i.exit("setextHeadingLine"),o(f)):s(f)}},resolveTo:function(i,o){let s,f,g,_=i.length;for(;_--;)if("enter"===i[_][0]){if("content"===i[_][1].type){s=_;break}"paragraph"===i[_][1].type&&(f=_)}else"content"===i[_][1].type&&i.splice(_,1),g||"definition"!==i[_][1].type||(g=_);let b={type:"setextHeading",start:Object.assign({},i[f][1].start),end:Object.assign({},i[i.length-1][1].end)};return i[f][1].type="setextHeadingText",g?(i.splice(f,0,["enter",b,o]),i.splice(g+1,0,["exit",i[s][1],o]),i[s][1].end=Object.assign({},i[g][1].end)):i[s][1]=b,i.push(["exit",b,o]),i}},e$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eL=["pre","script","style","textarea"],eF={tokenize:function(i,o,s){return function(f){return i.enter("lineEnding"),i.consume(f),i.exit("lineEnding"),i.attempt(eC,o,s)}},partial:!0},eB={tokenize:function(i,o,s){let f=this;return function(o){return markdownLineEnding(o)?(i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),after):s(o)};function after(i){return f.parser.lazy[f.now().line]?s(i):o(i)}},partial:!0},ez={tokenize:function(i,o,s){let f=this;return function(o){return null===o?s(o):(i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),lineStart)};function lineStart(i){return f.parser.lazy[f.now().line]?s(i):o(i)}},partial:!0},eK={name:"codeFenced",tokenize:function(i,o,s){let f;let g=this,_={tokenize:function(i,o,s){let _=0;return function(o){return i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),start};function start(o){return i.enter("codeFencedFence"),markdownSpace(o)?factorySpace(i,beforeSequenceClose,"linePrefix",g.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):beforeSequenceClose(o)}function beforeSequenceClose(o){return o===f?(i.enter("codeFencedFenceSequence"),function sequenceClose(o){return o===f?(_++,i.consume(o),sequenceClose):_>=T?(i.exit("codeFencedFenceSequence"),markdownSpace(o)?factorySpace(i,sequenceCloseAfter,"whitespace")(o):sequenceCloseAfter(o)):s(o)}(o)):s(o)}function sequenceCloseAfter(f){return null===f||markdownLineEnding(f)?(i.exit("codeFencedFence"),o(f)):s(f)}},partial:!0},b=0,T=0;return function(o){return function(o){let _=g.events[g.events.length-1];return b=_&&"linePrefix"===_[1].type?_[2].sliceSerialize(_[1],!0).length:0,f=o,i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),function sequenceOpen(o){return o===f?(T++,i.consume(o),sequenceOpen):T<3?s(o):(i.exit("codeFencedFenceSequence"),markdownSpace(o)?factorySpace(i,infoBefore,"whitespace")(o):infoBefore(o))}(o)}(o)};function infoBefore(_){return null===_||markdownLineEnding(_)?(i.exit("codeFencedFence"),g.interrupt?o(_):i.check(ez,atNonLazyBreak,after)(_)):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),function info(o){return null===o||markdownLineEnding(o)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),infoBefore(o)):markdownSpace(o)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),factorySpace(i,metaBefore,"whitespace")(o)):96===o&&o===f?s(o):(i.consume(o),info)}(_))}function metaBefore(o){return null===o||markdownLineEnding(o)?infoBefore(o):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),function meta(o){return null===o||markdownLineEnding(o)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),infoBefore(o)):96===o&&o===f?s(o):(i.consume(o),meta)}(o))}function atNonLazyBreak(o){return i.attempt(_,after,contentBefore)(o)}function contentBefore(o){return i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),contentStart}function contentStart(o){return b>0&&markdownSpace(o)?factorySpace(i,beforeContentChunk,"linePrefix",b+1)(o):beforeContentChunk(o)}function beforeContentChunk(o){return null===o||markdownLineEnding(o)?i.check(ez,atNonLazyBreak,after)(o):(i.enter("codeFlowValue"),function contentChunk(o){return null===o||markdownLineEnding(o)?(i.exit("codeFlowValue"),beforeContentChunk(o)):(i.consume(o),contentChunk)}(o))}function after(s){return i.exit("codeFenced"),o(s)}},concrete:!0},eW={name:"characterReference",tokenize:function(i,o,s){let f,g;let _=this,b=0;return function(o){return i.enter("characterReference"),i.enter("characterReferenceMarker"),i.consume(o),i.exit("characterReferenceMarker"),open};function open(o){return 35===o?(i.enter("characterReferenceMarkerNumeric"),i.consume(o),i.exit("characterReferenceMarkerNumeric"),numeric):(i.enter("characterReferenceValue"),f=31,g=es,value(o))}function numeric(o){return 88===o||120===o?(i.enter("characterReferenceMarkerHexadecimal"),i.consume(o),i.exit("characterReferenceMarkerHexadecimal"),i.enter("characterReferenceValue"),f=6,g=ep,value):(i.enter("characterReferenceValue"),f=7,g=ed,value(o))}function value(T){if(59===T&&b){let f=i.exit("characterReferenceValue");return g!==es||(0,et.T)(_.sliceSerialize(f))?(i.enter("characterReferenceMarker"),i.consume(T),i.exit("characterReferenceMarker"),i.exit("characterReference"),o):s(T)}return g(T)&&b++<f?(i.consume(T),value):s(T)}}},eH={name:"characterEscape",tokenize:function(i,o,s){return function(o){return i.enter("characterEscape"),i.enter("escapeMarker"),i.consume(o),i.exit("escapeMarker"),inside};function inside(f){return eh(f)?(i.enter("characterEscapeValue"),i.consume(f),i.exit("characterEscapeValue"),i.exit("characterEscape"),o):s(f)}}},eV={name:"lineEnding",tokenize:function(i,o){return function(s){return i.enter("lineEnding"),i.consume(s),i.exit("lineEnding"),factorySpace(i,o,"linePrefix")}}},eU={name:"labelEnd",tokenize:function(i,o,s){let f,g;let _=this,b=_.events.length;for(;b--;)if(("labelImage"===_.events[b][1].type||"labelLink"===_.events[b][1].type)&&!_.events[b][1]._balanced){f=_.events[b][1];break}return function(o){return f?f._inactive?labelEndNok(o):(g=_.parser.defined.includes(normalizeIdentifier(_.sliceSerialize({start:f.end,end:_.now()}))),i.enter("labelEnd"),i.enter("labelMarker"),i.consume(o),i.exit("labelMarker"),i.exit("labelEnd"),after):s(o)};function after(o){return 40===o?i.attempt(eq,labelEndOk,g?labelEndOk:labelEndNok)(o):91===o?i.attempt(ej,labelEndOk,g?referenceNotFull:labelEndNok)(o):g?labelEndOk(o):labelEndNok(o)}function referenceNotFull(o){return i.attempt(eG,labelEndOk,labelEndNok)(o)}function labelEndOk(i){return o(i)}function labelEndNok(i){return f._balanced=!0,s(i)}},resolveTo:function(i,o){let s,f,g,_,b=i.length,T=0;for(;b--;)if(s=i[b][1],f){if("link"===s.type||"labelLink"===s.type&&s._inactive)break;"enter"===i[b][0]&&"labelLink"===s.type&&(s._inactive=!0)}else if(g){if("enter"===i[b][0]&&("labelImage"===s.type||"labelLink"===s.type)&&!s._balanced&&(f=b,"labelLink"!==s.type)){T=2;break}}else"labelEnd"===s.type&&(g=b);let S={type:"labelLink"===i[f][1].type?"link":"image",start:Object.assign({},i[f][1].start),end:Object.assign({},i[i.length-1][1].end)},N={type:"label",start:Object.assign({},i[f][1].start),end:Object.assign({},i[g][1].end)},A={type:"labelText",start:Object.assign({},i[f+T+2][1].end),end:Object.assign({},i[g-2][1].start)};return _=push(_=[["enter",S,o],["enter",N,o]],i.slice(f+1,f+T+3)),_=push(_,[["enter",A,o]]),_=push(_,resolveAll(o.parser.constructs.insideSpan.null,i.slice(f+T+4,g-3),o)),_=push(_,[["exit",A,o],i[g-2],i[g-1],["exit",N,o]]),_=push(_,i.slice(g+1)),_=push(_,[["exit",S,o]]),splice(i,f,i.length,_),i},resolveAll:function(i){let o=-1;for(;++o<i.length;){let s=i[o][1];("labelImage"===s.type||"labelLink"===s.type||"labelEnd"===s.type)&&(i.splice(o+1,"labelImage"===s.type?4:2),s.type="data",o++)}return i}},eq={tokenize:function(i,o,s){return function(o){return i.enter("resource"),i.enter("resourceMarker"),i.consume(o),i.exit("resourceMarker"),resourceBefore};function resourceBefore(o){return markdownLineEndingOrSpace(o)?factoryWhitespace(i,resourceOpen)(o):resourceOpen(o)}function resourceOpen(o){return 41===o?resourceEnd(o):factoryDestination(i,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(o)}function resourceDestinationAfter(o){return markdownLineEndingOrSpace(o)?factoryWhitespace(i,resourceBetween)(o):resourceEnd(o)}function resourceDestinationMissing(i){return s(i)}function resourceBetween(o){return 34===o||39===o||40===o?factoryTitle(i,resourceTitleAfter,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(o):resourceEnd(o)}function resourceTitleAfter(o){return markdownLineEndingOrSpace(o)?factoryWhitespace(i,resourceEnd)(o):resourceEnd(o)}function resourceEnd(f){return 41===f?(i.enter("resourceMarker"),i.consume(f),i.exit("resourceMarker"),i.exit("resource"),o):s(f)}}},ej={tokenize:function(i,o,s){let f=this;return function(o){return factoryLabel.call(f,i,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(o)};function referenceFullAfter(i){return f.parser.defined.includes(normalizeIdentifier(f.sliceSerialize(f.events[f.events.length-1][1]).slice(1,-1)))?o(i):s(i)}function referenceFullMissing(i){return s(i)}}},eG={tokenize:function(i,o,s){return function(o){return i.enter("reference"),i.enter("referenceMarker"),i.consume(o),i.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(f){return 93===f?(i.enter("referenceMarker"),i.consume(f),i.exit("referenceMarker"),i.exit("reference"),o):s(f)}}},eY={name:"labelStartImage",tokenize:function(i,o,s){let f=this;return function(o){return i.enter("labelImage"),i.enter("labelImageMarker"),i.consume(o),i.exit("labelImageMarker"),open};function open(o){return 91===o?(i.enter("labelMarker"),i.consume(o),i.exit("labelMarker"),i.exit("labelImage"),after):s(o)}function after(i){return 94===i&&"_hiddenFootnoteSupport"in f.parser.constructs?s(i):o(i)}},resolveAll:eU.resolveAll};function classifyCharacter(i){return null===i||markdownLineEndingOrSpace(i)||em(i)?1:eg(i)?2:void 0}let eZ={name:"attention",tokenize:function(i,o){let s;let f=this.parser.constructs.attentionMarkers.null,g=this.previous,_=classifyCharacter(g);return function(b){return s=b,i.enter("attentionSequence"),function inside(b){if(b===s)return i.consume(b),inside;let T=i.exit("attentionSequence"),S=classifyCharacter(b),N=!S||2===S&&_||f.includes(b),A=!_||2===_&&S||f.includes(g);return T._open=!!(42===s?N:N&&(_||!A)),T._close=!!(42===s?A:A&&(S||!N)),o(b)}(b)}},resolveAll:function(i,o){let s,f,g,_,b,T,S,N,A=-1;for(;++A<i.length;)if("enter"===i[A][0]&&"attentionSequence"===i[A][1].type&&i[A][1]._close){for(s=A;s--;)if("exit"===i[s][0]&&"attentionSequence"===i[s][1].type&&i[s][1]._open&&o.sliceSerialize(i[s][1]).charCodeAt(0)===o.sliceSerialize(i[A][1]).charCodeAt(0)){if((i[s][1]._close||i[A][1]._open)&&(i[A][1].end.offset-i[A][1].start.offset)%3&&!((i[s][1].end.offset-i[s][1].start.offset+i[A][1].end.offset-i[A][1].start.offset)%3))continue;T=i[s][1].end.offset-i[s][1].start.offset>1&&i[A][1].end.offset-i[A][1].start.offset>1?2:1;let R=Object.assign({},i[s][1].end),$=Object.assign({},i[A][1].start);movePoint(R,-T),movePoint($,T),_={type:T>1?"strongSequence":"emphasisSequence",start:R,end:Object.assign({},i[s][1].end)},b={type:T>1?"strongSequence":"emphasisSequence",start:Object.assign({},i[A][1].start),end:$},g={type:T>1?"strongText":"emphasisText",start:Object.assign({},i[s][1].end),end:Object.assign({},i[A][1].start)},f={type:T>1?"strong":"emphasis",start:Object.assign({},_.start),end:Object.assign({},b.end)},i[s][1].end=Object.assign({},_.start),i[A][1].start=Object.assign({},b.end),S=[],i[s][1].end.offset-i[s][1].start.offset&&(S=push(S,[["enter",i[s][1],o],["exit",i[s][1],o]])),S=push(S,[["enter",f,o],["enter",_,o],["exit",_,o],["enter",g,o]]),S=push(S,resolveAll(o.parser.constructs.insideSpan.null,i.slice(s+1,A),o)),S=push(S,[["exit",g,o],["enter",b,o],["exit",b,o],["exit",f,o]]),i[A][1].end.offset-i[A][1].start.offset?(N=2,S=push(S,[["enter",i[A][1],o],["exit",i[A][1],o]])):N=0,splice(i,s-1,A-s+3,S),A=s+S.length-N-2;break}}for(A=-1;++A<i.length;)"attentionSequence"===i[A][1].type&&(i[A][1].type="data");return i}};function movePoint(i,o){i.column+=o,i.offset+=o,i._bufferIndex+=o}let eJ={name:"labelStartLink",tokenize:function(i,o,s){let f=this;return function(o){return i.enter("labelLink"),i.enter("labelMarker"),i.consume(o),i.exit("labelMarker"),i.exit("labelLink"),after};function after(i){return 94===i&&"_hiddenFootnoteSupport"in f.parser.constructs?s(i):o(i)}},resolveAll:eU.resolveAll},eQ={42:ew,43:ew,45:ew,48:ew,49:ew,50:ew,51:ew,52:ew,53:ew,54:ew,55:ew,56:ew,57:ew,62:eA},eX={91:{name:"definition",tokenize:function(i,o,s){let f;let g=this;return function(o){return i.enter("definition"),factoryLabel.call(g,i,labelAfter,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(o)};function labelAfter(o){return(f=normalizeIdentifier(g.sliceSerialize(g.events[g.events.length-1][1]).slice(1,-1)),58===o)?(i.enter("definitionMarker"),i.consume(o),i.exit("definitionMarker"),markerAfter):s(o)}function markerAfter(o){return markdownLineEndingOrSpace(o)?factoryWhitespace(i,destinationBefore)(o):destinationBefore(o)}function destinationBefore(o){return factoryDestination(i,destinationAfter,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(o)}function destinationAfter(o){return i.attempt(eI,after,after)(o)}function after(o){return markdownSpace(o)?factorySpace(i,afterWhitespace,"whitespace")(o):afterWhitespace(o)}function afterWhitespace(_){return null===_||markdownLineEnding(_)?(i.exit("definition"),g.parser.defined.push(f),o(_)):s(_)}}}},e0={[-2]:eM,[-1]:eM,32:eM},e1={35:{name:"headingAtx",tokenize:function(i,o,s){let f=0;return function(g){return i.enter("atxHeading"),i.enter("atxHeadingSequence"),function sequenceOpen(g){return 35===g&&f++<6?(i.consume(g),sequenceOpen):null===g||markdownLineEndingOrSpace(g)?(i.exit("atxHeadingSequence"),function atBreak(s){return 35===s?(i.enter("atxHeadingSequence"),function sequenceFurther(o){return 35===o?(i.consume(o),sequenceFurther):(i.exit("atxHeadingSequence"),atBreak(o))}(s)):null===s||markdownLineEnding(s)?(i.exit("atxHeading"),o(s)):markdownSpace(s)?factorySpace(i,atBreak,"whitespace")(s):(i.enter("atxHeadingText"),function data(o){return null===o||35===o||markdownLineEndingOrSpace(o)?(i.exit("atxHeadingText"),atBreak(o)):(i.consume(o),data)}(s))}(g)):s(g)}(g)}},resolve:function(i,o){let s,f,g=i.length-2,_=3;return"whitespace"===i[3][1].type&&(_+=2),g-2>_&&"whitespace"===i[g][1].type&&(g-=2),"atxHeadingSequence"===i[g][1].type&&(_===g-1||g-4>_&&"whitespace"===i[g-2][1].type)&&(g-=_+1===g?2:4),g>_&&(s={type:"atxHeadingText",start:i[_][1].start,end:i[g][1].end},f={type:"chunkText",start:i[_][1].start,end:i[g][1].end,contentType:"text"},splice(i,_,g-_+1,[["enter",s,o],["enter",f,o],["exit",f,o],["exit",s,o]])),i}},42:eN,45:[eP,eN],60:{name:"htmlFlow",tokenize:function(i,o,s){let f,g,_,b,T;let S=this;return function(o){return i.enter("htmlFlow"),i.enter("htmlFlowData"),i.consume(o),open};function open(b){return 33===b?(i.consume(b),declarationOpen):47===b?(i.consume(b),g=!0,tagCloseStart):63===b?(i.consume(b),f=3,S.interrupt?o:continuationDeclarationInside):ea(b)?(i.consume(b),_=String.fromCharCode(b),tagName):s(b)}function declarationOpen(g){return 45===g?(i.consume(g),f=2,commentOpenInside):91===g?(i.consume(g),f=5,b=0,cdataOpenInside):ea(g)?(i.consume(g),f=4,S.interrupt?o:continuationDeclarationInside):s(g)}function commentOpenInside(f){return 45===f?(i.consume(f),S.interrupt?o:continuationDeclarationInside):s(f)}function cdataOpenInside(f){let g="CDATA[";return f===g.charCodeAt(b++)?(i.consume(f),b===g.length)?S.interrupt?o:continuation:cdataOpenInside:s(f)}function tagCloseStart(o){return ea(o)?(i.consume(o),_=String.fromCharCode(o),tagName):s(o)}function tagName(b){if(null===b||47===b||62===b||markdownLineEndingOrSpace(b)){let T=47===b,N=_.toLowerCase();return!T&&!g&&eL.includes(N)?(f=1,S.interrupt?o(b):continuation(b)):e$.includes(_.toLowerCase())?(f=6,T)?(i.consume(b),basicSelfClosing):S.interrupt?o(b):continuation(b):(f=7,S.interrupt&&!S.parser.lazy[S.now().line]?s(b):g?function completeClosingTagAfter(o){return markdownSpace(o)?(i.consume(o),completeClosingTagAfter):completeEnd(o)}(b):completeAttributeNameBefore(b))}return 45===b||es(b)?(i.consume(b),_+=String.fromCharCode(b),tagName):s(b)}function basicSelfClosing(f){return 62===f?(i.consume(f),S.interrupt?o:continuation):s(f)}function completeAttributeNameBefore(o){return 47===o?(i.consume(o),completeEnd):58===o||95===o||ea(o)?(i.consume(o),completeAttributeName):markdownSpace(o)?(i.consume(o),completeAttributeNameBefore):completeEnd(o)}function completeAttributeName(o){return 45===o||46===o||58===o||95===o||es(o)?(i.consume(o),completeAttributeName):completeAttributeNameAfter(o)}function completeAttributeNameAfter(o){return 61===o?(i.consume(o),completeAttributeValueBefore):markdownSpace(o)?(i.consume(o),completeAttributeNameAfter):completeAttributeNameBefore(o)}function completeAttributeValueBefore(o){return null===o||60===o||61===o||62===o||96===o?s(o):34===o||39===o?(i.consume(o),T=o,completeAttributeValueQuoted):markdownSpace(o)?(i.consume(o),completeAttributeValueBefore):function completeAttributeValueUnquoted(o){return null===o||34===o||39===o||47===o||60===o||61===o||62===o||96===o||markdownLineEndingOrSpace(o)?completeAttributeNameAfter(o):(i.consume(o),completeAttributeValueUnquoted)}(o)}function completeAttributeValueQuoted(o){return o===T?(i.consume(o),T=null,completeAttributeValueQuotedAfter):null===o||markdownLineEnding(o)?s(o):(i.consume(o),completeAttributeValueQuoted)}function completeAttributeValueQuotedAfter(i){return 47===i||62===i||markdownSpace(i)?completeAttributeNameBefore(i):s(i)}function completeEnd(o){return 62===o?(i.consume(o),completeAfter):s(o)}function completeAfter(o){return null===o||markdownLineEnding(o)?continuation(o):markdownSpace(o)?(i.consume(o),completeAfter):s(o)}function continuation(o){return 45===o&&2===f?(i.consume(o),continuationCommentInside):60===o&&1===f?(i.consume(o),continuationRawTagOpen):62===o&&4===f?(i.consume(o),continuationClose):63===o&&3===f?(i.consume(o),continuationDeclarationInside):93===o&&5===f?(i.consume(o),continuationCdataInside):markdownLineEnding(o)&&(6===f||7===f)?(i.exit("htmlFlowData"),i.check(eF,continuationAfter,continuationStart)(o)):null===o||markdownLineEnding(o)?(i.exit("htmlFlowData"),continuationStart(o)):(i.consume(o),continuation)}function continuationStart(o){return i.check(eB,continuationStartNonLazy,continuationAfter)(o)}function continuationStartNonLazy(o){return i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),continuationBefore}function continuationBefore(o){return null===o||markdownLineEnding(o)?continuationStart(o):(i.enter("htmlFlowData"),continuation(o))}function continuationCommentInside(o){return 45===o?(i.consume(o),continuationDeclarationInside):continuation(o)}function continuationRawTagOpen(o){return 47===o?(i.consume(o),_="",continuationRawEndTag):continuation(o)}function continuationRawEndTag(o){if(62===o){let s=_.toLowerCase();return eL.includes(s)?(i.consume(o),continuationClose):continuation(o)}return ea(o)&&_.length<8?(i.consume(o),_+=String.fromCharCode(o),continuationRawEndTag):continuation(o)}function continuationCdataInside(o){return 93===o?(i.consume(o),continuationDeclarationInside):continuation(o)}function continuationDeclarationInside(o){return 62===o?(i.consume(o),continuationClose):45===o&&2===f?(i.consume(o),continuationDeclarationInside):continuation(o)}function continuationClose(o){return null===o||markdownLineEnding(o)?(i.exit("htmlFlowData"),continuationAfter(o)):(i.consume(o),continuationClose)}function continuationAfter(s){return i.exit("htmlFlow"),o(s)}},resolveTo:function(i){let o=i.length;for(;o--&&("enter"!==i[o][0]||"htmlFlow"!==i[o][1].type););return o>1&&"linePrefix"===i[o-2][1].type&&(i[o][1].start=i[o-2][1].start,i[o+1][1].start=i[o-2][1].start,i.splice(o-2,2)),i},concrete:!0},61:eP,95:eN,96:eK,126:eK},e2={38:eW,92:eH},e3={[-5]:eV,[-4]:eV,[-3]:eV,33:eY,38:eW,42:eZ,60:[{name:"autolink",tokenize:function(i,o,s){let f=0;return function(o){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(o),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),open};function open(o){return ea(o)?(i.consume(o),schemeOrEmailAtext):emailAtext(o)}function schemeOrEmailAtext(o){return 43===o||45===o||46===o||es(o)?(f=1,function schemeInsideOrEmailAtext(o){return 58===o?(i.consume(o),f=0,urlInside):(43===o||45===o||46===o||es(o))&&f++<32?(i.consume(o),schemeInsideOrEmailAtext):(f=0,emailAtext(o))}(o)):emailAtext(o)}function urlInside(f){return 62===f?(i.exit("autolinkProtocol"),i.enter("autolinkMarker"),i.consume(f),i.exit("autolinkMarker"),i.exit("autolink"),o):null===f||32===f||60===f||asciiControl(f)?s(f):(i.consume(f),urlInside)}function emailAtext(o){return 64===o?(i.consume(o),emailAtSignOrDot):eu(o)?(i.consume(o),emailAtext):s(o)}function emailAtSignOrDot(g){return es(g)?function emailLabel(g){return 46===g?(i.consume(g),f=0,emailAtSignOrDot):62===g?(i.exit("autolinkProtocol").type="autolinkEmail",i.enter("autolinkMarker"),i.consume(g),i.exit("autolinkMarker"),i.exit("autolink"),o):function emailValue(o){if((45===o||es(o))&&f++<63){let s=45===o?emailValue:emailLabel;return i.consume(o),s}return s(o)}(g)}(g):s(g)}}},{name:"htmlText",tokenize:function(i,o,s){let f,g,_;let b=this;return function(o){return i.enter("htmlText"),i.enter("htmlTextData"),i.consume(o),open};function open(o){return 33===o?(i.consume(o),declarationOpen):47===o?(i.consume(o),tagCloseStart):63===o?(i.consume(o),instruction):ea(o)?(i.consume(o),tagOpen):s(o)}function declarationOpen(o){return 45===o?(i.consume(o),commentOpenInside):91===o?(i.consume(o),g=0,cdataOpenInside):ea(o)?(i.consume(o),declaration):s(o)}function commentOpenInside(o){return 45===o?(i.consume(o),commentEnd):s(o)}function comment(o){return null===o?s(o):45===o?(i.consume(o),commentClose):markdownLineEnding(o)?(_=comment,lineEndingBefore(o)):(i.consume(o),comment)}function commentClose(o){return 45===o?(i.consume(o),commentEnd):comment(o)}function commentEnd(i){return 62===i?end(i):45===i?commentClose(i):comment(i)}function cdataOpenInside(o){let f="CDATA[";return o===f.charCodeAt(g++)?(i.consume(o),g===f.length?cdata:cdataOpenInside):s(o)}function cdata(o){return null===o?s(o):93===o?(i.consume(o),cdataClose):markdownLineEnding(o)?(_=cdata,lineEndingBefore(o)):(i.consume(o),cdata)}function cdataClose(o){return 93===o?(i.consume(o),cdataEnd):cdata(o)}function cdataEnd(o){return 62===o?end(o):93===o?(i.consume(o),cdataEnd):cdata(o)}function declaration(o){return null===o||62===o?end(o):markdownLineEnding(o)?(_=declaration,lineEndingBefore(o)):(i.consume(o),declaration)}function instruction(o){return null===o?s(o):63===o?(i.consume(o),instructionClose):markdownLineEnding(o)?(_=instruction,lineEndingBefore(o)):(i.consume(o),instruction)}function instructionClose(i){return 62===i?end(i):instruction(i)}function tagCloseStart(o){return ea(o)?(i.consume(o),tagClose):s(o)}function tagClose(o){return 45===o||es(o)?(i.consume(o),tagClose):function tagCloseBetween(o){return markdownLineEnding(o)?(_=tagCloseBetween,lineEndingBefore(o)):markdownSpace(o)?(i.consume(o),tagCloseBetween):end(o)}(o)}function tagOpen(o){return 45===o||es(o)?(i.consume(o),tagOpen):47===o||62===o||markdownLineEndingOrSpace(o)?tagOpenBetween(o):s(o)}function tagOpenBetween(o){return 47===o?(i.consume(o),end):58===o||95===o||ea(o)?(i.consume(o),tagOpenAttributeName):markdownLineEnding(o)?(_=tagOpenBetween,lineEndingBefore(o)):markdownSpace(o)?(i.consume(o),tagOpenBetween):end(o)}function tagOpenAttributeName(o){return 45===o||46===o||58===o||95===o||es(o)?(i.consume(o),tagOpenAttributeName):function tagOpenAttributeNameAfter(o){return 61===o?(i.consume(o),tagOpenAttributeValueBefore):markdownLineEnding(o)?(_=tagOpenAttributeNameAfter,lineEndingBefore(o)):markdownSpace(o)?(i.consume(o),tagOpenAttributeNameAfter):tagOpenBetween(o)}(o)}function tagOpenAttributeValueBefore(o){return null===o||60===o||61===o||62===o||96===o?s(o):34===o||39===o?(i.consume(o),f=o,tagOpenAttributeValueQuoted):markdownLineEnding(o)?(_=tagOpenAttributeValueBefore,lineEndingBefore(o)):markdownSpace(o)?(i.consume(o),tagOpenAttributeValueBefore):(i.consume(o),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(o){return o===f?(i.consume(o),f=void 0,tagOpenAttributeValueQuotedAfter):null===o?s(o):markdownLineEnding(o)?(_=tagOpenAttributeValueQuoted,lineEndingBefore(o)):(i.consume(o),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(o){return null===o||34===o||39===o||60===o||61===o||96===o?s(o):47===o||62===o||markdownLineEndingOrSpace(o)?tagOpenBetween(o):(i.consume(o),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(i){return 47===i||62===i||markdownLineEndingOrSpace(i)?tagOpenBetween(i):s(i)}function end(f){return 62===f?(i.consume(f),i.exit("htmlTextData"),i.exit("htmlText"),o):s(f)}function lineEndingBefore(o){return i.exit("htmlTextData"),i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(o){return markdownSpace(o)?factorySpace(i,lineEndingAfterPrefix,"linePrefix",b.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):lineEndingAfterPrefix(o)}function lineEndingAfterPrefix(o){return i.enter("htmlTextData"),_(o)}}}],91:eJ,92:[{name:"hardBreakEscape",tokenize:function(i,o,s){return function(o){return i.enter("hardBreakEscape"),i.consume(o),after};function after(f){return markdownLineEnding(f)?(i.exit("hardBreakEscape"),o(f)):s(f)}}},eH],93:eU,95:eZ,96:{name:"codeText",tokenize:function(i,o,s){let f,g,_=0;return function(o){return i.enter("codeText"),i.enter("codeTextSequence"),function sequenceOpen(o){return 96===o?(i.consume(o),_++,sequenceOpen):(i.exit("codeTextSequence"),between(o))}(o)};function between(b){return null===b?s(b):32===b?(i.enter("space"),i.consume(b),i.exit("space"),between):96===b?(g=i.enter("codeTextSequence"),f=0,function sequenceClose(s){return 96===s?(i.consume(s),f++,sequenceClose):f===_?(i.exit("codeTextSequence"),i.exit("codeText"),o(s)):(g.type="codeTextData",data(s))}(b)):markdownLineEnding(b)?(i.enter("lineEnding"),i.consume(b),i.exit("lineEnding"),between):(i.enter("codeTextData"),data(b))}function data(o){return null===o||32===o||96===o||markdownLineEnding(o)?(i.exit("codeTextData"),between(o)):(i.consume(o),data)}},resolve:function(i){let o,s,f=i.length-4,g=3;if(("lineEnding"===i[3][1].type||"space"===i[g][1].type)&&("lineEnding"===i[f][1].type||"space"===i[f][1].type)){for(o=g;++o<f;)if("codeTextData"===i[o][1].type){i[g][1].type="codeTextPadding",i[f][1].type="codeTextPadding",g+=2,f-=2;break}}for(o=g-1,f++;++o<=f;)void 0===s?o!==f&&"lineEnding"!==i[o][1].type&&(s=o):(o===f||"lineEnding"===i[o][1].type)&&(i[s][1].type="codeTextData",o!==s+2&&(i[s][1].end=i[o-1][1].end,i.splice(s+2,o-s-2),f-=o-s-2,o=s+2),s=void 0);return i},previous:function(i){return 96!==i||"characterEscape"===this.events[this.events.length-1][1].type}}},e5={null:[eZ,ek]},e4={null:[42,95]},e6={null:[]},e8=/[\0\t\n\r]/g;function stringifyPosition(i){return i&&"object"==typeof i?"position"in i||"type"in i?position(i.position):"start"in i||"end"in i?position(i):"line"in i||"column"in i?point(i):"":""}function point(i){return index(i&&i.line)+":"+index(i&&i.column)}function position(i){return point(i&&i.start)+"-"+point(i&&i.end)}function index(i){return i&&"number"==typeof i?i:1}let e7={}.hasOwnProperty,fromMarkdown=function(i,o,s){let f,g,b,T;return"string"!=typeof o&&(s=o,o=void 0),(function(i){let o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(function(){return{type:"blockquote",children:[]}}),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(function(){return{type:"inlineCode",value:""}},buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(function(){return{type:"image",title:null,url:"",alt:null}}),label:buffer,link:opener(link),listItem:opener(function(i){return{type:"listItem",spread:i._spread,checked:null,children:[]}}),listItemValue:function(i){if(s.expectingFirstListItemValue){let o=this.stack[this.stack.length-2];o.start=Number.parseInt(this.sliceSerialize(i),10),s.expectingFirstListItemValue=void 0}},listOrdered:opener(list,function(){s.expectingFirstListItemValue=!0}),listUnordered:opener(list),paragraph:opener(function(){return{type:"paragraph",children:[]}}),reference:function(){s.referenceType="collapsed"},referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(function(){return{type:"strong",children:[]}}),thematicBreak:opener(function(){return{type:"thematicBreak"}})},exit:{atxHeading:closer(),atxHeadingSequence:function(i){let o=this.stack[this.stack.length-1];if(!o.depth){let s=this.sliceSerialize(i).length;o.depth=s}},autolink:closer(),autolinkEmail:function(i){onexitdata.call(this,i);let o=this.stack[this.stack.length-1];o.url="mailto:"+this.sliceSerialize(i)},autolinkProtocol:function(i){onexitdata.call(this,i);let o=this.stack[this.stack.length-1];o.url=this.sliceSerialize(i)},blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:function(i){let o;let f=this.sliceSerialize(i),g=s.characterReferenceType;if(g)o=decodeNumericCharacterReference(f,"characterReferenceMarkerNumeric"===g?10:16),s.characterReferenceType=void 0;else{let i=(0,et.T)(f);o=i}let _=this.stack.pop();_.value+=o,_.position.end=lib_point(i.end)},codeFenced:closer(function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.value=i.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s.flowCodeInside=void 0}),codeFencedFence:function(){!s.flowCodeInside&&(this.buffer(),s.flowCodeInside=!0)},codeFencedFenceInfo:function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.lang=i},codeFencedFenceMeta:function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.meta=i},codeFlowValue:onexitdata,codeIndented:closer(function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.value=i.replace(/(\r?\n|\r)$/g,"")}),codeText:closer(function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.value=i}),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.url=i},definitionLabelString:function(i){let o=this.resume(),s=this.stack[this.stack.length-1];s.label=o,s.identifier=normalizeIdentifier(this.sliceSerialize(i)).toLowerCase()},definitionTitleString:function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.title=i},emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.value=i}),htmlFlowData:onexitdata,htmlText:closer(function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.value=i}),htmlTextData:onexitdata,image:closer(function(){let i=this.stack[this.stack.length-1];if(s.inReference){let o=s.referenceType||"shortcut";i.type+="Reference",i.referenceType=o,delete i.url,delete i.title}else delete i.identifier,delete i.label;s.referenceType=void 0}),label:function(){let i=this.stack[this.stack.length-1],o=this.resume(),f=this.stack[this.stack.length-1];if(s.inReference=!0,"link"===f.type){let o=i.children;f.children=o}else f.alt=o},labelText:function(i){let o=this.sliceSerialize(i),s=this.stack[this.stack.length-2];s.label=decodeString(o),s.identifier=normalizeIdentifier(o).toLowerCase()},lineEnding:function(i){let f=this.stack[this.stack.length-1];if(s.atHardBreak){let o=f.children[f.children.length-1];o.position.end=lib_point(i.end),s.atHardBreak=void 0;return}!s.setextHeadingSlurpLineEnding&&o.canContainEols.includes(f.type)&&(onenterdata.call(this,i),onexitdata.call(this,i))},link:closer(function(){let i=this.stack[this.stack.length-1];if(s.inReference){let o=s.referenceType||"shortcut";i.type+="Reference",i.referenceType=o,delete i.url,delete i.title}else delete i.identifier,delete i.label;s.referenceType=void 0}),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:function(i){let o=this.resume(),f=this.stack[this.stack.length-1];f.label=o,f.identifier=normalizeIdentifier(this.sliceSerialize(i)).toLowerCase(),s.referenceType="full"},resourceDestinationString:function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.url=i},resourceTitleString:function(){let i=this.resume(),o=this.stack[this.stack.length-1];o.title=i},resource:function(){s.inReference=void 0},setextHeading:closer(function(){s.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(i){let o=this.stack[this.stack.length-1];o.depth=61===this.sliceSerialize(i).charCodeAt(0)?1:2},setextHeadingText:function(){s.setextHeadingSlurpLineEnding=!0},strong:closer(),thematicBreak:closer()}};!function lib_configure(i,o){let s=-1;for(;++s<o.length;){let f=o[s];Array.isArray(f)?lib_configure(i,f):function(i,o){let s;for(s in o)if(e7.call(o,s)){if("canContainEols"===s){let f=o[s];f&&i[s].push(...f)}else if("transforms"===s){let f=o[s];f&&i[s].push(...f)}else if("enter"===s||"exit"===s){let f=o[s];f&&Object.assign(i[s],f)}}}(i,f)}}(o,(i||{}).mdastExtensions||[]);let s={};return function(i){let s={type:"root",children:[]},f={stack:[s],tokenStack:[],config:o,enter,exit,buffer,resume,setData,getData},g=[],_=-1;for(;++_<i.length;)if("listOrdered"===i[_][1].type||"listUnordered"===i[_][1].type){if("enter"===i[_][0])g.push(_);else{let o=g.pop();_=function(i,o,s){let f,g,_,b,T=o-1,S=-1,N=!1;for(;++T<=s;){let o=i[T];if("listUnordered"===o[1].type||"listOrdered"===o[1].type||"blockQuote"===o[1].type?("enter"===o[0]?S++:S--,b=void 0):"lineEndingBlank"===o[1].type?"enter"===o[0]&&(!f||b||S||_||(_=T),b=void 0):"linePrefix"===o[1].type||"listItemValue"===o[1].type||"listItemMarker"===o[1].type||"listItemPrefix"===o[1].type||"listItemPrefixWhitespace"===o[1].type||(b=void 0),!S&&"enter"===o[0]&&"listItemPrefix"===o[1].type||-1===S&&"exit"===o[0]&&("listUnordered"===o[1].type||"listOrdered"===o[1].type)){if(f){let b=T;for(g=void 0;b--;){let o=i[b];if("lineEnding"===o[1].type||"lineEndingBlank"===o[1].type){if("exit"===o[0])continue;g&&(i[g][1].type="lineEndingBlank",N=!0),o[1].type="lineEnding",g=b}else if("linePrefix"===o[1].type||"blockQuotePrefix"===o[1].type||"blockQuotePrefixWhitespace"===o[1].type||"blockQuoteMarker"===o[1].type||"listItemIndent"===o[1].type);else break}_&&(!g||_<g)&&(f._spread=!0),f.end=Object.assign({},g?i[g][1].start:o[1].end),i.splice(g||T,0,["exit",f,o[2]]),T++,s++}"listItemPrefix"===o[1].type&&(f={type:"listItem",_spread:!1,start:Object.assign({},o[1].start),end:void 0},i.splice(T,0,["enter",f,o[2]]),T++,s++,_=void 0,b=!0)}}return i[o][1]._spread=N,s}(i,o,_)}}for(_=-1;++_<i.length;){let s=o[i[_][0]];e7.call(s,i[_][1].type)&&s[i[_][1].type].call(Object.assign({sliceSerialize:i[_][2].sliceSerialize},f),i[_][1])}if(f.tokenStack.length>0){let i=f.tokenStack[f.tokenStack.length-1],o=i[1]||defaultOnError;o.call(f,void 0,i[0])}for(s.position={start:lib_point(i.length>0?i[0][1].start:{line:1,column:1,offset:0}),end:lib_point(i.length>0?i[i.length-2][1].end:{line:1,column:1,offset:0})},_=-1;++_<o.transforms.length;)s=o.transforms[_](s)||s;return s};function setData(i,o){s[i]=o}function getData(i){return s[i]}function opener(i,o){return function(s){enter.call(this,i(s),s),o&&o.call(this,s)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(i,o,s){let f=this.stack[this.stack.length-1];return f.children.push(i),this.stack.push(i),this.tokenStack.push([o,s]),i.position={start:lib_point(o.start)},i}function closer(i){return function(o){i&&i.call(this,o),exit.call(this,o)}}function exit(i,o){let s=this.stack.pop(),f=this.tokenStack.pop();if(f){if(f[0].type!==i.type){if(o)o.call(this,i,f[0]);else{let o=f[1]||defaultOnError;o.call(this,i,f[0])}}}else throw Error("Cannot close `"+i.type+"` ("+stringifyPosition({start:i.start,end:i.end})+"): its not open");return s.position.end=lib_point(i.end),s}function resume(){return lib_toString(this.stack.pop())}function onenterdata(i){let o=this.stack[this.stack.length-1],s=o.children[o.children.length-1];s&&"text"===s.type||((s={type:"text",value:""}).position={start:lib_point(i.start)},o.children.push(s)),this.stack.push(s)}function onexitdata(i){let o=this.stack.pop();o.value+=this.sliceSerialize(i),o.position.end=lib_point(i.end)}function onexithardbreak(){s.atHardBreak=!0}function onexitcharacterreferencemarker(i){var o;o=i.type,s.characterReferenceType=o}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function heading(){return{type:"heading",depth:void 0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(i){return{type:"list",ordered:"listOrdered"===i.type,start:null,spread:i._spread,children:[]}}})(s)(function(i){for(;!subtokenize(i););return i}((function(i){let o=function(i){let o={},s=-1;for(;++s<i.length;)!function(i,o){let s;for(s in o){let f;let g=el.call(i,s)?i[s]:void 0,_=g||(i[s]={}),b=o[s];if(b)for(f in b){el.call(_,f)||(_[f]=[]);let i=b[f];!function(i,o){let s=-1,f=[];for(;++s<o.length;)("after"===o[s].add?i:f).push(o[s]);splice(i,0,0,f)}(_[f],Array.isArray(i)?i:i?[i]:[])}}}(o,i[s]);return o}([_,...(i||{}).extensions||[]]),s={defined:[],lazy:{},constructs:o,content:create(e_),document:create(ev),flow:create(eb),string:create(eT),text:create(eS)};return s;function create(i){return function(o){return function(i,o,s){let f=Object.assign(s?Object.assign({},s):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),g={},_=[],b=[],T=[],S={consume:function(i){markdownLineEnding(i)?(f.line++,f.column=1,f.offset+=-3===i?2:1,accountForPotentialSkip()):-1!==i&&(f.column++,f.offset++),f._bufferIndex<0?f._index++:(f._bufferIndex++,f._bufferIndex===b[f._index].length&&(f._bufferIndex=-1,f._index++)),N.previous=i},enter:function(i,o){let s=o||{};return s.type=i,s.start=now(),N.events.push(["enter",s,N]),T.push(s),s},exit:function(i){let o=T.pop();return o.end=now(),N.events.push(["exit",o,N]),o},attempt:constructFactory(function(i,o){addResult(i,o.from)}),check:constructFactory(onsuccessfulcheck),interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},N={previous:null,code:null,containerState:{},events:[],parser:i,sliceStream,sliceSerialize:function(i,o){return function(i,o){let s,f=-1,g=[];for(;++f<i.length;){let _;let b=i[f];if("string"==typeof b)_=b;else switch(b){case -5:_="\r";break;case -4:_="\n";break;case -3:_="\r\n";break;case -2:_=o?" ":"	";break;case -1:if(!o&&s)continue;_=" ";break;default:_=String.fromCharCode(b)}s=-2===b,g.push(_)}return g.join("")}(sliceStream(i),o)},now,defineSkip:function(i){g[i.line]=i.column,accountForPotentialSkip()},write:function(i){return(b=push(b,i),function(){let i;for(;f._index<b.length;){var o;let s=b[f._index];if("string"==typeof s)for(i=f._index,f._bufferIndex<0&&(f._bufferIndex=0);f._index===i&&f._bufferIndex<s.length;)o=s.charCodeAt(f._bufferIndex),A=A(o);else A=A(s)}}(),null!==b[b.length-1])?[]:(addResult(o,0),N.events=resolveAll(_,N.events,N),N.events)}},A=o.tokenize.call(N,S);return o.resolveAll&&_.push(o),N;function sliceStream(i){return function(i,o){let s;let f=o.start._index,g=o.start._bufferIndex,_=o.end._index,b=o.end._bufferIndex;if(f===_)s=[i[f].slice(g,b)];else{if(s=i.slice(f,_),g>-1){let i=s[0];"string"==typeof i?s[0]=i.slice(g):s.shift()}b>0&&s.push(i[_].slice(0,b))}return s}(b,i)}function now(){let{line:i,column:o,offset:s,_index:g,_bufferIndex:_}=f;return{line:i,column:o,offset:s,_index:g,_bufferIndex:_}}function onsuccessfulcheck(i,o){o.restore()}function constructFactory(i,o){return function(s,g,_){let b,A,R,$;return Array.isArray(s)?handleListOfConstructs(s):"tokenize"in s?handleListOfConstructs([s]):function(i){let o=null!==i&&s[i],f=null!==i&&s.null,g=[...Array.isArray(o)?o:o?[o]:[],...Array.isArray(f)?f:f?[f]:[]];return handleListOfConstructs(g)(i)};function handleListOfConstructs(i){return(b=i,A=0,0===i.length)?_:handleConstruct(i[A])}function handleConstruct(i){return function(s){return($=function(){let i=now(),o=N.previous,s=N.currentConstruct,g=N.events.length,_=Array.from(T);return{restore:function(){f=i,N.previous=o,N.currentConstruct=s,N.events.length=g,T=_,accountForPotentialSkip()},from:g}}(),R=i,i.partial||(N.currentConstruct=i),i.name&&N.parser.constructs.disable.null.includes(i.name))?nok(s):i.tokenize.call(o?Object.assign(Object.create(N),o):N,S,ok,nok)(s)}}function ok(o){return i(R,$),g}function nok(i){return($.restore(),++A<b.length)?handleConstruct(b[A]):_}}}function addResult(i,o){i.resolveAll&&!_.includes(i)&&_.push(i),i.resolve&&splice(N.events,o,N.events.length-o,i.resolve(N.events.slice(o),N)),i.resolveTo&&(N.events=i.resolveTo(N.events,N))}function accountForPotentialSkip(){f.line in g&&f.column<2&&(f.column=g[f.line],f.offset+=g[f.line]-1)}}(s,i,o)}}})(s).document().write((g=1,b="",T=!0,function(i,o,s){let _,S,N,A,R;let $=[];for(i=b+i.toString(o),N=0,b="",T&&(65279===i.charCodeAt(0)&&N++,T=void 0);N<i.length;){if(e8.lastIndex=N,A=(_=e8.exec(i))&&void 0!==_.index?_.index:i.length,R=i.charCodeAt(A),!_){b=i.slice(N);break}if(10===R&&N===A&&f)$.push(-3),f=void 0;else switch(f&&($.push(-5),f=void 0),N<A&&($.push(i.slice(N,A)),g+=A-N),R){case 0:$.push(65533),g++;break;case 9:for(S=4*Math.ceil(g/4),$.push(-2);g++<S;)$.push(-1);break;case 10:$.push(-4),g=1;break;default:f=!0,g=1}N=A+1}return s&&(f&&$.push(-5),b&&$.push(b),$.push(null)),$})(i,o,!0))))};function lib_point(i){return{line:i.line,column:i.column,offset:i.offset}}function defaultOnError(i,o){if(i)throw Error("Cannot close `"+i.type+"` ("+stringifyPosition({start:i.start,end:i.end})+"): a different token (`"+o.type+"`, "+stringifyPosition({start:o.start,end:o.end})+") is open");throw Error("Cannot close document, a token (`"+o.type+"`, "+stringifyPosition({start:o.start,end:o.end})+") is still open")}function importMarkdownToLexical_isParent(i){return i.children instanceof Array}function importMarkdownToLexical({root:i,markdown:o,visitors:s,syntaxExtensions:f,mdastExtensions:g}){var _;let b=fromMarkdown(o,{extensions:f,mdastExtensions:g});0===b.children.length&&b.children.push({type:"paragraph",children:[]}),(null==(_=b.children.at(-1))?void 0:_.type)!=="paragraph"&&b.children.push({type:"paragraph",children:[]}),function({root:i,mdastRoot:o,visitors:s}){let f=new WeakMap;function visitChildren(i,o){if(!importMarkdownToLexical_isParent(i))throw Error("Attempting to visit children of a non-parent");i.children.forEach(s=>visit(s,o,i))}function visit(i,o,g){let _=s.find(o=>"string"==typeof o.testNode?o.testNode===i.type:o.testNode(i));if(!_)throw Error(`no MdastImportVisitor found for ${i.type} ${JSON.stringify(i)}`,{cause:i});_.visitNode({mdastNode:i,lexicalParent:o,mdastParent:g,actions:{visitChildren,addAndStepInto(s){o.append(s),importMarkdownToLexical_isParent(i)&&visitChildren(i,s)},addFormatting(o,s=i){f.set(s,o|(f.get(g)??0))},removeFormatting(o,s=i){f.set(s,o^(f.get(g)??0))},getParentFormatting:()=>f.get(g)??0}})}visit(o,i,null)}({root:i,mdastRoot:b,visitors:s})}let e9={testLexicalNode:$.$isLineBreakNode,visitLexicalNode:({mdastParent:i,actions:o})=>{o.appendToParent(i,{type:"text",value:"\n"})}},te={testLexicalNode:$.$isParagraphNode,visitLexicalNode:({actions:i})=>{i.addAndStepInto("paragraph")}},tt={testLexicalNode:$.$isRootNode,visitLexicalNode:({actions:i})=>{i.addAndStepInto("root")}};function isMdastText(i){return"text"===i.type}let tn={shouldJoin:(i,o)=>["text","emphasis","strong","mdxJsxTextElement"].includes(i.type)&&i.type===o.type,join:(i,o)=>isMdastText(i)&&isMdastText(o)?{type:"text",value:i.value+o.value}:{...i,children:[...i.children,...o.children]},testLexicalNode:$.$isTextNode,visitLexicalNode:({lexicalNode:i,mdastParent:o,actions:s})=>{let f=i.getPreviousSibling(),g=(0,$.$isTextNode)(f)?f.getFormat():0,_=i.getTextContent(),b=i.getFormat()??0;if(16&b){s.addAndStepInto("inlineCode",{value:_});return}let T=o;g&b&2&&(T=s.appendToParent(T,{type:"emphasis",children:[]})),g&b&1&&(T=s.appendToParent(T,{type:"strong",children:[]})),g&b&8&&(T=s.appendToParent(T,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),2&b&&!(2&g)&&(T=s.appendToParent(T,{type:"emphasis",children:[]})),1&b&&!(1&g)&&(T=s.appendToParent(T,{type:"strong",children:[]})),8&b&&!(8&g)&&(T=s.appendToParent(T,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),s.appendToParent(T,{type:"text",value:_})}};function isOpeningUnderlineNode(i){return"html"===i.type&&"<u>"===i.value}function isClosingUnderlineNode(i){return"html"===i.type&&"</u>"===i.value}function isJsxUnderlineNode(i){return"mdxJsxTextElement"===i.type&&"u"===i.name}let tr={testNode:i=>"emphasis"===i.type||"strong"===i.type||isJsxUnderlineNode(i)||isOpeningUnderlineNode(i)||isClosingUnderlineNode(i),visitNode({mdastNode:i,lexicalParent:o,actions:s,mdastParent:f}){if(isOpeningUnderlineNode(i)){s.addFormatting(8,f);return}if(isClosingUnderlineNode(i)){s.removeFormatting(8,f);return}"emphasis"===i.type?s.addFormatting(2):"strong"===i.type?s.addFormatting(1):isJsxUnderlineNode(i)&&s.addFormatting(8),s.visitChildren(i,o)}};function isOpeningCodeNode(i){return"html"===i.type&&"<code>"===i.value}function isClosingCodeNode(i){return"html"===i.type&&"</code>"===i.value}let ti={testNode:i=>"inlineCode"===i.type||isOpeningCodeNode(i)||isClosingCodeNode(i),visitNode({mdastNode:i,actions:o,mdastParent:s}){if(isOpeningCodeNode(i)){o.addFormatting(16,s);return}if(isClosingCodeNode(i)){o.removeFormatting(16,s);return}o.addAndStepInto((0,$.$createTextNode)(i.value).setFormat(16))}},to=["listitem","quote","admonition"],tl={testNode:"paragraph",visitNode:function({mdastNode:i,lexicalParent:o,actions:s}){to.includes(o.getType())?s.visitChildren(i,o):s.addAndStepInto((0,$.$createParagraphNode)())}},ta={testNode:"root",visitNode({actions:i,mdastNode:o,lexicalParent:s}){i.visitChildren(o,s)}},ts={testNode:"text",visitNode({mdastNode:i,actions:o}){o.addAndStepInto((0,$.$createTextNode)(i.value).setFormat(o.getParentFormatting()))}},SharedHistoryPlugin=()=>{let[i]=tE.useEmitterValues("historyState");return T.createElement(S.HistoryPlugin,{externalHistoryState:i})};function noop(){}let tu="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,tp=tu&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),th={testNode:"break",visitNode:function({lexicalParent:i}){i.append((0,$.$createLineBreakNode)())}};function uuidv4(){let i=[...Array(256).keys()].map(i=>i.toString(16).padStart(2,"0")),o=crypto.getRandomValues(new Uint8Array(16));return o[6]=15&o[6]|64,o[8]=63&o[8]|128,[...o.entries()].map(([o,s])=>[4,6,8,10].includes(o)?`-${i[s]}`:i[s]).join("")}var tg=Object.defineProperty,__defNormalProp=(i,o,s)=>o in i?tg(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField=(i,o,s)=>(__defNormalProp(i,"symbol"!=typeof o?o+"":o,s),s);function defaultComparator(i,o){return i===o}let SetMap=class SetMap{constructor(){__publicField(this,"map",new Map)}getOrCreate(i){let o=this.map.get(i);return o||(o=new Set,this.map.set(i,o)),o}get(i){return this.map.get(i)}use(i,o){let s=this.get(i);void 0!==s&&o(s)}delete(i){return this.map.delete(i)}};let RefCount=class RefCount{constructor(i=new Map){__publicField(this,"map"),this.map=i}clone(){return new RefCount(new Map(this.map))}increment(i){let o=this.map.get(i)??0;this.map.set(i,o+1)}decrement(i,o){let s=this.map.get(i);void 0!==s&&(s-=1,this.map.set(i,s),0===s&&o())}};let tm=Symbol("NO_VALUE");function system(i,o=[]){return{constructor:i,dependencies:o,id:uuidv4()}}let t_="undefined"!=typeof document?T.useLayoutEffect:T.useEffect,tv=T.createContext(void 0),ty=T.createContext(new Set);function realmPlugin(i){return[o=>({systemSpec:i.systemSpec,pluginParams:o,applyParamsToSystem:i.applyParamsToSystem,init:i.init,id:i.id,dependencies:i.dependencies}),{useRealmContext:()=>T.useContext(tv),useEmitter:(i,o)=>{let s=T.useContext(tv);t_(()=>s.subKey(i,o),[o])},useEmitterValues:(...i)=>{let o=T.useContext(tv),[s,f]=T.useState(()=>o.getKeyValues(i));return(0,T.useEffect)(()=>null==o?void 0:o.subKeys(i,o=>{(()=>{1===i.length&&(o=[o]);for(let g=0;g<i.length;g++)o[g]!==s[g]&&f(o)})()}),[i,o,s]),s},usePubKeys:()=>T.useContext(tv).pubKeys,usePublisher:i=>{let o=T.useContext(tv);return T.useCallback(s=>{o.pubKey(i,s)},[i,o])}}]}let RealmPluginInitializer=function({plugins:i,children:o}){let s=T.useMemo(()=>{let o=i.map(i=>i.id),s=i.filter(i=>!(i.dependencies&&i.dependencies.some(i=>!o.includes(i)))||(console.warn("MDXEditor plugin",i.id,"has some missing dependencies",i.dependencies,", skipping"),!1));return s},[i]),f=T.useMemo(()=>{let i=s.map(i=>i.systemSpec),o=s.map(i=>i.id),f=function(...i){let o=new Map,s=function(){let i=new SetMap,o=new Map,s=new SetMap,f=new Map,g=new Map,_={};function node(i=tm,o=!1){let s=uuidv4();return i!==tm&&f.set(s,i),!1!==o&&g.set(s,!0===o?defaultComparator:o),{key:s,toString:()=>s}}function subSingle({key:o},s){let f=i.getOrCreate(o);return f.add(s),()=>f.delete(s)}function singletonSub({key:i},s){return s?o.set(i,s):o.delete(i),()=>o.delete(i)}function sub(...i){let[o]=i.slice(-1),s=i.slice(0,-1);return 1===s.length?subSingle(s[0],o):function(i,o){let s=node();return connect({map:i=>(...o)=>{i(o)},sink:s,sources:i}),subSingle(s,o)}(s,o)}let b=new Map;function pubIn(_){var T;let S;let N=Object.keys(_),A=N.join(",");b.has(A)||b.set(A,function(i){let o=[],f=new Set,g=new SetMap,_=new RefCount,b=new SetMap;return i.forEach(i=>(function visit(i,T=0){_.increment(i),f.has(i)||(g.use(i,i=>{T=Math.max(...Array.from(i).map(i=>o.indexOf(i)))+1}),s.use(i,o=>{o.forEach(o=>{o.sources.has(i)?(b.getOrCreate(o.sink).add(o),visit(o.sink,T)):g.getOrCreate(o.sink).add(i)})}),f.add(i),o.splice(T,0,i))})(i)),{participatingNodeKeys:o,pendingPulls:g,projections:b,refCount:_}}(N));let R=b.get(A),$=R.refCount.clone(),W=R.participatingNodeKeys.slice(),V=new Map(f);for(;S=W.shift();){let b=!1,done=i=>{if(g.has(S)&&g.get(S)(f.get(S),i)){b=!1;return}b=!0,V.set(S,i),f.has(S)&&f.set(S,i)};if(Object.prototype.hasOwnProperty.call(_,S)?done(_[S]):R.projections.use(S,i=>{i.forEach(i=>{let o=[...Array.from(i.sources),...Array.from(i.pulls)].map(i=>V.get(i));i.map(done)(...o)})}),b){let s=V.get(S);i.use(S,i=>{i.forEach(i=>i(s))}),null==(T=o.get(S))||T(s)}else!function nodeWillNotEmit(i){s.use(i,o=>{o.forEach(({sources:o,sink:s})=>{o.has(i)&&$.decrement(s,()=>{W.splice(W.indexOf(s),1),nodeWillNotEmit(s)})})})}(S)}}function nodesToKeySet(i){return new Set(i.map(i=>i.key))}function connect({sources:i,pulls:o=[],map:f,sink:{key:g}}){let _={map:f,pulls:nodesToKeySet(o),sink:g,sources:nodesToKeySet(i)};[...i,...o].forEach(({key:i})=>{s.getOrCreate(i).add(_)}),b.clear()}function pub(...i){let o={};for(let s=0;s<i.length;s+=2){let f=i[s];o[f.key]=i[s+1]}pubIn(o)}function pubKeys(i){let o=Object.entries(i).reduce((i,[o,s])=>((i=>{let f=_[o];if(!f)throw Error(`No label for key ${o}. Do you miss a plugin?`);return i[f.key]=s})(i),i),{});pubIn(o)}return{combine:function(...i){let o=node();return connect({map:i=>(...o)=>i(o),sink:o,sources:i}),o},connect,debug:function(){Object.entries(_).forEach(([i,o])=>{f.get(o.key)})},derive:function(i,o){var s;return connect({map:i=>o=>i(o),sink:s=node(o,!0),sources:[i]}),s},getKeyValue:function(i){return f.get(_[i].key)},getValue:function(i){return f.get(i.key)},getKeyValues:function(i){return i.map(i=>{let o=_[i];if(!o)throw Error(`No label for key ${i}. Do you miss a plugin?`);return f.get(o.key)})},label:function(i){Object.assign(_,i)},labels:_,link:function(i,o){connect({map:i=>o=>i(o),sink:o,sources:[i]})},node,o:{delayWithMicrotask:function(){return i=>{let o=node();return sub(i,i=>queueMicrotask(()=>pub(o,i))),o}},debounceTime:function(i){return o=>{let s,f;let g=node();return sub(o,o=>{s=o,f&&clearTimeout(f),f=setTimeout(()=>{pub(g,s)},i)}),g}},filter:function(i){return o=>{let s=node();return connect({map:o=>s=>i(s)&&o(s),sink:s,sources:[o]}),s}},map:function(i){return o=>{let s=node();return connect({map:o=>s=>{o(i(s))},sink:s,sources:[o]}),s}},mapTo:function(i){return o=>{let s=node();return connect({map:o=>()=>o(i),sink:s,sources:[o]}),s}},onNext:function(i){return o=>{let s=node(),f=tm;return sub(o,i=>f=i),connect({map:i=>o=>{f!==tm&&(i([f,o]),f=tm)},sink:s,sources:[i]}),s}},scan:function(i,o){return s=>{let f=node();return connect({map:s=>f=>s(o=i(o,f)),sink:f,sources:[s]}),f}},throttleTime:function(i){return o=>{let s,f;let g=node();return sub(o,o=>{s=o,f||(f=setTimeout(()=>{f=void 0,pub(g,s)},i))}),g}},withLatestFrom:function(...i){return o=>{let s=node();return connect({map:i=>(...o)=>i(o),pulls:i,sink:s,sources:[o]}),s}},once:function(){return i=>{let o=node(),s=!1;return connect({map:i=>o=>{s||(s=!0,i(o))},sink:o,sources:[i]}),o}},passOnlyAfterNodeHasEmittedBefore:function(i,o){return s=>{let g=node(),_=0;return sub(i,()=>_=Date.now()),connect({map:i=>s=>{Date.now()<_+f.get(o.key)&&i(s)},sink:g,sources:[s]}),g}}},pipe:function(i,...o){for(let s of o)i=s(i);return i},pub,pubIn,pubKey:function(i,o){pubKeys({[i]:o})},pubKeys,resetSingletonSubs:function(){o.clear()},singletonSub,singletonSubKey:function(i,o){return singletonSub(_[i],o)},spread:function(i,o){return o.map((o,s)=>{var f;return connect({map:i=>o=>{i(o[s])},sink:f=node(o,!0),sources:[i]}),f})},sub,subKey:function(i,o){return sub(_[i],o)},subKeys:function(i,o){let s=i.map(i=>_[i]);return sub(...s.concat(o))}}}(),_init=({id:f,constructor:g,dependencies:_})=>{if(o.has(f))return o.get(f);let b=g(s,_.map(o=>_init(i.find(i=>i.id===o.id))));return s.label(b),o.set(f,b),b};return i.forEach(_init),s}(...i);return s.forEach(i=>{var s,g;null==(s=i.init)||s.call(i,f,i.pluginParams,o),null==(g=i.applyParamsToSystem)||g.call(i,f,i.pluginParams)}),f},[]);return T.useEffect(()=>{s.forEach(i=>{var o;null==(o=i.applyParamsToSystem)||o.call(i,f,i.pluginParams)})},[f,s]),T.createElement(tv.Provider,{value:f},T.createElement(ty.Provider,{value:new Set(i.map(i=>i.id))},o))};function useHasPlugin(i){let o=T.useContext(ty);return o.has(i)}(0,$.createCommand)("NESTED_EDITOR_UPDATED_COMMAND");let tC=system(i=>{function createAppendNodeFor(o){let s=i.node();return i.link(i.pipe(s,i.o.withLatestFrom(o),i.o.map(([i,o])=>o.includes(i)?o:[...o,i])),o),s}let o=i.node(null),s=i.node(null,!0),f=i.node(""),g=i.node(!1),_=i.node(""),b=i.node(!1),T=i.node(!1,!0),V=i.node(0,!0),U=i.node(),Z=i.node(null),et=i.node([]),en=i.node([]),er=i.node(null),el=i.node(),rebind=()=>i.o.scan((i,[o,s])=>(i.forEach(i=>{if(!i)throw Error("You have a subscription that does not return a teardown");i()}),s?o.map(i=>i(s)):[]),[]);i.pipe(i.combine(et,s),rebind()),i.pipe(i.combine(en,o),rebind());let ea=createAppendNodeFor(en),es=createAppendNodeFor(et);function handleSelectionChange(){let o=(0,$.$getSelection)();(0,$.$isRangeSelection)(o)&&i.pubKeys({currentSelection:o,currentFormat:o.format})}i.pub(ea,o=>o.registerCommand($.SELECTION_CHANGE_COMMAND,(o,f)=>(i.pubIn({[s.key]:f,[T.key]:!0}),null===f._parentEditor&&f.getEditorState().read(()=>{i.pub(er,{rootNode:(0,$.$getRoot)(),editorType:"lexical"})}),handleSelectionChange(),!1),$.COMMAND_PRIORITY_CRITICAL)),i.pub(ea,o=>o.registerUpdateListener(({dirtyElements:o,dirtyLeaves:s,editorState:f})=>{let g;(0!==o.size||0!==s.size)&&(f.read(()=>{g=function({root:i,toMarkdownOptions:o,toMarkdownExtensions:s,visitors:f,jsxComponentDescriptors:g,jsxIsAvailable:_}){return function(i,o={}){let s={enter:function(i){return s.stack.push(i),function(){s.stack.pop()}},indentLines:indentLines,associationId:association,containerPhrasing:containerPhrasingBound,containerFlow:containerFlowBound,createTracker:track,safe:safeBound,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[],handle:void 0};configure(s,{unsafe:X,join:Y,handlers:j}),configure(s,o),s.options.tightDefinitions&&configure(s,{join:[joinDefinition]}),s.handle=function(i,o){let s=o||{};function one(o,...s){let f=one.invalid,g=one.handlers;if(o&&W.call(o,i)){let s=String(o[i]);f=W.call(g,s)?g[s]:one.unknown}if(f)return f.call(this,o,...s)}return one.handlers=s.handlers||{},one.invalid=s.invalid,one.unknown=s.unknown,one}("type",{invalid,unknown,handlers:s.handlers});let f=s.handle(i,void 0,s,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return f&&10!==f.charCodeAt(f.length-1)&&13!==f.charCodeAt(f.length-1)&&(f+="\n"),f}(function({root:i,visitors:o,jsxComponentDescriptors:s,jsxIsAvailable:f}){let g=null,_=new Set;function registerReferredComponent(i){_.add(i)}function appendToParent(i,s){if(null===g)return g=s;if(!(i.children instanceof Array))throw Error("Attempting to append children to a non-parent");let f=i.children,_=f.at(-1);if(_){let i=o.find(i=>{var o;return null==(o=i.shouldJoin)?void 0:o.call(i,_,s)});if(i){let o=i.join(_,s);return f.splice(f.length-1,1,o),o}}return f.push(s),s}function visitChildren(i,o){i.getChildren().forEach(i=>{visit(i,o)})}function visit(i,s){var f;let g=o.find(o=>{var s;return null==(s=o.testLexicalNode)?void 0:s.call(o,i)});if(!g)throw Error(`no lexical visitor found for ${i.getType()}`,{cause:i});null==(f=g.visitLexicalNode)||f.call(g,{lexicalNode:i,mdastParent:s,actions:{addAndStepInto(o,f={},g=!0){let _={type:o,...f,...g?{children:[]}:{}};appendToParent(s,_),(0,$.$isElementNode)(i)&&g&&visitChildren(i,_)},appendToParent,visitChildren,registerReferredComponent}})}if(visit(i,null),null===g)throw Error("traversal ended with no root element");let b=new Map,T=new Map;for(let i of _){let o=s.find(o=>o.name===i);if(!o)throw Error(`Component ${i} is used but not imported`);if(o.source){if(o.defaultExport)T.set(i,o.source);else{let{source:s}=o,f=b.get(s);f?f.push(i):b.set(s,[i])}}}let S=Array.from(b).map(([i,o])=>({type:"mdxjsEsm",value:`import { ${o.join(", ")} } from '${i}'`}));S.push(...Array.from(T).map(([i,o])=>({type:"mdxjsEsm",value:`import ${i} from '${o}'`})));let N=g,A=N.children.find(i=>"yaml"===i.type);return A?N.children.splice(N.children.indexOf(A)+1,0,...S):N.children.unshift(...S),function fixWrappingWhitespace(i,o){if("strong"===i.type||"emphasis"===i.type){let s=i.children.at(-1);if((null==s?void 0:s.type)==="text"){let f=s.value.match(ei);if(f){s.value=s.value.replace(ei,"");let g=o.at(-1);g&&(g.children.splice(g.children.indexOf(i)+1,0,{type:"text",value:f[0]}),fixWrappingWhitespace(g,o.slice(0,-1)))}}let f=i.children.at(0);if((null==f?void 0:f.type)==="text"){let s=f.value.match(eo);if(s){f.value=f.value.replace(eo,"");let g=o.at(-1);g&&(g.children.splice(g.children.indexOf(i),0,{type:"text",value:s[0]}),fixWrappingWhitespace(g,o.slice(0,-1)))}}}Object.hasOwn(i,"children")&&i.children.forEach(s=>fixWrappingWhitespace(s,[...o,i]))}(N,[]),f||function convertUnderlineJsxToHtml(i){if(Object.hasOwn(i,"children")){let o=[];i.children.forEach(i=>{"mdxJsxTextElement"===i.type&&"u"===i.name?o.push(...[{type:"html",value:"<u>"},...i.children,{type:"html",value:"</u>"}]):(o.push(i),convertUnderlineJsxToHtml(i))}),i.children=o}}(N),N}({root:i,visitors:f,jsxComponentDescriptors:g,jsxIsAvailable:_}),{extensions:s,...o})}({root:(0,$.$getRoot)(),visitors:i.getValue(e_),jsxComponentDescriptors:i.getValue(ex),toMarkdownExtensions:i.getValue(ev),toMarkdownOptions:i.getValue(ey),jsxIsAvailable:i.getValue(eC)})}),i.pub(ed,g.trim()))}));let eu=i.node(""),ed=i.node("",!0);i.link(eu,ed);let ep=i.node([]),eh=i.node([]),eg=i.node([]),em=i.node([]),e_=i.node([]),ev=i.node([]),ey=i.node({},!0),eC=i.node(!1),ex=i.node([]),eE=i.node(null),eb=createAppendNodeFor(em),ek=createAppendNodeFor(ep),eT=createAppendNodeFor(eh),eS=createAppendNodeFor(eg),eN=createAppendNodeFor(e_),ew=createAppendNodeFor(ev),eO=i.node();i.sub(i.pipe(eO,i.o.withLatestFrom(o,ep,eg,eh,T)),([i,o,s,f,g,_])=>{null==o||o.update(()=>{(0,$.$getRoot)().clear(),importMarkdownToLexical({root:(0,$.$getRoot)(),visitors:s,mdastExtensions:f,markdown:i,syntaxExtensions:g}),_||(0,$.$setSelection)(null)})});let eD=i.node(f=>{i.pub(o,f),i.pub(s,f),importMarkdownToLexical({root:(0,$.$getRoot)(),visitors:i.getValue(ep),mdastExtensions:i.getValue(eg),markdown:i.getValue(eu),syntaxExtensions:i.getValue(eh)});let g=i.getValue(b);if(g){if(!0===g){setTimeout(()=>f.focus(noop,{defaultSelection:"rootStart"}));return}setTimeout(()=>f.focus(noop,{defaultSelection:g.defaultSelection??"rootStart"}))}});i.pub(es,i=>i.registerUpdateListener(({editorState:i})=>{i.read(()=>{handleSelectionChange()})})),i.pub(es,s=>s.registerCommand($.BLUR_COMMAND,s=>{var f;let g=i.getValue(o);if(g){let o=!(null==(f=g.getRootElement())?void 0:f.contains(s.relatedTarget));o&&i.pubIn({[T.key]:!1,[el.key]:s})}return!1},$.COMMAND_PRIORITY_CRITICAL)),i.pub(ea,i=>i.registerCommand($.KEY_DOWN_COMMAND,o=>{let{keyCode:s,ctrlKey:f,metaKey:g}=o;if(65===s&&(tp?g:f)){let s=!1;if(i.getEditorState().read(()=>{s=(0,$.$isDecoratorNode)((0,$.$getRoot)().getFirstChild())||(0,$.$isDecoratorNode)((0,$.$getRoot)().getLastChild())}),s)return o.preventDefault(),o.stopImmediatePropagation(),i.update(()=>{var o;let s=i.getRootElement();null==(o=window.getSelection())||o.selectAllChildren(s),s.focus({preventScroll:!0})}),!0}return!1},$.COMMAND_PRIORITY_CRITICAL));let eA=i.node([]),eI=createAppendNodeFor(eA),eM=i.node([]),eR=createAppendNodeFor(eM),eP=i.node([]),e$=createAppendNodeFor(eP),eL=i.node([]),eF=createAppendNodeFor(eL),eB=i.node((0,S.createEmptyHistoryState)());i.sub(i.pipe(U,i.o.withLatestFrom(s)),([i,o])=>{null==o||o.dispatchCommand($.FORMAT_TEXT_COMMAND,i)});let ez=i.node(""),eK=i.node();i.sub(i.pipe(Z,i.o.withLatestFrom(s)),([o,s])=>{if(!o||!s)return;let f=o.anchor.getNode(),g="root"===f.getKey()?f:(0,R.$findMatchingParent)(f,i=>{let o=i.getParent();return null!==o&&(0,$.$isRootOrShadowRoot)(o)});null===g&&(g=f.getTopLevelElementOrThrow());let _=g.getKey(),b=s.getElementByKey(_);if(null!==b){let o=(0,N.$isHeadingNode)(g)?g.getTag():g.getType();i.pub(ez,o)}});let eW=i.node();i.sub(i.pipe(eW,i.o.withLatestFrom(s)),([i,o])=>{null==o||o.update(()=>{let s=(0,$.$getSelection)();(0,$.$isRangeSelection)(s)&&((0,A.$setBlocksType)(s,i),setTimeout(()=>{o.focus()}))})});let eH=i.node();return i.sub(i.pipe(eH,i.o.withLatestFrom(s)),([i,o])=>{null==o||o.focus(()=>{o.getEditorState().read(()=>{let s=(0,$.$getSelection)();if((0,$.$isRangeSelection)(s)){let f=s.focus.getNode();null!==f&&o.update(()=>{let o=i();o.isInline()?((0,$.$insertNodes)([o]),(0,$.$isRootOrShadowRoot)(o.getParentOrThrow())&&(0,R.$wrapNodeInElement)(o,$.$createParagraphNode).selectEnd()):(0,R.$insertNodeToNearestRoot)(o),Object.hasOwn(o,"select")&&"function"==typeof o.select&&setTimeout(()=>o.select())})}})},{defaultSelection:"rootEnd"})}),i.sub(i.pipe(g,i.o.withLatestFrom(o)),([i,o])=>{null==o||o.setEditable(!i)}),{activeEditor:s,inFocus:T,historyState:eB,currentSelection:Z,jsxIsAvailable:eC,jsxComponentDescriptors:ex,initialRootEditorState:eD,rootEditor:o,createRootEditorSubscription:ea,createActiveEditorSubscription:es,importVisitors:ep,syntaxExtensions:eh,mdastExtensions:eg,usedLexicalNodes:em,addImportVisitor:ek,addLexicalNode:eb,addSyntaxExtension:eT,addMdastExtension:eS,toMarkdownExtensions:ev,toMarkdownOptions:ey,addToMarkdownExtension:ew,addExportVisitor:eN,exportVisitors:e_,initialMarkdown:eu,setMarkdown:eO,markdown:ed,editorRootElementRef:eE,contentEditableClassName:f,placeholder:_,autoFocus:b,readOnly:g,composerChildren:eA,addComposerChild:eI,topAreaChildren:eM,addTopAreaChild:eR,nestedEditorChildren:eL,addNestedEditorChild:eF,editorWrappers:eP,addEditorWrapper:e$,currentFormat:V,editorInFocus:er,applyFormat:U,currentBlockType:ez,applyBlockType:eK,convertSelectionToNode:eW,insertDecoratorNode:eH,onBlur:el}},[]),[tx,tE]=realmPlugin({id:"core",systemSpec:tC,applyParamsToSystem(i,o){i.pubKeys({contentEditableClassName:o.contentEditableClassName,toMarkdownOptions:o.toMarkdownOptions,autoFocus:o.autoFocus,placeholder:o.placeholder,readOnly:o.readOnly}),i.singletonSubKey("markdown",o.onChange),i.singletonSubKey("onBlur",o.onBlur)},init(i,o){i.pubKey("initialMarkdown",o.initialMarkdown.trim()),i.pubKey("addImportVisitor",ta),i.pubKey("addImportVisitor",tl),i.pubKey("addImportVisitor",ts),i.pubKey("addImportVisitor",tr),i.pubKey("addImportVisitor",ti),i.pubKey("addImportVisitor",th),i.pubKey("addLexicalNode",$.ParagraphNode),i.pubKey("addLexicalNode",$.TextNode),i.pubKey("addExportVisitor",tt),i.pubKey("addExportVisitor",te),i.pubKey("addExportVisitor",tn),i.pubKey("addExportVisitor",e9),i.pubKey("addComposerChild",SharedHistoryPlugin)}}),tk={bold:"_bold_13nbk_10",italic:"_italic_13nbk_14",underline:"_underline_13nbk_18",strikethrough:"_strikethrough_13nbk_34",underlineStrikethrough:"_underlineStrikethrough_13nbk_38",subscript:"_subscript_13nbk_42",superscript:"_superscript_13nbk_47",code:"_code_13nbk_52",nestedListItem:"_nestedListItem_13nbk_59",admonitionDanger:"_admonitionDanger_13nbk_63",admonitionInfo:"_admonitionInfo_13nbk_63",admonitionNote:"_admonitionNote_13nbk_63",admonitionTip:"_admonitionTip_13nbk_63",admonitionCaution:"_admonitionCaution_13nbk_63"},tT={text:{bold:tk.bold,italic:tk.italic,underline:tk.underline,code:tk.code,strikethrough:tk.strikethrough,subscript:tk.subscript,superscript:tk.superscript,underlineStrikethrough:tk.underlineStrikethrough},list:{nested:{listitem:tk.nestedListItem}},admonition:{danger:tk.admonitionDanger,info:tk.admonitionInfo,note:tk.admonitionNote,tip:tk.admonitionTip,caution:tk.admonitionCaution}};var tS=s(271);let tN={editorRoot:"_editorRoot_127fi_36",editorWrapper:"_editorWrapper_127fi_134",toolbarRoot:"_toolbarRoot_127fi_141",readOnlyToolbarRoot:"_readOnlyToolbarRoot_127fi_164",toolbarToggleItem:"_toolbarToggleItem_127fi_182",toolbarGroupOfGroups:"_toolbarGroupOfGroups_127fi_192",toolbarToggleSingleGroup:"_toolbarToggleSingleGroup_127fi_197",toolbarButton:"_toolbarButton_127fi_211",selectContainer:"_selectContainer_127fi_252",selectTrigger:"_selectTrigger_127fi_268",selectItem:"_selectItem_127fi_311",selectDropdownArrow:"_selectDropdownArrow_127fi_336",contentEditable:"_contentEditable_127fi_340",tooltipContent:"_tooltipContent_127fi_651",placeholder:"_placeholder_127fi_1010",rootContentEditableWrapper:"_rootContentEditableWrapper_127fi_1023"};var tw=s(3074),tO=s(9668),tD=s(5854),tA=s(4440);let LexicalProvider=({children:i})=>{let[o,s,f]=tE.useEmitterValues("initialRootEditorState","usedLexicalNodes","readOnly");return T.createElement(tS.LexicalComposer,{initialConfig:{editable:!f,editorState:o,namespace:"MDXEditor",theme:tT,nodes:s,onError:i=>{throw i}}},i)},RichTextEditor=()=>{let[i,o,s,f,g]=tE.useEmitterValues("contentEditableClassName","composerChildren","topAreaChildren","editorWrappers","placeholder");return T.createElement(T.Fragment,null,s.map((i,o)=>T.createElement(i,{key:o})),T.createElement(RenderRecurisveWrappers,{wrappers:f},T.createElement("div",{className:tA(tN.rootContentEditableWrapper)},T.createElement(tw.RichTextPlugin,{contentEditable:T.createElement(tO.ContentEditable,{className:tA(tN.contentEditable,i)}),placeholder:T.createElement("div",{className:tA(tN.contentEditable,tN.placeholder,i)},T.createElement("p",null,g)),ErrorBoundary:tD}))),o.map((i,o)=>T.createElement(i,{key:o})))},tI={listItemIndent:"one"},RenderRecurisveWrappers=({wrappers:i,children:o})=>{if(0===i.length)return T.createElement(T.Fragment,null,o);let s=i[0];return T.createElement(s,null,T.createElement(RenderRecurisveWrappers,{wrappers:i.slice(1)},o))},EditorRootElement=({children:i,className:o})=>{let s=T.useRef(null),f=tE.usePublisher("editorRootElementRef");return T.useEffect(()=>{let i=document.createElement("div");return i.classList.add(tN.editorRoot),o&&o.split(" ").forEach(o=>{i.classList.add(o)}),document.body.appendChild(i),s.current=i,f(s),()=>{document.body.removeChild(i)}},[o,s,f]),T.createElement("div",{className:tA(tN.editorRoot,tN.editorWrapper,o,"mdxeditor")},i)},Methods=({mdxRef:i})=>{let o=tE.useRealmContext(),s=useHasPlugin("diff-source");return T.useImperativeHandle(i,()=>({getMarkdown:()=>s&&"source"===o.getKeyValue("viewMode")?o.getKeyValue("markdownSourceEditorValue"):o.getKeyValue("markdown"),setMarkdown:i=>{o.pubKey("setMarkdown",i)},focus:(i,s)=>{var f;null==(f=o.getKeyValue("rootEditor"))||f.focus(i,s)}}),[o,s]),null},tM=T.forwardRef((i,o)=>T.createElement(RealmPluginInitializer,{plugins:[tx({contentEditableClassName:i.contentEditableClassName??"",initialMarkdown:i.markdown,onChange:i.onChange??noop,onBlur:i.onBlur??noop,toMarkdownOptions:i.toMarkdownOptions??tI,autoFocus:i.autoFocus??!1,placeholder:i.placeholder??"",readOnly:!!i.readOnly}),...i.plugins||[]]},T.createElement(EditorRootElement,{className:i.className},T.createElement(LexicalProvider,null,T.createElement(RichTextEditor,null))),T.createElement(Methods,{mdxRef:o}))),tR={testNode:"heading",visitNode:function({mdastNode:i,actions:o}){o.addAndStepInto((0,N.$createHeadingNode)(`h${i.depth}`))}},tP={testLexicalNode:N.$isHeadingNode,visitLexicalNode:({lexicalNode:i,actions:o})=>{let s=parseInt(i.getTag()[1],10);o.addAndStepInto("heading",{depth:s})}},t$=[48,49,50,51,52,53,54],tL=[1,2,3,4,5,6],tF={49:1,50:2,51:3,52:4,53:5,54:6},tB=system((i,[{createRootEditorSubscription:o,convertSelectionToNode:s}])=>{let f=i.node(tL);return i.pub(o,o=>o.registerCommand($.KEY_DOWN_COMMAND,g=>{let{keyCode:_,ctrlKey:b,metaKey:T,altKey:S}=g;return!!t$.includes(_)&&(tp?!!T:!!b)&&!!S&&(g.preventDefault(),o.update(()=>{if(48===_)i.pub(s,()=>(0,$.$createParagraphNode)());else{let o=i.getValue(f),g=tF[_];o.includes(g)||i.pub(s,()=>(0,N.$createHeadingNode)(`h${g}`))}}),!0)},$.COMMAND_PRIORITY_LOW)),{allowedHeadingLevels:f}},[tC]),[tz,tK]=realmPlugin({id:"headings",systemSpec:tB,applyParamsToSystem(i,o){i.pubKey("allowedHeadingLevels",(null==o?void 0:o.allowedHeadingLevels)??tL)},init:i=>{i.pubKey("addImportVisitor",tR),i.pubKey("addLexicalNode",N.HeadingNode),i.pubKey("addExportVisitor",tP)}});var tW=s(3848);let tH={testNode:"list",visitNode:function({mdastNode:i,lexicalParent:o,actions:s}){let f=(0,tW.$createListNode)(i.ordered?"number":"bullet");if((0,tW.$isListItemNode)(o)){let i=(0,tW.$createListItemNode)();i.append(f),o.insertAfter(i)}else o.append(f);s.visitChildren(i,f)}},tV={testNode:"listItem",visitNode({actions:i}){i.addAndStepInto((0,tW.$createListItemNode)())}},tU={testLexicalNode:tW.$isListNode,visitLexicalNode:({lexicalNode:i,actions:o})=>{o.addAndStepInto("list",{ordered:"number"===i.getListType(),spread:!1})}},tq={testLexicalNode:tW.$isListItemNode,visitLexicalNode:({lexicalNode:i,mdastParent:o,actions:s})=>{let f=i.getChildren(),g=f[0];if(1===f.length&&(0,tW.$isListNode)(g)){let f=o.children.at(-1);s.visitChildren(i,f)}else{let f=s.appendToParent(o,{type:"listItem",spread:!1,children:[{type:"paragraph",children:[]}]});s.visitChildren(i,f.children[0])}}};var tj=s(8562),tG=s(3451);let tY=new Map([["number",tW.INSERT_ORDERED_LIST_COMMAND],["bullet",tW.INSERT_UNORDERED_LIST_COMMAND],["",tW.REMOVE_LIST_COMMAND]]),tZ=system((i,[{activeEditor:o,currentSelection:s}])=>{let f=i.node(""),g=i.node();return i.sub(i.pipe(g,i.o.withLatestFrom(o)),([i,o])=>{null==o||o.dispatchCommand(tY.get(i),void 0)}),i.sub(i.pipe(s,i.o.withLatestFrom(o)),([o,s])=>{if(!o||!s)return;let g=o.anchor.getNode(),_="root"===g.getKey()?g:(0,R.$findMatchingParent)(g,i=>{let o=i.getParent();return null!==o&&(0,$.$isRootOrShadowRoot)(o)});null===_&&(_=g.getTopLevelElementOrThrow());let b=_.getKey(),T=s.getElementByKey(b);if(null!==T){if((0,tW.$isListNode)(_)){let o=(0,R.$getNearestNodeOfType)(g,tW.ListNode),s=o?o.getListType():_.getListType();i.pub(f,s)}else i.pub(f,null)}}),{currentListType:f,applyListType:g}},[tC]),[tJ,tQ]=realmPlugin({id:"lists",systemSpec:tZ,init:i=>{var o;i.pubKey("addImportVisitor",tH),i.pubKey("addImportVisitor",tV),i.pubKey("addLexicalNode",tW.ListItemNode),i.pubKey("addLexicalNode",tW.ListNode),i.pubKey("addExportVisitor",tU),i.pubKey("addExportVisitor",tq),null==(o=i.getKeyValue("rootEditor"))||o.registerCommand($.INDENT_CONTENT_COMMAND,()=>!function(i){let o=(0,$.$getSelection)();if(!(0,$.$isRangeSelection)(o))return!1;let s=function(i){let o=i.getNodes();return new Set(0===o.length?[i.anchor.getNode().getParentOrThrow(),i.focus.getNode().getParentOrThrow()]:o.map(i=>(0,$.$isElementNode)(i)?i:i.getParentOrThrow()))}(o),f=0;for(let i of s)if((0,tW.$isListNode)(i))f=Math.max((0,tW.$getListDepth)(i)+1,f);else if((0,tW.$isListItemNode)(i)){let o=i.getParent();if((null==o?void 0:o.getChildren().length)===1){let i=null==o?void 0:o.getParent();if((0,tW.$isListItemNode)(i)&&1===i.getChildren().length)return!1}if(!(0,tW.$isListNode)(o))throw Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");f=Math.max((0,tW.$getListDepth)(o)+1,f)}return f<=7}(0),$.COMMAND_PRIORITY_CRITICAL),i.pubKey("addComposerChild",tj.TabIndentationPlugin),i.pubKey("addComposerChild",tG.ListPlugin)}});var tX=s(3428),t0=s(5744),t1=s(6989),t2=s(4356),t3=s(9381),t5=(s(6823),s(3763));let t4=(0,T.forwardRef)((i,o)=>{let{pressed:s,defaultPressed:f=!1,onPressedChange:g,..._}=i,[b=!1,S]=(0,t5.T)({prop:s,onChange:g,defaultProp:f});return(0,T.createElement)(t3.WV.button,(0,tX.Z)({type:"button","aria-pressed":b,"data-state":b?"on":"off","data-disabled":i.disabled?"":void 0},_,{ref:o,onClick:(0,t0.M)(i.onClick,()=>{i.disabled||S(!b)})}))});var t6=s(5400);let t8="ToggleGroup",[t7,t9]=(0,t1.b)(t8,[t2.Pc]),nt=(0,t2.Pc)(),nn=T.forwardRef((i,o)=>{let{type:s,...f}=i;if("single"===s)return T.createElement(no,(0,tX.Z)({},f,{ref:o}));if("multiple"===s)return T.createElement(nl,(0,tX.Z)({},f,{ref:o}));throw Error(`Missing prop \`type\` expected on \`${t8}\``)}),[nr,ni]=t7(t8),no=T.forwardRef((i,o)=>{let{value:s,defaultValue:f,onValueChange:g=()=>{},..._}=i,[b,S]=(0,t5.T)({prop:s,defaultProp:f,onChange:g});return T.createElement(nr,{scope:i.__scopeToggleGroup,type:"single",value:b?[b]:[],onItemActivate:S,onItemDeactivate:T.useCallback(()=>S(""),[S])},T.createElement(nu,(0,tX.Z)({},_,{ref:o})))}),nl=T.forwardRef((i,o)=>{let{value:s,defaultValue:f,onValueChange:g=()=>{},..._}=i,[b=[],S]=(0,t5.T)({prop:s,defaultProp:f,onChange:g}),N=T.useCallback(i=>S((o=[])=>[...o,i]),[S]),A=T.useCallback(i=>S((o=[])=>o.filter(o=>o!==i)),[S]);return T.createElement(nr,{scope:i.__scopeToggleGroup,type:"multiple",value:b,onItemActivate:N,onItemDeactivate:A},T.createElement(nu,(0,tX.Z)({},_,{ref:o})))}),[na,ns]=t7(t8),nu=T.forwardRef((i,o)=>{let{__scopeToggleGroup:s,disabled:f=!1,rovingFocus:g=!0,orientation:_,dir:b,loop:S=!0,...N}=i,A=nt(s),R=(0,t6.gm)(b),$={role:"group",dir:R,...N};return T.createElement(na,{scope:s,rovingFocus:g,disabled:f},g?T.createElement(t2.fC,(0,tX.Z)({asChild:!0},A,{orientation:_,dir:R,loop:S}),T.createElement(t3.WV.div,(0,tX.Z)({},$,{ref:o}))):T.createElement(t3.WV.div,(0,tX.Z)({},$,{ref:o})))}),np="ToggleGroupItem",nh=T.forwardRef((i,o)=>{let s=ni(np,i.__scopeToggleGroup),f=ns(np,i.__scopeToggleGroup),g=nt(i.__scopeToggleGroup),_=s.value.includes(i.value),b=f.disabled||i.disabled,S={...i,pressed:_,disabled:b},N=T.useRef(null);return f.rovingFocus?T.createElement(t2.ck,(0,tX.Z)({asChild:!0},g,{focusable:!b,active:_,ref:N}),T.createElement(ng,(0,tX.Z)({},S,{ref:o}))):T.createElement(ng,(0,tX.Z)({},S,{ref:o}))}),ng=T.forwardRef((i,o)=>{let{__scopeToggleGroup:s,value:f,...g}=i,_=ni(np,s),b={role:"radio","aria-checked":i.pressed,"aria-pressed":void 0},S="single"===_.type?b:void 0;return T.createElement(t4,(0,tX.Z)({},S,g,{ref:o,onPressedChange:i=>{i?_.onItemActivate(f):_.onItemDeactivate(f)}}))}),nm="Toolbar",[n_,nv]=(0,t1.b)(nm,[t2.Pc,t9]),ny=(0,t2.Pc)(),nC=t9(),[nx,nE]=n_(nm),nb=(0,T.forwardRef)((i,o)=>{let{__scopeToolbar:s,orientation:f="horizontal",dir:g,loop:_=!0,...b}=i,S=ny(s),N=(0,t6.gm)(g);return(0,T.createElement)(nx,{scope:s,orientation:f,dir:N},(0,T.createElement)(t2.fC,(0,tX.Z)({asChild:!0},S,{orientation:f,dir:N,loop:_}),(0,T.createElement)(t3.WV.div,(0,tX.Z)({role:"toolbar","aria-orientation":f,dir:N},b,{ref:o}))))}),nk=(0,T.forwardRef)((i,o)=>{let{__scopeToolbar:s,...f}=i,g=ny(s);return(0,T.createElement)(t2.ck,(0,tX.Z)({asChild:!0},g,{focusable:!i.disabled}),(0,T.createElement)(t3.WV.button,(0,tX.Z)({type:"button"},f,{ref:o})))}),nT=(0,T.forwardRef)((i,o)=>{let{__scopeToolbar:s,...f}=i,g=nE("ToolbarToggleGroup",s),_=nC(s);return(0,T.createElement)(nn,(0,tX.Z)({"data-orientation":g.orientation,dir:g.dir},_,f,{ref:o,rovingFocus:!1}))}),nS=(0,T.forwardRef)((i,o)=>{let{__scopeToolbar:s,...f}=i,g=nC(s),_={__scopeToolbar:i.__scopeToolbar};return(0,T.createElement)(nk,(0,tX.Z)({asChild:!0},_),(0,T.createElement)(nh,(0,tX.Z)({},g,f,{ref:o})))});var nN=s(2210),nw=s(4278),nO=s(966),nD=s(3412),nA=s(2730),nI=s(5606),nM=s(7256),nR=s(8281);let[nP,n$]=(0,t1.b)("Tooltip",[nD.D7]),nL=(0,nD.D7)(),nF="tooltip.open",[nB,nz]=nP("TooltipProvider"),nK="Tooltip",[nW,nH]=nP(nK),nV="TooltipTrigger",nU=(0,T.forwardRef)((i,o)=>{let{__scopeTooltip:s,...f}=i,g=nH(nV,s),_=nz(nV,s),b=nL(s),S=(0,T.useRef)(null),N=(0,nN.e)(o,S,g.onTriggerChange),A=(0,T.useRef)(!1),R=(0,T.useRef)(!1),$=(0,T.useCallback)(()=>A.current=!1,[]);return(0,T.useEffect)(()=>()=>document.removeEventListener("pointerup",$),[$]),(0,T.createElement)(nD.ee,(0,tX.Z)({asChild:!0},b),(0,T.createElement)(t3.WV.button,(0,tX.Z)({"aria-describedby":g.open?g.contentId:void 0,"data-state":g.stateAttribute},f,{ref:N,onPointerMove:(0,t0.M)(i.onPointerMove,i=>{"touch"===i.pointerType||R.current||_.isPointerInTransitRef.current||(g.onTriggerEnter(),R.current=!0)}),onPointerLeave:(0,t0.M)(i.onPointerLeave,()=>{g.onTriggerLeave(),R.current=!1}),onPointerDown:(0,t0.M)(i.onPointerDown,()=>{A.current=!0,document.addEventListener("pointerup",$,{once:!0})}),onFocus:(0,t0.M)(i.onFocus,()=>{A.current||g.onOpen()}),onBlur:(0,t0.M)(i.onBlur,g.onClose),onClick:(0,t0.M)(i.onClick,g.onClose)})))}),nq="TooltipPortal",[nj,nG]=nP(nq,{forceMount:void 0}),nY="TooltipContent",nZ=(0,T.forwardRef)((i,o)=>{let s=nG(nY,i.__scopeTooltip),{forceMount:f=s.forceMount,side:g="top",..._}=i,b=nH(nY,i.__scopeTooltip);return(0,T.createElement)(nI.z,{present:f||b.open},b.disableHoverableContent?(0,T.createElement)(n0,(0,tX.Z)({side:g},_,{ref:o})):(0,T.createElement)(nJ,(0,tX.Z)({side:g},_,{ref:o})))}),nJ=(0,T.forwardRef)((i,o)=>{let s=nH(nY,i.__scopeTooltip),f=nz(nY,i.__scopeTooltip),g=(0,T.useRef)(null),_=(0,nN.e)(o,g),[b,S]=(0,T.useState)(null),{trigger:N,onClose:A}=s,R=g.current,{onPointerInTransitChange:$}=f,W=(0,T.useCallback)(()=>{S(null),$(!1)},[$]),V=(0,T.useCallback)((i,o)=>{let s=i.currentTarget,f={x:i.clientX,y:i.clientY},g=function(i,o){let s=Math.abs(o.top-i.y),f=Math.abs(o.bottom-i.y),g=Math.abs(o.right-i.x),_=Math.abs(o.left-i.x);switch(Math.min(s,f,g,_)){case _:return"left";case g:return"right";case s:return"top";case f:return"bottom";default:throw Error("unreachable")}}(f,s.getBoundingClientRect()),_=function(i,o,s=5){let f=[];switch(o){case"top":f.push({x:i.x-s,y:i.y+s},{x:i.x+s,y:i.y+s});break;case"bottom":f.push({x:i.x-s,y:i.y-s},{x:i.x+s,y:i.y-s});break;case"left":f.push({x:i.x+s,y:i.y-s},{x:i.x+s,y:i.y+s});break;case"right":f.push({x:i.x-s,y:i.y-s},{x:i.x-s,y:i.y+s})}return f}(f,g),b=function(i){let{top:o,right:s,bottom:f,left:g}=i;return[{x:g,y:o},{x:s,y:o},{x:s,y:f},{x:g,y:f}]}(o.getBoundingClientRect()),T=function(i){let o=i.slice();return o.sort((i,o)=>i.x<o.x?-1:i.x>o.x?1:i.y<o.y?-1:i.y>o.y?1:0),function(i){if(i.length<=1)return i.slice();let o=[];for(let s=0;s<i.length;s++){let f=i[s];for(;o.length>=2;){let i=o[o.length-1],s=o[o.length-2];if((i.x-s.x)*(f.y-s.y)>=(i.y-s.y)*(f.x-s.x))o.pop();else break}o.push(f)}o.pop();let s=[];for(let o=i.length-1;o>=0;o--){let f=i[o];for(;s.length>=2;){let i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(f.y-o.y)>=(i.y-o.y)*(f.x-o.x))s.pop();else break}s.push(f)}return(s.pop(),1===o.length&&1===s.length&&o[0].x===s[0].x&&o[0].y===s[0].y)?o:o.concat(s)}(o)}([..._,...b]);S(T),$(!0)},[$]);return(0,T.useEffect)(()=>()=>W(),[W]),(0,T.useEffect)(()=>{if(N&&R){let handleTriggerLeave=i=>V(i,R),handleContentLeave=i=>V(i,N);return N.addEventListener("pointerleave",handleTriggerLeave),R.addEventListener("pointerleave",handleContentLeave),()=>{N.removeEventListener("pointerleave",handleTriggerLeave),R.removeEventListener("pointerleave",handleContentLeave)}}},[N,R,V,W]),(0,T.useEffect)(()=>{if(b){let handleTrackPointerGrace=i=>{let o=i.target,s={x:i.clientX,y:i.clientY},f=(null==N?void 0:N.contains(o))||(null==R?void 0:R.contains(o)),g=!function(i,o){let{x:s,y:f}=i,g=!1;for(let i=0,_=o.length-1;i<o.length;_=i++){let b=o[i].x,T=o[i].y,S=o[_].x,N=o[_].y,A=T>f!=N>f&&s<(S-b)*(f-T)/(N-T)+b;A&&(g=!g)}return g}(s,b);f?W():g&&(W(),A())};return document.addEventListener("pointermove",handleTrackPointerGrace),()=>document.removeEventListener("pointermove",handleTrackPointerGrace)}},[N,R,b,A,W]),(0,T.createElement)(n0,(0,tX.Z)({},i,{ref:_}))}),[nQ,nX]=nP(nK,{isInside:!1}),n0=(0,T.forwardRef)((i,o)=>{let{__scopeTooltip:s,children:f,"aria-label":g,onEscapeKeyDown:_,onPointerDownOutside:b,...S}=i,N=nH(nY,s),A=nL(s),{onClose:R}=N;return(0,T.useEffect)(()=>(document.addEventListener(nF,R),()=>document.removeEventListener(nF,R)),[R]),(0,T.useEffect)(()=>{if(N.trigger){let handleScroll=i=>{let o=i.target;null!=o&&o.contains(N.trigger)&&R()};return window.addEventListener("scroll",handleScroll,{capture:!0}),()=>window.removeEventListener("scroll",handleScroll,{capture:!0})}},[N.trigger,R]),(0,T.createElement)(nw.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:_,onPointerDownOutside:b,onFocusOutside:i=>i.preventDefault(),onDismiss:R},(0,T.createElement)(nD.VY,(0,tX.Z)({"data-state":N.stateAttribute},A,S,{ref:o,style:{...S.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),(0,T.createElement)(nM.A4,null,f),(0,T.createElement)(nQ,{scope:s,isInside:!0},(0,T.createElement)(nR.f,{id:N.contentId,role:"tooltip"},g||f))))}),$a093c7e1ec25a057$export$2881499e37b75b9a=i=>{let{__scopeTooltip:o,delayDuration:s=700,skipDelayDuration:f=300,disableHoverableContent:g=!1,children:_}=i,[b,S]=(0,T.useState)(!0),N=(0,T.useRef)(!1),A=(0,T.useRef)(0);return(0,T.useEffect)(()=>{let i=A.current;return()=>window.clearTimeout(i)},[]),(0,T.createElement)(nB,{scope:o,isOpenDelayed:b,delayDuration:s,onOpen:(0,T.useCallback)(()=>{window.clearTimeout(A.current),S(!1)},[]),onClose:(0,T.useCallback)(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>S(!0),f)},[f]),isPointerInTransitRef:N,onPointerInTransitChange:(0,T.useCallback)(i=>{N.current=i},[]),disableHoverableContent:g},_)},$a093c7e1ec25a057$export$be92b6f5f03c0fe9=i=>{let{__scopeTooltip:o,children:s,open:f,defaultOpen:g=!1,onOpenChange:_,disableHoverableContent:b,delayDuration:S}=i,N=nz(nK,i.__scopeTooltip),A=nL(o),[R,$]=(0,T.useState)(null),W=(0,nO.M)(),V=(0,T.useRef)(0),U=null!=b?b:N.disableHoverableContent,j=null!=S?S:N.delayDuration,Y=(0,T.useRef)(!1),[Z=!1,X]=(0,t5.T)({prop:f,defaultProp:g,onChange:i=>{i?(N.onOpen(),document.dispatchEvent(new CustomEvent(nF))):N.onClose(),null==_||_(i)}}),et=(0,T.useMemo)(()=>Z?Y.current?"delayed-open":"instant-open":"closed",[Z]),en=(0,T.useCallback)(()=>{window.clearTimeout(V.current),Y.current=!1,X(!0)},[X]),er=(0,T.useCallback)(()=>{window.clearTimeout(V.current),X(!1)},[X]),ei=(0,T.useCallback)(()=>{window.clearTimeout(V.current),V.current=window.setTimeout(()=>{Y.current=!0,X(!0)},j)},[j,X]);return(0,T.useEffect)(()=>()=>window.clearTimeout(V.current),[]),(0,T.createElement)(nD.fC,A,(0,T.createElement)(nW,{scope:o,contentId:W,open:Z,stateAttribute:et,trigger:R,onTriggerChange:$,onTriggerEnter:(0,T.useCallback)(()=>{N.isOpenDelayed?ei():en()},[N.isOpenDelayed,ei,en]),onTriggerLeave:(0,T.useCallback)(()=>{U?er():window.clearTimeout(V.current)},[er,U]),onOpen:en,onClose:er,disableHoverableContent:U},s))},$a093c7e1ec25a057$export$602eac185826482c=i=>{let{__scopeTooltip:o,forceMount:s,children:f,container:g}=i,_=nH(nq,o);return(0,T.createElement)(nj,{scope:o,forceMount:s},(0,T.createElement)(nI.z,{present:s||_.open},(0,T.createElement)(nA.h,{asChild:!0,container:g},f)))},n1=T.forwardRef(({title:i,children:o},s)=>{let[f]=tE.useEmitterValues("editorRootElementRef");return T.createElement($a093c7e1ec25a057$export$2881499e37b75b9a,{delayDuration:100},T.createElement($a093c7e1ec25a057$export$be92b6f5f03c0fe9,null,T.createElement(nU,{ref:s,asChild:!0},T.createElement("span",null,o)),T.createElement($a093c7e1ec25a057$export$602eac185826482c,{container:null==f?void 0:f.current},T.createElement(nZ,{className:tA(tN.tooltipContent),sideOffset:10},i))))});function decorateWithRef(i,o){return T.forwardRef((s,f)=>{let g=tA(o.className,s.className);return T.createElement(i,{...o,...s,className:g,ref:f})})}let Root=({readOnly:i,children:o})=>T.createElement(nb,{className:tA(tN.toolbarRoot,{[tN.readOnlyToolbarRoot]:i}),...i?{tabIndex:-1}:{}},o),n2=(decorateWithRef(nk,{className:tN.toolbarButton,"data-toolbar-item":!0}),decorateWithRef(nS,{className:tN.toolbarToggleItem,"data-toolbar-item":!0}));decorateWithRef(nT,{type:"single",className:tN.toolbarToggleSingleGroup});let n3=T.forwardRef(({on:i,title:o,children:s,disabled:f,...g},_)=>T.createElement(nT,{type:"single",className:tN.toolbarToggleSingleGroup,...g,value:i?"on":"off",ref:_},T.createElement(n2,{title:o,value:"on",disabled:f},T.createElement(n1,{title:o},s)))),MultipleChoiceToggleGroup=({items:i})=>T.createElement("div",{className:tN.toolbarGroupOfGroups},i.map((i,o)=>T.createElement(n3,{key:o,title:i.title,on:i.active,onValueChange:o=>i.onChange("on"===o),disabled:i.disabled},i.contents))),SingleChoiceToggleGroup=({value:i,onChange:o,className:s,items:f})=>T.createElement("div",{className:tN.toolbarGroupOfGroups},T.createElement(nT,{type:"single",className:tA(tN.toolbarToggleSingleGroup,s),onValueChange:o,value:i||"",onFocus:i=>i.preventDefault()},f.map((i,o)=>T.createElement(n2,{key:o,value:i.value},T.createElement(n1,{title:i.title},i.contents))))),n5=system(i=>{let o=i.node(()=>null);return{toolbarContents:o}},[tC]),DEFAULT_TOOLBAR_CONTENTS=()=>"This is an empty toolbar. Pass `{toolbarContents: () => { return <>toolbar components</> }}` to the toolbarPlugin to customize it.",[n4,n6]=realmPlugin({id:"toolbar",systemSpec:n5,init:(i,o)=>{i.pubKey("toolbarContents",(null==o?void 0:o.toolbarContents)??DEFAULT_TOOLBAR_CONTENTS),i.pubKey("addTopAreaChild",ToolbarWrapper)}}),ToolbarWrapper=()=>{let[i]=n6.useEmitterValues("toolbarContents"),[o]=tE.useEmitterValues("readOnly");return T.createElement(Root,{readOnly:o},i())},RedoIcon=i=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i},T.createElement("mask",{id:"mask0_404_65",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},T.createElement("rect",{width:24,height:24,fill:"#D9D9D9"})),T.createElement("g",{mask:"url(#mask0_404_65)"},T.createElement("path",{d:"M9.9 19C8.28333 19 6.89583 18.475 5.7375 17.425C4.57917 16.375 4 15.0667 4 13.5C4 11.9333 4.57917 10.625 5.7375 9.575C6.89583 8.525 8.28333 8 9.9 8H16.2L13.6 5.4L15 4L20 9L15 14L13.6 12.6L16.2 10H9.9C8.85 10 7.9375 10.3333 7.1625 11C6.3875 11.6667 6 12.5 6 13.5C6 14.5 6.3875 15.3333 7.1625 16C7.9375 16.6667 8.85 17 9.9 17H17V19H9.9Z",fill:"currentColor"}))),UndoIcon=i=>T.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i},T.createElement("mask",{id:"mask0_404_71",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},T.createElement("rect",{width:24,height:24,fill:"#D9D9D9"})),T.createElement("g",{mask:"url(#mask0_404_71)"},T.createElement("path",{d:"M7 19V17H14.1C15.15 17 16.0625 16.6667 16.8375 16C17.6125 15.3333 18 14.5 18 13.5C18 12.5 17.6125 11.6667 16.8375 11C16.0625 10.3333 15.15 10 14.1 10H7.8L10.4 12.6L9 14L4 9L9 4L10.4 5.4L7.8 8H14.1C15.7167 8 17.1042 8.525 18.2625 9.575C19.4208 10.625 20 11.9333 20 13.5C20 15.0667 19.4208 16.375 18.2625 17.425C17.1042 18.475 15.7167 19 14.1 19H7Z",fill:"currentColor"}))),UndoRedo=()=>{let[i]=tE.useEmitterValues("activeEditor"),[o,s]=T.useState(!1),[f,g]=T.useState(!1);return T.useEffect(()=>{if(i)return(0,R.mergeRegister)(i.registerCommand($.CAN_UNDO_COMMAND,i=>(s(i),!1),$.COMMAND_PRIORITY_CRITICAL),i.registerCommand($.CAN_REDO_COMMAND,i=>(g(i),!1),$.COMMAND_PRIORITY_CRITICAL))},[i]),T.createElement(MultipleChoiceToggleGroup,{items:[{title:tp?"Undo (Z)":"Undo (Ctrl+Z)",disabled:!o,contents:T.createElement(UndoIcon,null),active:!1,onChange:()=>null==i?void 0:i.dispatchCommand($.UNDO_COMMAND,void 0)},{title:tp?"Redo (Y)":"Redo (Ctrl+Y)",disabled:!f,contents:T.createElement(RedoIcon,null),active:!1,onChange:()=>null==i?void 0:i.dispatchCommand($.REDO_COMMAND,void 0)}]})},BoldIcon=i=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...i},T.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},T.createElement("path",{d:"M0 0h24v24H0z"})),T.createElement("g",{mask:"url(#a)"},T.createElement("path",{d:"M6.8 19V5h5.525c1.083 0 2.083.333 3 1 .917.667 1.375 1.592 1.375 2.775 0 .85-.192 1.504-.575 1.962-.383.459-.742.788-1.075.988.417.183.88.525 1.388 1.025.508.5.762 1.25.762 2.25 0 1.483-.542 2.521-1.625 3.113-1.083.591-2.1.887-3.05.887H6.8Zm3.025-2.8h2.6c.8 0 1.287-.204 1.462-.613.175-.408.263-.704.263-.887 0-.183-.088-.48-.263-.888-.175-.408-.687-.612-1.537-.612H9.825v3Zm0-5.7h2.325c.55 0 .95-.142 1.2-.425a1.4 1.4 0 0 0 .375-.95c0-.4-.142-.725-.425-.975-.283-.25-.65-.375-1.1-.375H9.825V10.5Z"}))),ItalicIcon=i=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...i},T.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},T.createElement("path",{d:"M0 0h24v24H0z"})),T.createElement("g",{mask:"url(#a)"},T.createElement("path",{d:"M5 19v-2.5h4l3-9H8V5h10v2.5h-3.5l-3 9H15V19H5Z"}))),UnderlinedIcon=i=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...i},T.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},T.createElement("path",{d:"M0 0h24v24H0z"})),T.createElement("g",{mask:"url(#a)"},T.createElement("path",{d:"M5 21v-2h14v2H5Zm7-4c-1.683 0-2.992-.525-3.925-1.575-.933-1.05-1.4-2.442-1.4-4.175V3H9.25v8.4c0 .933.233 1.692.7 2.275.467.583 1.15.875 2.05.875.9 0 1.583-.292 2.05-.875.467-.583.7-1.342.7-2.275V3h2.575v8.25c0 1.733-.467 3.125-1.4 4.175C14.992 16.475 13.683 17 12 17Z"}))),BoldItalicUnderlineToggles=()=>{let[i]=tE.useEmitterValues("currentFormat"),o=tE.usePublisher("applyFormat"),s=(1&i)!=0,f=(2&i)!=0,g=(8&i)!=0;return T.createElement(MultipleChoiceToggleGroup,{items:[{title:s?"Remove bold":"Bold",contents:T.createElement(BoldIcon,null),active:s,onChange:o.bind(null,"bold")},{title:f?"Remove italic":"Italic",contents:T.createElement(ItalicIcon,null),active:f,onChange:o.bind(null,"italic")},{title:g?"Remove underline":"Underline",contents:T.createElement(UnderlinedIcon,{style:{transform:"translateY(2px)"}}),active:g,onChange:o.bind(null,"underline")}]})};var n8=s(4887);function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(i,[o,s]){return Math.min(s,Math.max(o,i))}var n7=s(7733),n9=s(6459),rt=s(2488);let rn="dismissableLayer.update",rr=(0,T.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ri=(0,T.forwardRef)((i,o)=>{var s;let{disableOutsidePointerEvents:g=!1,onEscapeKeyDown:_,onPointerDownOutside:b,onFocusOutside:S,onInteractOutside:N,onDismiss:A,...R}=i,$=(0,T.useContext)(rr),[W,V]=(0,T.useState)(null),U=null!==(s=null==W?void 0:W.ownerDocument)&&void 0!==s?s:null==globalThis?void 0:globalThis.document,[,j]=(0,T.useState)({}),Y=(0,nN.e)(o,i=>V(i)),Z=Array.from($.layers),[X]=[...$.layersWithOutsidePointerEventsDisabled].slice(-1),et=Z.indexOf(X),en=W?Z.indexOf(W):-1,er=$.layersWithOutsidePointerEventsDisabled.size>0,ei=en>=et,eo=function(i,o=null==globalThis?void 0:globalThis.document){let s=(0,n9.W)(i),f=(0,T.useRef)(!1),g=(0,T.useRef)(()=>{});return(0,T.useEffect)(()=>{let handlePointerDown=i=>{if(i.target&&!f.current){let f={originalEvent:i};function handleAndDispatchPointerDownOutsideEvent(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent("dismissableLayer.pointerDownOutside",s,f,{discrete:!0})}"touch"===i.pointerType?(o.removeEventListener("click",g.current),g.current=handleAndDispatchPointerDownOutsideEvent,o.addEventListener("click",g.current,{once:!0})):handleAndDispatchPointerDownOutsideEvent()}f.current=!1},i=window.setTimeout(()=>{o.addEventListener("pointerdown",handlePointerDown)},0);return()=>{window.clearTimeout(i),o.removeEventListener("pointerdown",handlePointerDown),o.removeEventListener("click",g.current)}},[o,s]),{onPointerDownCapture:()=>f.current=!0}}(i=>{let o=i.target,s=[...$.branches].some(i=>i.contains(o));!ei||s||(null==b||b(i),null==N||N(i),i.defaultPrevented||null==A||A())},U),el=function(i,o=null==globalThis?void 0:globalThis.document){let s=(0,n9.W)(i),f=(0,T.useRef)(!1);return(0,T.useEffect)(()=>{let handleFocus=i=>{i.target&&!f.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent("dismissableLayer.focusOutside",s,{originalEvent:i},{discrete:!1})};return o.addEventListener("focusin",handleFocus),()=>o.removeEventListener("focusin",handleFocus)},[o,s]),{onFocusCapture:()=>f.current=!0,onBlurCapture:()=>f.current=!1}}(i=>{let o=i.target,s=[...$.branches].some(i=>i.contains(o));s||(null==S||S(i),null==N||N(i),i.defaultPrevented||null==A||A())},U);return(0,rt.e)(i=>{let o=en===$.layers.size-1;o&&(null==_||_(i),!i.defaultPrevented&&A&&(i.preventDefault(),A()))},U),(0,T.useEffect)(()=>{if(W)return g&&(0===$.layersWithOutsidePointerEventsDisabled.size&&(f=U.body.style.pointerEvents,U.body.style.pointerEvents="none"),$.layersWithOutsidePointerEventsDisabled.add(W)),$.layers.add(W),$5cb92bef7577960e$var$dispatchUpdate(),()=>{g&&1===$.layersWithOutsidePointerEventsDisabled.size&&(U.body.style.pointerEvents=f)}},[W,U,g,$]),(0,T.useEffect)(()=>()=>{W&&($.layers.delete(W),$.layersWithOutsidePointerEventsDisabled.delete(W),$5cb92bef7577960e$var$dispatchUpdate())},[W,$]),(0,T.useEffect)(()=>{let handleUpdate=()=>j({});return document.addEventListener(rn,handleUpdate),()=>document.removeEventListener(rn,handleUpdate)},[]),(0,T.createElement)(t3.WV.div,(0,tX.Z)({},R,{ref:Y,style:{pointerEvents:er?ei?"auto":"none":void 0,...i.style},onFocusCapture:(0,t0.M)(i.onFocusCapture,el.onFocusCapture),onBlurCapture:(0,t0.M)(i.onBlurCapture,el.onBlurCapture),onPointerDownCapture:(0,t0.M)(i.onPointerDownCapture,eo.onPointerDownCapture)}))});function $5cb92bef7577960e$var$dispatchUpdate(){let i=new CustomEvent(rn);document.dispatchEvent(i)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(i,o,s,{discrete:f}){let g=s.originalEvent.target,_=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:s});o&&g.addEventListener(i,o,{once:!0}),f?(0,t3.jH)(g,_):g.dispatchEvent(_)}var ro=s(1244);let rl="focusScope.autoFocusOnMount",ra="focusScope.autoFocusOnUnmount",rs={bubbles:!1,cancelable:!0},ru=(0,T.forwardRef)((i,o)=>{let{loop:s=!1,trapped:f=!1,onMountAutoFocus:g,onUnmountAutoFocus:_,...b}=i,[S,N]=(0,T.useState)(null),A=(0,n9.W)(g),R=(0,n9.W)(_),$=(0,T.useRef)(null),W=(0,nN.e)(o,i=>N(i)),V=(0,T.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,T.useEffect)(()=>{if(f){function handleFocusIn(i){if(V.paused||!S)return;let o=i.target;S.contains(o)?$.current=o:$d3863c46a17e8a28$var$focus($.current,{select:!0})}function handleFocusOut(i){if(V.paused||!S)return;let o=i.relatedTarget;null===o||S.contains(o)||$d3863c46a17e8a28$var$focus($.current,{select:!0})}document.addEventListener("focusin",handleFocusIn),document.addEventListener("focusout",handleFocusOut);let i=new MutationObserver(function(i){let o=document.activeElement;for(let s of i)s.removedNodes.length>0&&!(null!=S&&S.contains(o))&&$d3863c46a17e8a28$var$focus(S)});return S&&i.observe(S,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",handleFocusIn),document.removeEventListener("focusout",handleFocusOut),i.disconnect()}}},[f,S,V.paused]),(0,T.useEffect)(()=>{if(S){rp.add(V);let i=document.activeElement,o=S.contains(i);if(!o){let o=new CustomEvent(rl,rs);S.addEventListener(rl,A),S.dispatchEvent(o),o.defaultPrevented||(function(i,{select:o=!1}={}){let s=document.activeElement;for(let f of i)if($d3863c46a17e8a28$var$focus(f,{select:o}),document.activeElement!==s)return}($d3863c46a17e8a28$var$getTabbableCandidates(S).filter(i=>"A"!==i.tagName),{select:!0}),document.activeElement===i&&$d3863c46a17e8a28$var$focus(S))}return()=>{S.removeEventListener(rl,A),setTimeout(()=>{let o=new CustomEvent(ra,rs);S.addEventListener(ra,R),S.dispatchEvent(o),o.defaultPrevented||$d3863c46a17e8a28$var$focus(null!=i?i:document.body,{select:!0}),S.removeEventListener(ra,R),rp.remove(V)},0)}}},[S,A,R,V]);let U=(0,T.useCallback)(i=>{if(!s&&!f||V.paused)return;let o="Tab"===i.key&&!i.altKey&&!i.ctrlKey&&!i.metaKey,g=document.activeElement;if(o&&g){let o=i.currentTarget,[f,_]=function(i){let o=$d3863c46a17e8a28$var$getTabbableCandidates(i),s=$d3863c46a17e8a28$var$findVisible(o,i),f=$d3863c46a17e8a28$var$findVisible(o.reverse(),i);return[s,f]}(o),b=f&&_;b?i.shiftKey||g!==_?i.shiftKey&&g===f&&(i.preventDefault(),s&&$d3863c46a17e8a28$var$focus(_,{select:!0})):(i.preventDefault(),s&&$d3863c46a17e8a28$var$focus(f,{select:!0})):g===o&&i.preventDefault()}},[s,f,V.paused]);return(0,T.createElement)(t3.WV.div,(0,tX.Z)({tabIndex:-1},b,{ref:W,onKeyDown:U}))});function $d3863c46a17e8a28$var$getTabbableCandidates(i){let o=[],s=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{let o="INPUT"===i.tagName&&"hidden"===i.type;return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)o.push(s.currentNode);return o}function $d3863c46a17e8a28$var$findVisible(i,o){for(let s of i)if(!function(i,{upTo:o}){if("hidden"===getComputedStyle(i).visibility)return!0;for(;i&&(void 0===o||i!==o);){if("none"===getComputedStyle(i).display)return!0;i=i.parentElement}return!1}(s,{upTo:o}))return s}function $d3863c46a17e8a28$var$focus(i,{select:o=!1}={}){if(i&&i.focus){var s;let f=document.activeElement;i.focus({preventScroll:!0}),i!==f&&(s=i)instanceof HTMLInputElement&&"select"in s&&o&&i.select()}}let rp=(g=[],{add(i){let o=g[0];i!==o&&(null==o||o.pause()),(g=$d3863c46a17e8a28$var$arrayRemove(g,i)).unshift(i)},remove(i){var o;null===(o=(g=$d3863c46a17e8a28$var$arrayRemove(g,i))[0])||void 0===o||o.resume()}});function $d3863c46a17e8a28$var$arrayRemove(i,o){let s=[...i],f=s.indexOf(o);return -1!==f&&s.splice(f,1),s}var rh=s(3136),rg=s(3961),rm=s(9473),r_=s(9279),rv=s(1030),ry=s(4977);let rC="Popper",[rx,rE]=(0,t1.b)(rC),[rk,rT]=rx(rC),rS=(0,T.forwardRef)((i,o)=>{let{__scopePopper:s,virtualRef:f,...g}=i,_=rT("PopperAnchor",s),b=(0,T.useRef)(null),S=(0,nN.e)(o,b);return(0,T.useEffect)(()=>{_.onAnchorChange((null==f?void 0:f.current)||b.current)}),f?null:(0,T.createElement)(t3.WV.div,(0,tX.Z)({},g,{ref:S}))}),rN="PopperContent",[rw,rO]=rx(rN),rD=(0,T.forwardRef)((i,o)=>{var s,f,g,_,b,S,N,A;let{__scopePopper:R,side:$="bottom",sideOffset:W=0,align:V="center",alignOffset:U=0,arrowPadding:j=0,collisionBoundary:Y=[],collisionPadding:Z=0,sticky:X="partial",hideWhenDetached:et=!1,avoidCollisions:en=!0,onPlaced:er,...ei}=i,eo=rT(rN,R),[el,ea]=(0,T.useState)(null),es=(0,nN.e)(o,i=>ea(i)),[eu,ed]=(0,T.useState)(null),ep=(0,ry.t)(eu),eh=null!==(s=null==ep?void 0:ep.width)&&void 0!==s?s:0,eg=null!==(f=null==ep?void 0:ep.height)&&void 0!==f?f:0,em="number"==typeof Z?Z:{top:0,right:0,bottom:0,left:0,...Z},e_=Array.isArray(Y)?Y:[Y],ev=e_.length>0,ey={padding:em,boundary:e_.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:ev},{refs:eC,floatingStyles:ex,placement:eE,isPositioned:eb,middlewareData:ek}=(0,rh.YF)({strategy:"fixed",placement:$+("center"!==V?"-"+V:""),whileElementsMounted:rg.Me,elements:{reference:eo.anchor},middleware:[(0,rm.cv)({mainAxis:W+eg,alignmentAxis:U}),en&&(0,rm.uY)({mainAxis:!0,crossAxis:!1,limiter:"partial"===X?(0,rm.dr)():void 0,...ey}),en&&(0,rm.RR)({...ey}),(0,rm.dp)({...ey,apply:({elements:i,rects:o,availableWidth:s,availableHeight:f})=>{let{width:g,height:_}=o.reference,b=i.floating.style;b.setProperty("--radix-popper-available-width",`${s}px`),b.setProperty("--radix-popper-available-height",`${f}px`),b.setProperty("--radix-popper-anchor-width",`${g}px`),b.setProperty("--radix-popper-anchor-height",`${_}px`)}}),eu&&(0,rh.x7)({element:eu,padding:j}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:eh,arrowHeight:eg}),et&&(0,rm.Cp)({strategy:"referenceHidden"})]}),[eT,eS]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(eE),eN=(0,n9.W)(er);(0,rv.b)(()=>{eb&&(null==eN||eN())},[eb,eN]);let ew=null===(g=ek.arrow)||void 0===g?void 0:g.x,eO=null===(_=ek.arrow)||void 0===_?void 0:_.y,eD=(null===(b=ek.arrow)||void 0===b?void 0:b.centerOffset)!==0,[eA,eI]=(0,T.useState)();return(0,rv.b)(()=>{el&&eI(window.getComputedStyle(el).zIndex)},[el]),(0,T.createElement)("div",{ref:eC.setFloating,"data-radix-popper-content-wrapper":"",style:{...ex,transform:eb?ex.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eA,"--radix-popper-transform-origin":[null===(S=ek.transformOrigin)||void 0===S?void 0:S.x,null===(N=ek.transformOrigin)||void 0===N?void 0:N.y].join(" ")},dir:i.dir},(0,T.createElement)(rw,{scope:R,placedSide:eT,onArrowChange:ed,arrowX:ew,arrowY:eO,shouldHideArrow:eD},(0,T.createElement)(t3.WV.div,(0,tX.Z)({"data-side":eT,"data-align":eS},ei,{ref:es,style:{...ei.style,animation:eb?void 0:"none",opacity:null!==(A=ek.hide)&&void 0!==A&&A.referenceHidden?0:void 0}}))))}),rA={top:"bottom",right:"left",bottom:"top",left:"right"};function $cf1ac5d9fe0e8206$var$isNotNull(i){return null!==i}let $cf1ac5d9fe0e8206$var$transformOrigin=i=>({name:"transformOrigin",options:i,fn(o){var s,f,g,_,b;let{placement:T,rects:S,middlewareData:N}=o,A=(null===(s=N.arrow)||void 0===s?void 0:s.centerOffset)!==0,R=A?0:i.arrowWidth,$=A?0:i.arrowHeight,[W,V]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(T),U={start:"0%",center:"50%",end:"100%"}[V],j=(null!==(f=null===(g=N.arrow)||void 0===g?void 0:g.x)&&void 0!==f?f:0)+R/2,Y=(null!==(_=null===(b=N.arrow)||void 0===b?void 0:b.y)&&void 0!==_?_:0)+$/2,Z="",X="";return"bottom"===W?(Z=A?U:`${j}px`,X=`${-$}px`):"top"===W?(Z=A?U:`${j}px`,X=`${S.floating.height+$}px`):"right"===W?(Z=`${-$}px`,X=A?U:`${Y}px`):"left"===W&&(Z=`${S.floating.width+$}px`,X=A?U:`${Y}px`),{data:{x:Z,y:X}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(i){let[o,s="center"]=i.split("-");return[o,s]}let $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=i=>{let{__scopePopper:o,children:s}=i,[f,g]=(0,T.useState)(null);return(0,T.createElement)(rk,{scope:o,anchor:f,onAnchorChange:g},s)},rI=(0,T.forwardRef)((i,o)=>{var s;let{container:f=null==globalThis?void 0:null===(s=globalThis.document)||void 0===s?void 0:s.body,...g}=i;return f?n8.createPortal((0,T.createElement)(t3.WV.div,(0,tX.Z)({},g,{ref:o})),f):null});var rM=s(5859),rR=s(260);let rP=[" ","Enter","ArrowUp","ArrowDown"],r$=[" ","Enter"],rL="Select",[rF,rB,rz]=(0,n7.B)(rL),[rK,rW]=(0,t1.b)(rL,[rz,rE]),rH=rE(),[rV,rU]=rK(rL),[rq,rj]=rK(rL),rG=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,disabled:f=!1,...g}=i,_=rH(s),b=rU("SelectTrigger",s),S=b.disabled||f,N=(0,nN.e)(o,b.onTriggerChange),A=rB(s),[R,$,W]=$cc7e05a45900e73f$var$useTypeaheadSearch(i=>{let o=A().filter(i=>!i.disabled),s=o.find(i=>i.value===b.value),f=$cc7e05a45900e73f$var$findNextItem(o,i,s);void 0!==f&&b.onValueChange(f.value)}),handleOpen=()=>{S||(b.onOpenChange(!0),W())};return(0,T.createElement)(rS,(0,tX.Z)({asChild:!0},_),(0,T.createElement)(t3.WV.button,(0,tX.Z)({type:"button",role:"combobox","aria-controls":b.contentId,"aria-expanded":b.open,"aria-required":b.required,"aria-autocomplete":"none",dir:b.dir,"data-state":b.open?"open":"closed",disabled:S,"data-disabled":S?"":void 0,"data-placeholder":void 0===b.value?"":void 0},g,{ref:N,onClick:(0,t0.M)(g.onClick,i=>{i.currentTarget.focus()}),onPointerDown:(0,t0.M)(g.onPointerDown,i=>{let o=i.target;o.hasPointerCapture(i.pointerId)&&o.releasePointerCapture(i.pointerId),0===i.button&&!1===i.ctrlKey&&(handleOpen(),b.triggerPointerDownPosRef.current={x:Math.round(i.pageX),y:Math.round(i.pageY)},i.preventDefault())}),onKeyDown:(0,t0.M)(g.onKeyDown,i=>{let o=""!==R.current,s=i.ctrlKey||i.altKey||i.metaKey;s||1!==i.key.length||$(i.key),(!o||" "!==i.key)&&rP.includes(i.key)&&(handleOpen(),i.preventDefault())})})))}),rY=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,className:f,style:g,children:_,placeholder:b,...S}=i,N=rU("SelectValue",s),{onValueNodeHasChildrenChange:A}=N,R=void 0!==_,$=(0,nN.e)(o,N.onValueNodeChange);return(0,rv.b)(()=>{A(R)},[A,R]),(0,T.createElement)(t3.WV.span,(0,tX.Z)({},S,{ref:$,style:{pointerEvents:"none"}}),void 0===N.value&&void 0!==b?b:_)}),rZ=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,children:f,...g}=i;return(0,T.createElement)(t3.WV.span,(0,tX.Z)({"aria-hidden":!0},g,{ref:o}),f||"")}),rJ="SelectContent",rQ=(0,T.forwardRef)((i,o)=>{let s=rU(rJ,i.__scopeSelect),[f,g]=(0,T.useState)();return((0,rv.b)(()=>{g(new DocumentFragment)},[]),s.open)?(0,T.createElement)(r1,(0,tX.Z)({},i,{ref:o})):f?(0,n8.createPortal)((0,T.createElement)(rX,{scope:i.__scopeSelect},(0,T.createElement)(rF.Slot,{scope:i.__scopeSelect},(0,T.createElement)("div",null,i.children))),f):null}),[rX,r0]=rK(rJ),r1=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,position:f="item-aligned",onCloseAutoFocus:g,onEscapeKeyDown:_,onPointerDownOutside:b,side:S,sideOffset:N,align:A,alignOffset:R,arrowPadding:$,collisionBoundary:W,collisionPadding:V,sticky:U,hideWhenDetached:j,avoidCollisions:Y,...Z}=i,X=rU(rJ,s),[et,en]=(0,T.useState)(null),[er,ei]=(0,T.useState)(null),eo=(0,nN.e)(o,i=>en(i)),[el,ea]=(0,T.useState)(null),[es,eu]=(0,T.useState)(null),ed=rB(s),[ep,eh]=(0,T.useState)(!1),eg=(0,T.useRef)(!1);(0,T.useEffect)(()=>{if(et)return(0,rM.Ry)(et)},[et]),(0,ro.EW)();let em=(0,T.useCallback)(i=>{let[o,...s]=ed().map(i=>i.ref.current),[f]=s.slice(-1),g=document.activeElement;for(let s of i)if(s===g||(null==s||s.scrollIntoView({block:"nearest"}),s===o&&er&&(er.scrollTop=0),s===f&&er&&(er.scrollTop=er.scrollHeight),null==s||s.focus(),document.activeElement!==g))return},[ed,er]),e_=(0,T.useCallback)(()=>em([el,et]),[em,el,et]);(0,T.useEffect)(()=>{ep&&e_()},[ep,e_]);let{onOpenChange:ev,triggerPointerDownPosRef:ey}=X;(0,T.useEffect)(()=>{if(et){let i={x:0,y:0},handlePointerMove=o=>{var s,f,g,_;i={x:Math.abs(Math.round(o.pageX)-(null!==(s=null===(f=ey.current)||void 0===f?void 0:f.x)&&void 0!==s?s:0)),y:Math.abs(Math.round(o.pageY)-(null!==(g=null===(_=ey.current)||void 0===_?void 0:_.y)&&void 0!==g?g:0))}},handlePointerUp=o=>{i.x<=10&&i.y<=10?o.preventDefault():et.contains(o.target)||ev(!1),document.removeEventListener("pointermove",handlePointerMove),ey.current=null};return null!==ey.current&&(document.addEventListener("pointermove",handlePointerMove),document.addEventListener("pointerup",handlePointerUp,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",handlePointerMove),document.removeEventListener("pointerup",handlePointerUp,{capture:!0})}}},[et,ev,ey]),(0,T.useEffect)(()=>{let close=()=>ev(!1);return window.addEventListener("blur",close),window.addEventListener("resize",close),()=>{window.removeEventListener("blur",close),window.removeEventListener("resize",close)}},[ev]);let[eC,ex]=$cc7e05a45900e73f$var$useTypeaheadSearch(i=>{let o=ed().filter(i=>!i.disabled),s=o.find(i=>i.ref.current===document.activeElement),f=$cc7e05a45900e73f$var$findNextItem(o,i,s);f&&setTimeout(()=>f.ref.current.focus())}),eE=(0,T.useCallback)((i,o,s)=>{let f=!eg.current&&!s,g=void 0!==X.value&&X.value===o;(g||f)&&(ea(i),f&&(eg.current=!0))},[X.value]),eb=(0,T.useCallback)(()=>null==et?void 0:et.focus(),[et]),ek=(0,T.useCallback)((i,o,s)=>{let f=!eg.current&&!s,g=void 0!==X.value&&X.value===o;(g||f)&&eu(i)},[X.value]),eT="popper"===f?r3:r2,eS=eT===r3?{side:S,sideOffset:N,align:A,alignOffset:R,arrowPadding:$,collisionBoundary:W,collisionPadding:V,sticky:U,hideWhenDetached:j,avoidCollisions:Y}:{};return(0,T.createElement)(rX,{scope:s,content:et,viewport:er,onViewportChange:ei,itemRefCallback:eE,selectedItem:el,onItemLeave:eb,itemTextRefCallback:ek,focusSelectedItem:e_,selectedItemText:es,position:f,isPositioned:ep,searchRef:eC},(0,T.createElement)(rR.Z,{as:nM.g7,allowPinchZoom:!0},(0,T.createElement)(ru,{asChild:!0,trapped:X.open,onMountAutoFocus:i=>{i.preventDefault()},onUnmountAutoFocus:(0,t0.M)(g,i=>{var o;null===(o=X.trigger)||void 0===o||o.focus({preventScroll:!0}),i.preventDefault()})},(0,T.createElement)(ri,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:_,onPointerDownOutside:b,onFocusOutside:i=>i.preventDefault(),onDismiss:()=>X.onOpenChange(!1)},(0,T.createElement)(eT,(0,tX.Z)({role:"listbox",id:X.contentId,"data-state":X.open?"open":"closed",dir:X.dir,onContextMenu:i=>i.preventDefault()},Z,eS,{onPlaced:()=>eh(!0),ref:eo,style:{display:"flex",flexDirection:"column",outline:"none",...Z.style},onKeyDown:(0,t0.M)(Z.onKeyDown,i=>{let o=i.ctrlKey||i.altKey||i.metaKey;if("Tab"===i.key&&i.preventDefault(),o||1!==i.key.length||ex(i.key),["ArrowUp","ArrowDown","Home","End"].includes(i.key)){let o=ed().filter(i=>!i.disabled),s=o.map(i=>i.ref.current);if(["ArrowUp","End"].includes(i.key)&&(s=s.slice().reverse()),["ArrowUp","ArrowDown"].includes(i.key)){let o=i.target,f=s.indexOf(o);s=s.slice(f+1)}setTimeout(()=>em(s)),i.preventDefault()}})}))))))}),r2=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,onPlaced:f,...g}=i,_=rU(rJ,s),b=r0(rJ,s),[S,N]=(0,T.useState)(null),[A,R]=(0,T.useState)(null),$=(0,nN.e)(o,i=>R(i)),W=rB(s),V=(0,T.useRef)(!1),U=(0,T.useRef)(!0),{viewport:j,selectedItem:Y,selectedItemText:Z,focusSelectedItem:X}=b,et=(0,T.useCallback)(()=>{if(_.trigger&&_.valueNode&&S&&A&&j&&Y&&Z){let i=_.trigger.getBoundingClientRect(),o=A.getBoundingClientRect(),s=_.valueNode.getBoundingClientRect(),g=Z.getBoundingClientRect();if("rtl"!==_.dir){let f=g.left-o.left,_=s.left-f,b=i.left-_,T=i.width+b,N=Math.max(T,o.width),A=window.innerWidth-10,R=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(_,[10,A-N]);S.style.minWidth=T+"px",S.style.left=R+"px"}else{let f=o.right-g.right,_=window.innerWidth-s.right-f,b=window.innerWidth-i.right-_,T=i.width+b,N=Math.max(T,o.width),A=window.innerWidth-10,R=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(_,[10,A-N]);S.style.minWidth=T+"px",S.style.right=R+"px"}let b=W(),T=window.innerHeight-20,N=j.scrollHeight,R=window.getComputedStyle(A),$=parseInt(R.borderTopWidth,10),U=parseInt(R.paddingTop,10),X=parseInt(R.borderBottomWidth,10),et=parseInt(R.paddingBottom,10),en=$+U+N+et+X,er=Math.min(5*Y.offsetHeight,en),ei=window.getComputedStyle(j),eo=parseInt(ei.paddingTop,10),el=parseInt(ei.paddingBottom,10),ea=i.top+i.height/2-10,es=Y.offsetHeight/2,eu=Y.offsetTop+es,ed=$+U+eu;if(ed<=ea){let i=Y===b[b.length-1].ref.current;S.style.bottom="0px";let o=A.clientHeight-j.offsetTop-j.offsetHeight;S.style.height=ed+Math.max(T-ea,es+(i?el:0)+o+X)+"px"}else{let i=Y===b[0].ref.current;S.style.top="0px";let o=Math.max(ea,$+j.offsetTop+(i?eo:0)+es);S.style.height=o+(en-ed)+"px",j.scrollTop=ed-ea+j.offsetTop}S.style.margin="10px 0",S.style.minHeight=er+"px",S.style.maxHeight=T+"px",null==f||f(),requestAnimationFrame(()=>V.current=!0)}},[W,_.trigger,_.valueNode,S,A,j,Y,Z,_.dir,f]);(0,rv.b)(()=>et(),[et]);let[en,er]=(0,T.useState)();(0,rv.b)(()=>{A&&er(window.getComputedStyle(A).zIndex)},[A]);let ei=(0,T.useCallback)(i=>{i&&!0===U.current&&(et(),null==X||X(),U.current=!1)},[et,X]);return(0,T.createElement)(r5,{scope:s,contentWrapper:S,shouldExpandOnScrollRef:V,onScrollButtonChange:ei},(0,T.createElement)("div",{ref:N,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:en}},(0,T.createElement)(t3.WV.div,(0,tX.Z)({},g,{ref:$,style:{boxSizing:"border-box",maxHeight:"100%",...g.style}}))))}),r3=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,align:f="start",collisionPadding:g=10,..._}=i,b=rH(s);return(0,T.createElement)(rD,(0,tX.Z)({},b,_,{ref:o,align:f,collisionPadding:g,style:{boxSizing:"border-box",..._.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[r5,r4]=rK(rJ,{}),r6="SelectViewport",r8=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,...f}=i,g=r0(r6,s),_=r4(r6,s),b=(0,nN.e)(o,g.onViewportChange),S=(0,T.useRef)(0);return(0,T.createElement)(T.Fragment,null,(0,T.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,T.createElement)(rF.Slot,{scope:s},(0,T.createElement)(t3.WV.div,(0,tX.Z)({"data-radix-select-viewport":"",role:"presentation"},f,{ref:b,style:{position:"relative",flex:1,overflow:"auto",...f.style},onScroll:(0,t0.M)(f.onScroll,i=>{let o=i.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:f}=_;if(null!=f&&f.current&&s){let i=Math.abs(S.current-o.scrollTop);if(i>0){let f=window.innerHeight-20,g=parseFloat(s.style.minHeight),_=parseFloat(s.style.height),b=Math.max(g,_);if(b<f){let g=b+i,_=Math.min(f,g),T=g-_;s.style.height=_+"px","0px"===s.style.bottom&&(o.scrollTop=T>0?T:0,s.style.justifyContent="flex-end")}}}S.current=o.scrollTop})}))))}),[r7,r9]=rK("SelectGroup"),it="SelectItem",[ir,ii]=rK(it),io=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,value:f,disabled:g=!1,textValue:_,...b}=i,S=rU(it,s),N=r0(it,s),A=S.value===f,[R,$]=(0,T.useState)(null!=_?_:""),[W,V]=(0,T.useState)(!1),U=(0,nN.e)(o,i=>{var o;return null===(o=N.itemRefCallback)||void 0===o?void 0:o.call(N,i,f,g)}),j=(0,nO.M)(),handleSelect=()=>{g||(S.onValueChange(f),S.onOpenChange(!1))};return(0,T.createElement)(ir,{scope:s,value:f,disabled:g,textId:j,isSelected:A,onItemTextChange:(0,T.useCallback)(i=>{$(o=>{var s;return o||(null!==(s=null==i?void 0:i.textContent)&&void 0!==s?s:"").trim()})},[])},(0,T.createElement)(rF.ItemSlot,{scope:s,value:f,disabled:g,textValue:R},(0,T.createElement)(t3.WV.div,(0,tX.Z)({role:"option","aria-labelledby":j,"data-highlighted":W?"":void 0,"aria-selected":A&&W,"data-state":A?"checked":"unchecked","aria-disabled":g||void 0,"data-disabled":g?"":void 0,tabIndex:g?void 0:-1},b,{ref:U,onFocus:(0,t0.M)(b.onFocus,()=>V(!0)),onBlur:(0,t0.M)(b.onBlur,()=>V(!1)),onPointerUp:(0,t0.M)(b.onPointerUp,handleSelect),onPointerMove:(0,t0.M)(b.onPointerMove,i=>{if(g){var o;null===(o=N.onItemLeave)||void 0===o||o.call(N)}else i.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,t0.M)(b.onPointerLeave,i=>{if(i.currentTarget===document.activeElement){var o;null===(o=N.onItemLeave)||void 0===o||o.call(N)}}),onKeyDown:(0,t0.M)(b.onKeyDown,i=>{var o;let s=(null===(o=N.searchRef)||void 0===o?void 0:o.current)!=="";s&&" "===i.key||(r$.includes(i.key)&&handleSelect()," "===i.key&&i.preventDefault())})}))))}),il="SelectItemText",ia=(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,className:f,style:g,..._}=i,b=rU(il,s),S=r0(il,s),N=ii(il,s),A=rj(il,s),[R,$]=(0,T.useState)(null),W=(0,nN.e)(o,i=>$(i),N.onItemTextChange,i=>{var o;return null===(o=S.itemTextRefCallback)||void 0===o?void 0:o.call(S,i,N.value,N.disabled)}),V=null==R?void 0:R.textContent,U=(0,T.useMemo)(()=>(0,T.createElement)("option",{key:N.value,value:N.value,disabled:N.disabled},V),[N.disabled,N.value,V]),{onNativeOptionAdd:j,onNativeOptionRemove:Y}=A;return(0,rv.b)(()=>(j(U),()=>Y(U)),[j,Y,U]),(0,T.createElement)(T.Fragment,null,(0,T.createElement)(t3.WV.span,(0,tX.Z)({id:N.textId},_,{ref:W})),N.isSelected&&b.valueNode&&!b.valueNodeHasChildren?(0,n8.createPortal)(_.children,b.valueNode):null)}),is=((i,o)=>{let{__scopeSelect:s,onAutoScroll:f,...g}=i,_=r0("SelectScrollButton",s),b=(0,T.useRef)(null),S=rB(s),N=(0,T.useCallback)(()=>{null!==b.current&&(window.clearInterval(b.current),b.current=null)},[]);return(0,T.useEffect)(()=>()=>N(),[N]),(0,rv.b)(()=>{var i;let o=S().find(i=>i.ref.current===document.activeElement);null==o||null===(i=o.ref.current)||void 0===i||i.scrollIntoView({block:"nearest"})},[S]),(0,T.createElement)(t3.WV.div,(0,tX.Z)({"aria-hidden":!0},g,{ref:o,style:{flexShrink:0,...g.style},onPointerDown:(0,t0.M)(g.onPointerDown,()=>{null===b.current&&(b.current=window.setInterval(f,50))}),onPointerMove:(0,t0.M)(g.onPointerMove,()=>{var i;null===(i=_.onItemLeave)||void 0===i||i.call(_),null===b.current&&(b.current=window.setInterval(f,50))}),onPointerLeave:(0,t0.M)(g.onPointerLeave,()=>{N()})}))},(0,T.forwardRef)((i,o)=>{let{__scopeSelect:s,...f}=i;return(0,T.createElement)(t3.WV.div,(0,tX.Z)({"aria-hidden":!0},f,{ref:o}))})),iu=(0,T.forwardRef)((i,o)=>{let{value:s,...f}=i,g=(0,T.useRef)(null),_=(0,nN.e)(o,g),b=function(i){let o=(0,T.useRef)({value:i,previous:i});return(0,T.useMemo)(()=>(o.current.value!==i&&(o.current.previous=o.current.value,o.current.value=i),o.current.previous),[i])}(s);return(0,T.useEffect)(()=>{let i=g.current,o=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(o,"value"),_=f.set;if(b!==s&&_){let o=new Event("change",{bubbles:!0});_.call(i,s),i.dispatchEvent(o)}},[b,s]),(0,T.createElement)(nR.T,{asChild:!0},(0,T.createElement)("select",(0,tX.Z)({},f,{ref:_,defaultValue:s})))});function $cc7e05a45900e73f$var$useTypeaheadSearch(i){let o=(0,n9.W)(i),s=(0,T.useRef)(""),f=(0,T.useRef)(0),g=(0,T.useCallback)(i=>{let g=s.current+i;o(g),function updateSearch(i){s.current=i,window.clearTimeout(f.current),""!==i&&(f.current=window.setTimeout(()=>updateSearch(""),1e3))}(g)},[o]),_=(0,T.useCallback)(()=>{s.current="",window.clearTimeout(f.current)},[]);return(0,T.useEffect)(()=>()=>window.clearTimeout(f.current),[]),[s,g,_]}function $cc7e05a45900e73f$var$findNextItem(i,o,s){var f;let g=o.length>1&&Array.from(o).every(i=>i===o[0]),_=g?o[0]:o,b=s?i.indexOf(s):-1,T=(f=Math.max(b,0),i.map((o,s)=>i[(f+s)%i.length])),S=1===_.length;S&&(T=T.filter(i=>i!==s));let N=T.find(i=>i.textValue.toLowerCase().startsWith(_.toLowerCase()));return N!==s?N:void 0}iu.displayName="BubbleSelect";let $cc7e05a45900e73f$export$be92b6f5f03c0fe9=i=>{let{__scopeSelect:o,children:s,open:f,defaultOpen:g,onOpenChange:_,value:b,defaultValue:S,onValueChange:N,dir:A,name:R,autoComplete:$,disabled:W,required:V}=i,U=rH(o),[j,Y]=(0,T.useState)(null),[Z,X]=(0,T.useState)(null),[et,en]=(0,T.useState)(!1),er=(0,t6.gm)(A),[ei=!1,eo]=(0,t5.T)({prop:f,defaultProp:g,onChange:_}),[el,ea]=(0,t5.T)({prop:b,defaultProp:S,onChange:N}),es=(0,T.useRef)(null),eu=!j||!!j.closest("form"),[ed,ep]=(0,T.useState)(new Set),eh=Array.from(ed).map(i=>i.props.value).join(";");return(0,T.createElement)($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,U,(0,T.createElement)(rV,{required:V,scope:o,trigger:j,onTriggerChange:Y,valueNode:Z,onValueNodeChange:X,valueNodeHasChildren:et,onValueNodeHasChildrenChange:en,contentId:(0,nO.M)(),value:el,onValueChange:ea,open:ei,onOpenChange:eo,dir:er,triggerPointerDownPosRef:es,disabled:W},(0,T.createElement)(rF.Provider,{scope:o},(0,T.createElement)(rq,{scope:i.__scopeSelect,onNativeOptionAdd:(0,T.useCallback)(i=>{ep(o=>new Set(o).add(i))},[]),onNativeOptionRemove:(0,T.useCallback)(i=>{ep(o=>{let s=new Set(o);return s.delete(i),s})},[])},s)),eu?(0,T.createElement)(iu,{key:eh,"aria-hidden":!0,required:V,tabIndex:-1,name:R,autoComplete:$,value:el,onChange:i=>ea(i.target.value),disabled:W},void 0===el?(0,T.createElement)("option",{value:""}):null,Array.from(ed)):null))},$cc7e05a45900e73f$export$602eac185826482c=i=>(0,T.createElement)(rI,(0,tX.Z)({asChild:!0},i)),arrow_drop_down_svg_DropDownIcon=i=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...i},T.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},T.createElement("path",{d:"M0 0h24v24H0z"})),T.createElement("g",{mask:"url(#a)"},T.createElement("path",{d:"m12 15-5-5h10l-5 5Z"}))),ic=T.forwardRef(({children:i,className:o,...s},f)=>T.createElement(io,{...s,ref:f,className:tA(o,tN.selectItem)},T.createElement(ia,null,i))),SelectTrigger=({title:i,placeholder:o,className:s})=>{let[f]=tE.useEmitterValues("readOnly");return T.createElement(n1,{title:i},T.createElement(rG,{"aria-label":o,className:tA(tN.selectTrigger,s),"data-toolbar-item":!0,disabled:f},T.createElement(rY,{placeholder:o}),T.createElement(rZ,{className:tN.selectDropdownArrow},T.createElement(arrow_drop_down_svg_DropDownIcon,null))))},select_SelectContent=({children:i,className:o=tN.selectContainer})=>{let[s]=tE.useEmitterValues("editorRootElementRef");return T.createElement($cc7e05a45900e73f$export$602eac185826482c,{container:null==s?void 0:s.current},T.createElement(rQ,{className:o,onCloseAutoFocus:i=>i.preventDefault(),position:"popper"},T.createElement(r8,{"data-editor-dropdown":!0},i)))},Select=i=>T.createElement($cc7e05a45900e73f$export$be92b6f5f03c0fe9,{value:i.value||void 0,onValueChange:i.onChange},T.createElement(SelectTrigger,{title:i.triggerTitle,placeholder:i.placeholder}),T.createElement(select_SelectContent,null,i.items.map((i,o)=>"separator"===i?T.createElement(is,{key:o}):T.createElement(ic,{key:o,value:i.value},i.label)))),BlockTypeSelect=()=>{let i=tE.usePublisher("convertSelectionToNode"),[o]=tE.useEmitterValues("currentBlockType"),s=useHasPlugin("quote"),f=useHasPlugin("headings");if(!s&&!f)return null;let g=[{label:"Paragraph",value:"paragraph"}];if(s&&g.push({label:"Quote",value:"quote"}),f){let[i]=tK.useEmitterValues("allowedHeadingLevels");g.push(...i.map(i=>({label:`Heading ${i}`,value:`h${i}`})))}return T.createElement(Select,{value:o,onChange:o=>{switch(o){case"quote":i(()=>(0,N.$createQuoteNode)());break;case"paragraph":i(()=>(0,$.$createParagraphNode)());break;default:if(""==o);else if(o.startsWith("h"))i(()=>(0,N.$createHeadingNode)(o));else throw Error(`Unknown block type: ${o}`)}},triggerTitle:"Select block type",placeholder:"Block type",items:g})},BulletedListIcon=i=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...i},T.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},T.createElement("path",{d:"M0 0h24v24H0z"})),T.createElement("g",{mask:"url(#a)"},T.createElement("path",{d:"M9 19v-2h12v2H9Zm0-6v-2h12v2H9Zm0-6V5h12v2H9ZM5 20a1.93 1.93 0 0 1-1.413-.587A1.928 1.928 0 0 1 3 18c0-.55.196-1.021.587-1.413A1.928 1.928 0 0 1 5 16c.55 0 1.02.196 1.412.587.392.392.588.863.588 1.413s-.196 1.021-.588 1.413A1.925 1.925 0 0 1 5 20Zm0-6c-.55 0-1.021-.196-1.413-.588A1.925 1.925 0 0 1 3 12c0-.55.196-1.021.587-1.413A1.928 1.928 0 0 1 5 10c.55 0 1.02.196 1.412.587.392.392.588.863.588 1.413s-.196 1.02-.588 1.412A1.923 1.923 0 0 1 5 14Zm0-6c-.55 0-1.021-.196-1.413-.588A1.925 1.925 0 0 1 3 6c0-.55.196-1.02.587-1.412A1.927 1.927 0 0 1 5 4c.55 0 1.02.196 1.412.588C6.804 4.979 7 5.45 7 6c0 .55-.196 1.02-.588 1.412A1.923 1.923 0 0 1 5 8Z"}))),NumberedListIcon=i=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...i},T.createElement("mask",{id:"a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},T.createElement("path",{d:"M0 0h24v24H0z"})),T.createElement("g",{mask:"url(#a)"},T.createElement("path",{d:"M3 22v-1.5h2.5v-.75H4v-1.5h1.5v-.75H3V16h4v2.25L6 19l1 .75V22H3Zm0-7v-3.75h2.5v-.75H3V9h4v3.75H4.5v.75H7V15H3Zm1.5-7V3.5H3V2h3v6H4.5ZM9 19v-2h12v2H9Zm0-6v-2h12v2H9Zm0-6V5h12v2H9Z"}))),ListsToggle=()=>{let[i]=tQ.useEmitterValues("currentListType"),o=tQ.usePublisher("applyListType");return T.createElement(SingleChoiceToggleGroup,{value:i||"",items:[{title:"Bulleted list",contents:T.createElement(BulletedListIcon,null),value:"bullet"},{title:"Numbered list",contents:T.createElement(NumberedListIcon,null),value:"number"}],onChange:o})};var rich_editor=i=>{let{markdown:o,editorRef:s,...f}=i;return(0,b.jsx)(tM,{className:"border rounded",contentEditableClassName:"rich-editor",ref:s,markdown:o,plugins:[tz(),tJ(),n4({toolbarContents:()=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(UndoRedo,{}),(0,b.jsx)(BoldItalicUnderlineToggles,{}),(0,b.jsx)(BlockTypeSelect,{}),(0,b.jsx)(ListsToggle,{})]})})],...f})}},3062:function(){},6823:function(i,o,s){"use strict";s.d(o,{f:function(){return N}});var f=s(3428),g=s(2265),_=s(9381);let b="horizontal",T=["horizontal","vertical"],S=(0,g.forwardRef)((i,o)=>{let{decorative:s,orientation:T=b,...S}=i,N=$89eedd556c436f6a$var$isValidOrientation(T)?T:b;return(0,g.createElement)(_.WV.div,(0,f.Z)({"data-orientation":N},s?{role:"none"}:{"aria-orientation":"vertical"===N?N:void 0,role:"separator"},S,{ref:o}))});function $89eedd556c436f6a$var$isValidOrientation(i){return T.includes(i)}S.propTypes={orientation(i,o,s){let f=i[o],g=String(f);return f&&!$89eedd556c436f6a$var$isValidOrientation(f)?Error(`Invalid prop \`orientation\` of value \`${g}\` supplied to \`${s}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${b}\`.`):null}};let N=S},8281:function(i,o,s){"use strict";s.d(o,{T:function(){return b},f:function(){return T}});var f=s(3428),g=s(2265),_=s(9381);let b=(0,g.forwardRef)((i,o)=>(0,g.createElement)(_.WV.span,(0,f.Z)({},i,{ref:o,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...i.style}}))),T=b},3034:function(i,o,s){"use strict";s.d(o,{T:function(){return decodeNamedCharacterReference}});let f=document.createElement("i");function decodeNamedCharacterReference(i){let o="&"+i+";";f.innerHTML=o;let s=f.textContent;return(59!==s.charCodeAt(s.length-1)||"semi"===i)&&s!==o&&s}}}]);