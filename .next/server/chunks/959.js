exports.id=959,exports.ids=[959],exports.modules={5502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return addLocale}}),n(1920);let addLocale=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1566:(e,t,n)=>{"use strict";function getDomainLocale(e,t,n,i){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return getDomainLocale}}),n(1920),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return v}});let i=n(2147),o=i._(n(9885)),s=n(52),a=n(231),l=n(6298),u=n(8175),c=n(5502),d=n(713),h=n(2428),f=n(1658),p=n(1566),g=n(7488),m=n(6165);function formatStringOrUrl(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let b=o.default.forwardRef(function(e,t){let n,i;let{href:l,as:b,children:v,prefetch:y=null,passHref:w,replace:S,shallow:C,scroll:O,locale:R,onClick:E,onMouseEnter:P,onTouchStart:T,legacyBehavior:_=!1,...k}=e;n=v,_&&("string"==typeof n||"number"==typeof n)&&(n=o.default.createElement("a",null,n));let A=o.default.useContext(d.RouterContext),I=o.default.useContext(h.AppRouterContext),j=null!=A?A:I,x=!A,L=!1!==y,N=null===y?m.PrefetchKind.AUTO:m.PrefetchKind.FULL,{href:U,as:q}=o.default.useMemo(()=>{if(!A){let e=formatStringOrUrl(l);return{href:e,as:b?formatStringOrUrl(b):e}}let[e,t]=(0,s.resolveHref)(A,l,!0);return{href:e,as:b?(0,s.resolveHref)(A,b):t||e}},[A,l,b]),M=o.default.useRef(U),F=o.default.useRef(q);_&&(i=o.default.Children.only(n));let D=_?i&&"object"==typeof i&&i.ref:t,[W,$,z]=(0,f.useIntersection)({rootMargin:"200px"}),K=o.default.useCallback(e=>{(F.current!==q||M.current!==U)&&(z(),F.current=q,M.current=U),W(e),D&&("function"==typeof D?D(e):"object"==typeof D&&(D.current=e))},[q,D,U,z,W]);o.default.useEffect(()=>{},[q,U,$,R,L,null==A?void 0:A.locale,j,x,N]);let V={ref:K,onClick(e){_||"function"!=typeof E||E(e),_&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),j&&!e.defaultPrevented&&function(e,t,n,i,s,l,u,c,d,h){let{nodeName:f}=e.currentTarget,p="A"===f.toUpperCase();if(p&&(function(e){let t=e.currentTarget,n=t.getAttribute("target");return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!d&&!(0,a.isLocalURL)(n)))return;e.preventDefault();let navigate=()=>{let e=null==u||u;"beforePopState"in t?t[s?"replace":"push"](n,i,{shallow:l,locale:c,scroll:e}):t[s?"replace":"push"](i||n,{forceOptimisticNavigation:!h,scroll:e})};d?o.default.startTransition(navigate):navigate()}(e,j,U,q,S,C,O,R,x,L)},onMouseEnter(e){_||"function"!=typeof P||P(e),_&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e)},onTouchStart(e){_||"function"!=typeof T||T(e),_&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e)}};if((0,u.isAbsoluteUrl)(q))V.href=q;else if(!_||w||"a"===i.type&&!("href"in i.props)){let e=void 0!==R?R:null==A?void 0:A.locale,t=(null==A?void 0:A.isLocaleDomain)&&(0,p.getDomainLocale)(q,e,null==A?void 0:A.locales,null==A?void 0:A.domainLocales);V.href=t||(0,g.addBasePath)((0,c.addLocale)(q,e,null==A?void 0:A.defaultLocale))}return _?o.default.cloneElement(i,V):o.default.createElement("a",{...k,...V},n)}),v=b;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{requestIdleCallback:function(){return n},cancelIdleCallback:function(){return i}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},52:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return resolveHref}});let i=n(4831),o=n(6298),s=n(8729),a=n(8175),l=n(1920),u=n(231),c=n(9094),d=n(7121);function resolveHref(e,t,n){let h;let f="string"==typeof t?t:(0,o.formatWithValidation)(t),p=f.match(/^[a-zA-Z]{1,}:\/\//),g=p?f.slice(p[0].length):f,m=g.split("?");if((m[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+f+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,a.normalizeRepeatedSlashes)(g);f=(p?p[0]:"")+t}if(!(0,u.isLocalURL)(f))return n?[f]:f;try{h=new URL(f.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){h=new URL("/","http://n")}try{let e=new URL(f,h);e.pathname=(0,l.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&n){let n=(0,i.searchParamsToUrlQuery)(e.searchParams),{result:a,params:l}=(0,d.interpolateAs)(e.pathname,e.pathname,n);a&&(t=(0,o.formatWithValidation)({pathname:a,hash:e.hash,query:(0,s.omit)(n,l)}))}let a=e.origin===h.origin?e.href.slice(e.origin.length):e.href;return n?[a,t||a]:a}catch(e){return n?[f]:f}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return useIntersection}});let i=n(9885),o=n(2541),s="function"==typeof IntersectionObserver,a=new Map,l=[];function useIntersection(e){let{rootRef:t,rootMargin:n,disabled:u}=e,c=u||!s,[d,h]=(0,i.useState)(!1),f=(0,i.useRef)(null),p=(0,i.useCallback)(e=>{f.current=e},[]);(0,i.useEffect)(()=>{if(s){if(c||d)return;let e=f.current;if(e&&e.tagName){let i=function(e,t,n){let{id:i,observer:o,elements:s}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},i=l.find(e=>e.root===n.root&&e.margin===n.margin);if(i&&(t=a.get(i)))return t;let o=new Map,s=new IntersectionObserver(e=>{e.forEach(e=>{let t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e);return t={id:n,observer:s,elements:o},l.push(n),a.set(n,t),t}(n);return s.set(e,t),o.observe(e),function(){if(s.delete(e),o.unobserve(e),0===s.size){o.disconnect(),a.delete(i);let e=l.findIndex(e=>e.root===i.root&&e.margin===i.margin);e>-1&&l.splice(e,1)}}}(e,e=>e&&h(e),{root:null==t?void 0:t.current,rootMargin:n});return i}}else if(!d){let e=(0,o.requestIdleCallback)(()=>h(!0));return()=>(0,o.cancelIdleCallback)(e)}},[c,n,t,d,f.current]);let g=(0,i.useCallback)(()=>{h(!1)},[]);return[p,d,g]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return escapeStringRegexp}});let n=/[|\\{}()[\]^$+*?.-]/,i=/[|\\{}()[\]^$+*?.-]/g;function escapeStringRegexp(e){return n.test(e)?e.replace(i,"\\$&"):e}},6298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{formatUrl:function(){return formatUrl},urlObjectKeys:function(){return a},formatWithValidation:function(){return formatWithValidation}});let i=n(4009),o=i._(n(4831)),s=/https?|ftp|gopher|file/;function formatUrl(e){let{auth:t,hostname:n}=e,i=e.protocol||"",a=e.pathname||"",l=e.hash||"",u=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:n&&(c=t+(~n.indexOf(":")?"["+n+"]":n),e.port&&(c+=":"+e.port)),u&&"object"==typeof u&&(u=String(o.urlQueryToSearchParams(u)));let d=e.search||u&&"?"+u||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||s.test(i))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),""+i+c+(a=a.replace(/[?#]/g,encodeURIComponent))+(d=d.replace("#","%23"))+l}let a=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function formatWithValidation(e){return formatUrl(e)}},9094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getSortedRoutes:function(){return i.getSortedRoutes},isDynamicRoute:function(){return o.isDynamicRoute}});let i=n(4079),o=n(503)},7121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return interpolateAs}});let i=n(8207),o=n(6846);function interpolateAs(e,t,n){let s="",a=(0,o.getRouteRegex)(e),l=a.groups,u=(t!==e?(0,i.getRouteMatcher)(a)(t):"")||n;s=e;let c=Object.keys(l);return c.every(e=>{let t=u[e]||"",{repeat:n,optional:i}=l[e],o="["+(n?"...":"")+e+"]";return i&&(o=(t?"":"/")+"["+o+"]"),n&&!Array.isArray(t)&&(t=[t]),(i||e in u)&&(s=s.replace(o,n?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(s=""),{params:c,result:s}}},503:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return isDynamicRoute}});let n=/\/\[[^/]+?\](?=\/|$)/;function isDynamicRoute(e){return n.test(e)}},231:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return isLocalURL}});let i=n(8175),o=n(9498);function isLocalURL(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),n=new URL(e,t);return n.origin===t&&(0,o.hasBasePath)(n.pathname)}catch(e){return!1}}},8729:(e,t)=>{"use strict";function omit(e,t){let n={};return Object.keys(e).forEach(i=>{t.includes(i)||(n[i]=e[i])}),n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return omit}})},4831:(e,t)=>{"use strict";function searchParamsToUrlQuery(e){let t={};return e.forEach((e,n)=>{void 0===t[n]?t[n]=e:Array.isArray(t[n])?t[n].push(e):t[n]=[t[n],e]}),t}function stringifyUrlQueryParam(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function urlQueryToSearchParams(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[n,i]=e;Array.isArray(i)?i.forEach(e=>t.append(n,stringifyUrlQueryParam(e))):t.set(n,stringifyUrlQueryParam(i))}),t}function assign(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,n)=>e.append(n,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{searchParamsToUrlQuery:function(){return searchParamsToUrlQuery},urlQueryToSearchParams:function(){return urlQueryToSearchParams},assign:function(){return assign}})},8207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return getRouteMatcher}});let i=n(8175);function getRouteMatcher(e){let{re:t,groups:n}=e;return e=>{let o=t.exec(e);if(!o)return!1;let decode=e=>{try{return decodeURIComponent(e)}catch(e){throw new i.DecodeError("failed to decode param")}},s={};return Object.keys(n).forEach(e=>{let t=n[e],i=o[t.pos];void 0!==i&&(s[e]=~i.indexOf("/")?i.split("/").map(e=>decode(e)):t.repeat?[decode(i)]:decode(i))}),s}}},6846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getRouteRegex:function(){return getRouteRegex},getNamedRouteRegex:function(){return getNamedRouteRegex},getNamedMiddlewareRegex:function(){return getNamedMiddlewareRegex}});let i=n(4265),o=n(6286),s=n(3383);function parseParameter(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let n=e.startsWith("...");return n&&(e=e.slice(3)),{key:e,repeat:n,optional:t}}function getParametrizedRoute(e){let t=(0,s.removeTrailingSlash)(e).slice(1).split("/"),n={},a=1;return{parameterizedRoute:t.map(e=>{let t=i.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&s){let{key:e,optional:i,repeat:l}=parseParameter(s[1]);return n[e]={pos:a++,repeat:l,optional:i},"/"+(0,o.escapeStringRegexp)(t)+"([^/]+?)"}if(!s)return"/"+(0,o.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:i}=parseParameter(s[1]);return n[e]={pos:a++,repeat:t,optional:i},t?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:n}}function getRouteRegex(e){let{parameterizedRoute:t,groups:n}=getParametrizedRoute(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:n}}function getSafeKeyFromSegment(e){let{getSafeRouteKey:t,segment:n,routeKeys:i,keyPrefix:o}=e,{key:s,optional:a,repeat:l}=parseParameter(n),u=s.replace(/\W/g,"");o&&(u=""+o+u);let c=!1;return(0===u.length||u.length>30)&&(c=!0),isNaN(parseInt(u.slice(0,1)))||(c=!0),c&&(u=t()),o?i[u]=""+o+s:i[u]=""+s,l?a?"(?:/(?<"+u+">.+?))?":"/(?<"+u+">.+?)":"/(?<"+u+">[^/]+?)"}function getNamedParametrizedRoute(e,t){let n;let a=(0,s.removeTrailingSlash)(e).slice(1).split("/"),l=(n=0,()=>{let e="",t=++n;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),u={};return{namedParameterizedRoute:a.map(e=>{let n=i.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);return n&&s?getSafeKeyFromSegment({getSafeRouteKey:l,segment:s[1],routeKeys:u,keyPrefix:t?"nxtI":void 0}):s?getSafeKeyFromSegment({getSafeRouteKey:l,segment:s[1],routeKeys:u,keyPrefix:t?"nxtP":void 0}):"/"+(0,o.escapeStringRegexp)(e)}).join(""),routeKeys:u}}function getNamedRouteRegex(e,t){let n=getNamedParametrizedRoute(e,t);return{...getRouteRegex(e),namedRegex:"^"+n.namedParameterizedRoute+"(?:/)?$",routeKeys:n.routeKeys}}function getNamedMiddlewareRegex(e,t){let{parameterizedRoute:n}=getParametrizedRoute(e),{catchAll:i=!0}=t;if("/"===n)return{namedRegex:"^/"+(i?".*":"")+"$"};let{namedParameterizedRoute:o}=getNamedParametrizedRoute(e,!1);return{namedRegex:"^"+o+(i?"(?:(/.*)?)":"")+"$"}}},4079:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return getSortedRoutes}});let UrlNode=class UrlNode{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let n=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&n.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');n.unshift(t)}return null!==this.restSlugName&&n.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&n.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),n}_insert(e,t,n){if(0===e.length){this.placeholder=!1;return}if(n)throw Error("Catch-all must be the last part of the URL.");let i=e[0];if(i.startsWith("[")&&i.endsWith("]")){let o=i.slice(1,-1),s=!1;if(o.startsWith("[")&&o.endsWith("]")&&(o=o.slice(1,-1),s=!0),o.startsWith("...")&&(o=o.substring(3),n=!0),o.startsWith("[")||o.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+o+"').");if(o.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+o+"').");function handleSlug(e,n){if(null!==e&&e!==n)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+n+"').");t.forEach(e=>{if(e===n)throw Error('You cannot have the same slug name "'+n+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===i.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+n+'" differ only by non-word symbols within a single dynamic path')}),t.push(n)}if(n){if(s){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');handleSlug(this.optionalRestSlugName,o),this.optionalRestSlugName=o,i="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');handleSlug(this.restSlugName,o),this.restSlugName=o,i="[...]"}}else{if(s)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');handleSlug(this.slugName,o),this.slugName=o,i="[]"}}this.children.has(i)||this.children.set(i,new UrlNode),this.children.get(i)._insert(e.slice(1),t,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}};function getSortedRoutes(e){let t=new UrlNode;return e.forEach(e=>t.insert(e)),t.smoosh()}},8175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{WEB_VITALS:function(){return n},execOnce:function(){return execOnce},isAbsoluteUrl:function(){return isAbsoluteUrl},getLocationOrigin:function(){return getLocationOrigin},getURL:function(){return getURL},getDisplayName:function(){return getDisplayName},isResSent:function(){return isResSent},normalizeRepeatedSlashes:function(){return normalizeRepeatedSlashes},loadGetInitialProps:function(){return loadGetInitialProps},SP:function(){return o},ST:function(){return s},DecodeError:function(){return DecodeError},NormalizeError:function(){return NormalizeError},PageNotFoundError:function(){return PageNotFoundError},MissingStaticPage:function(){return MissingStaticPage},MiddlewareNotFoundError:function(){return MiddlewareNotFoundError},stringifyError:function(){return stringifyError}});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function execOnce(e){let t,n=!1;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n||(n=!0,t=e(...o)),t}}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,isAbsoluteUrl=e=>i.test(e);function getLocationOrigin(){let{protocol:e,hostname:t,port:n}=window.location;return e+"//"+t+(n?":"+n:"")}function getURL(){let{href:e}=window.location,t=getLocationOrigin();return e.substring(t.length)}function getDisplayName(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function isResSent(e){return e.finished||e.headersSent}function normalizeRepeatedSlashes(e){let t=e.split("?"),n=t[0];return n.replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function loadGetInitialProps(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await loadGetInitialProps(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(n&&isResSent(n))return i;if(!i){let t='"'+getDisplayName(e)+'.getInitialProps()" should resolve to an object. But found "'+i+'" instead.';throw Error(t)}return i}let o="undefined"!=typeof performance,s=o&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);let DecodeError=class DecodeError extends Error{};let NormalizeError=class NormalizeError extends Error{};let PageNotFoundError=class PageNotFoundError extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}};let MissingStaticPage=class MissingStaticPage extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}};let MiddlewareNotFoundError=class MiddlewareNotFoundError extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}};function stringifyError(e){return JSON.stringify({message:e.message,stack:e.stack})}},713:(e,t,n)=>{"use strict";e.exports=n(316).vendored.contexts.RouterContext},7114:(e,t,n)=>{e.exports=n(2778)},1668:(e,t,n)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(9885),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useState,a=i.useEffect,l=i.useLayoutEffect,u=i.useDebugValue;function r(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=s({inst:{value:n,getSnapshot:t}}),o=i[0].inst,c=i[1];return l(function(){o.value=n,o.getSnapshot=t,r(o)&&c({inst:o})},[e,n,t]),a(function(){return r(o)&&c({inst:o}),e(function(){r(o)&&c({inst:o})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},1928:(e,t,n)=>{"use strict";e.exports=n(1668)},3994:(e,t,n)=>{"use strict";n.d(t,{gm:()=>$f631663db3294ace$export$b39126d51d94e6f3});var i=n(9885);let o=(0,i.createContext)(void 0);function $f631663db3294ace$export$b39126d51d94e6f3(e){let t=(0,i.useContext)(o);return e||t||"ltr"}},6529:(e,t,n)=>{"use strict";n.d(t,{M:()=>$1746a345f3d73bb7$export$f680877a34711e37});var i,o=n(9885),s=n(5852);let a=(i||(i=n.t(o,2)))["useId".toString()]||(()=>void 0),l=0;function $1746a345f3d73bb7$export$f680877a34711e37(e){let[t,n]=o.useState(a());return(0,s.b)(()=>{e||n(e=>null!=e?e:String(l++))},[e]),e||(t?`radix-${t}`:"")}},433:(e,t,n)=>{"use strict";n.d(t,{Pc:()=>C,ck:()=>A,fC:()=>k});var i=n(5108),o=n(9885),s=n(2840),a=n(6493),l=n(880),u=n(8718),c=n(6529),d=n(3979),h=n(2285),f=n(3408),p=n(3994);let g="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},b="RovingFocusGroup",[v,y,w]=(0,a.B)(b),[S,C]=(0,u.b)(b,[w]),[O,R]=S(b),E=(0,o.forwardRef)((e,t)=>(0,o.createElement)(v.Provider,{scope:e.__scopeRovingFocusGroup},(0,o.createElement)(v.Slot,{scope:e.__scopeRovingFocusGroup},(0,o.createElement)(P,(0,i.Z)({},e,{ref:t}))))),P=(0,o.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:a,loop:u=!1,dir:c,currentTabStopId:b,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:w,onEntryFocus:S,...C}=e,R=(0,o.useRef)(null),E=(0,l.e)(t,R),P=(0,p.gm)(c),[T=null,_]=(0,f.T)({prop:b,defaultProp:v,onChange:w}),[k,A]=(0,o.useState)(!1),I=(0,h.W)(S),j=y(n),x=(0,o.useRef)(!1),[L,N]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let e=R.current;if(e)return e.addEventListener(g,I),()=>e.removeEventListener(g,I)},[I]),(0,o.createElement)(O,{scope:n,orientation:a,dir:P,loop:u,currentTabStopId:T,onItemFocus:(0,o.useCallback)(e=>_(e),[_]),onItemShiftTab:(0,o.useCallback)(()=>A(!0),[]),onFocusableItemAdd:(0,o.useCallback)(()=>N(e=>e+1),[]),onFocusableItemRemove:(0,o.useCallback)(()=>N(e=>e-1),[])},(0,o.createElement)(d.WV.div,(0,i.Z)({tabIndex:k||0===L?-1:0,"data-orientation":a},C,{ref:E,style:{outline:"none",...e.style},onMouseDown:(0,s.M)(e.onMouseDown,()=>{x.current=!0}),onFocus:(0,s.M)(e.onFocus,e=>{let t=!x.current;if(e.target===e.currentTarget&&t&&!k){let t=new CustomEvent(g,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=j().filter(e=>e.focusable),t=e.find(e=>e.active),n=e.find(e=>e.id===T),i=[t,n,...e].filter(Boolean),o=i.map(e=>e.ref.current);$d7bdfb9eb0fdf311$var$focusFirst(o)}}x.current=!1}),onBlur:(0,s.M)(e.onBlur,()=>A(!1))})))}),T=(0,o.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:a=!0,active:l=!1,tabStopId:u,...h}=e,f=(0,c.M)(),p=u||f,g=R("RovingFocusGroupItem",n),m=g.currentTabStopId===p,b=y(n),{onFocusableItemAdd:w,onFocusableItemRemove:S}=g;return(0,o.useEffect)(()=>{if(a)return w(),()=>S()},[a,w,S]),(0,o.createElement)(v.ItemSlot,{scope:n,id:p,focusable:a,active:l},(0,o.createElement)(d.WV.span,(0,i.Z)({tabIndex:m?0:-1,"data-orientation":g.orientation},h,{ref:t,onMouseDown:(0,s.M)(e.onMouseDown,e=>{a?g.onItemFocus(p):e.preventDefault()}),onFocus:(0,s.M)(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:(0,s.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){g.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var i;let o=(i=e.key,"rtl"!==n?i:"ArrowLeft"===i?"ArrowRight":"ArrowRight"===i?"ArrowLeft":i);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(o))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(o)))return _[o]}(e,g.orientation,g.dir);if(void 0!==t){e.preventDefault();let n=b().filter(e=>e.focusable),i=n.map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();let n=i.indexOf(e.currentTarget);i=g.loop?function(e,t){return e.map((n,i)=>e[(t+i)%e.length])}(i,n+1):i.slice(n+1)}setTimeout(()=>$d7bdfb9eb0fdf311$var$focusFirst(i))}})})))}),_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $d7bdfb9eb0fdf311$var$focusFirst(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}let k=E,A=T},5537:(e,t,n)=>{"use strict";let i;function __awaiter(e,t,n,i){return new(n||(n=Promise))(function(o,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})}n.d(t,{Ug:()=>ClientResponseError,ZP:()=>Client}),"function"==typeof SuppressedError&&SuppressedError;let ClientResponseError=class ClientResponseError extends Error{constructor(e){var t,n,i,o;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,ClientResponseError.prototype),null!==e&&"object"==typeof e&&(this.url="string"==typeof e.url?e.url:"",this.status="number"==typeof e.status?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,null!==e.response&&"object"==typeof e.response?this.response=e.response:null!==e.data&&"object"==typeof e.data?this.response=e.data:this.response={}),this.originalError||e instanceof ClientResponseError||(this.originalError=e),"undefined"!=typeof DOMException&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=null===(t=this.response)||void 0===t?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(null===(o=null===(i=null===(n=this.originalError)||void 0===n?void 0:n.cause)||void 0===i?void 0:i.message)||void 0===o?void 0:o.includes("ECONNREFUSED ::1"))?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return Object.assign({},this)}};let o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function cookieSerialize(e,t,n){let i=Object.assign({},n||{}),s=i.encode||defaultEncode;if(!o.test(e))throw TypeError("argument name is invalid");let a=s(t);if(a&&!o.test(a))throw TypeError("argument val is invalid");let l=e+"="+a;if(null!=i.maxAge){let e=i.maxAge-0;if(isNaN(e)||!isFinite(e))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(e)}if(i.domain){if(!o.test(i.domain))throw TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!o.test(i.path))throw TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){var u;if(u=i.expires,"[object Date]"!==Object.prototype.toString.call(u)&&!(u instanceof Date)||isNaN(i.expires.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.priority)switch("string"==typeof i.priority?i.priority.toLowerCase():i.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l}function defaultDecode(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function defaultEncode(e){return encodeURIComponent(e)}function getTokenPayload(e){if(e)try{let t=decodeURIComponent(i(e.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch(e){}return{}}function isTokenExpired(e,t=0){let n=getTokenPayload(e);return!(Object.keys(n).length>0&&(!n.exp||n.exp-t>Date.now()/1e3))}i="function"==typeof atob?atob:e=>{let t=String(e).replace(/=+$/,"");if(t.length%4==1)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,s=0,a="";i=t.charAt(s++);~i&&(n=o%4?64*n+i:i,o++%4)&&(a+=String.fromCharCode(255&n>>(-2*o&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};let s="pb_auth";let BaseAuthStore=class BaseAuthStore{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!isTokenExpired(this.token)}get isAdmin(){return"admin"===getTokenPayload(this.token).type}get isAuthRecord(){return"authRecord"===getTokenPayload(this.token).type}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=s){let n=function(e,t){let n={};if("string"!=typeof e)return n;let i=Object.assign({},{}).decode||defaultDecode,o=0;for(;o<e.length;){let t=e.indexOf("=",o);if(-1===t)break;let s=e.indexOf(";",o);if(-1===s)s=e.length;else if(s<t){o=e.lastIndexOf(";",t-1)+1;continue}let a=e.slice(o,t).trim();if(void 0===n[a]){let o=e.slice(t+1,s).trim();34===o.charCodeAt(0)&&(o=o.slice(1,-1));try{n[a]=i(o)}catch(e){n[a]=o}}o=s+1}return n}(e||"")[t]||"",i={};try{i=JSON.parse(n),("object"!=typeof i||Array.isArray(i))&&(i={})}catch(e){}this.save(i.token||"",i.model||null)}exportToCookie(e,t=s){var n,i;let o={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},a=getTokenPayload(this.token);(null==a?void 0:a.exp)?o.expires=new Date(1e3*a.exp):o.expires=new Date("1970-01-01"),e=Object.assign({},o,e);let l={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null},u=cookieSerialize(t,JSON.stringify(l),e),c="undefined"!=typeof Blob?new Blob([u]).size:u.length;if(l.model&&c>4096){l.model={id:null===(n=null==l?void 0:l.model)||void 0===n?void 0:n.id,email:null===(i=null==l?void 0:l.model)||void 0===i?void 0:i.email};let o=["collectionId","username","verified"];for(let e in this.model)o.includes(e)&&(l.model[e]=this.model[e]);u=cookieSerialize(t,JSON.stringify(l),e)}return u}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let t=this._onChangeCallbacks.length-1;t>=0;t--)if(this._onChangeCallbacks[t]==e)return delete this._onChangeCallbacks[t],void this._onChangeCallbacks.splice(t,1)}}triggerChange(){for(let e of this._onChangeCallbacks)e&&e(this.token,this.model)}};let LocalAuthStore=class LocalAuthStore extends BaseAuthStore{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if("undefined"!=typeof window&&(null==window?void 0:window.localStorage)){let t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch(e){return t}}return this.storageFallback[e]}_storageSet(e,t){if("undefined"!=typeof window&&(null==window?void 0:window.localStorage)){let n=t;"string"!=typeof t&&(n=JSON.stringify(t)),window.localStorage.setItem(e,n)}else this.storageFallback[e]=t}_storageRemove(e){var t;"undefined"!=typeof window&&(null==window?void 0:window.localStorage)&&(null===(t=window.localStorage)||void 0===t||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){"undefined"!=typeof window&&(null==window?void 0:window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;let t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}};let BaseService=class BaseService{constructor(e){this.client=e}};let SettingsService=class SettingsService extends BaseService{getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}testEmail(e,t,n){return n=Object.assign({method:"POST",body:{email:e,template:t}},n),this.client.send("/api/settings/test/email",n).then(()=>!0)}generateAppleClientSecret(e,t,n,i,o,s){return s=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:n,privateKey:i,duration:o}},s),this.client.send("/api/settings/apple/generate-client-secret",s)}};let CrudService=class CrudService extends BaseService{decode(e){return e}getFullList(e,t){if("number"==typeof e)return this._getFullList(e,t);let n=500;return(t=Object.assign({},e,t)).batch&&(n=t.batch,delete t.batch),this._getFullList(n,t)}getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send(this.baseCrudPath,n).then(e=>{var t;return e.items=(null===(t=e.items)||void 0===t?void 0:t.map(e=>this.decode(e)))||[],e})}getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(e=>{var t;if(!(null===(t=null==e?void 0:e.items)||void 0===t?void 0:t.length))throw new ClientResponseError({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return e.items[0]})}getOne(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(e=>this.decode(e))}create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(e=>this.decode(e))}update(e,t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),n).then(e=>this.decode(e))}delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let n=[],request=i=>__awaiter(this,void 0,void 0,function*(){return this.getList(i,e||500,t).then(e=>{let t=e.items;return n=n.concat(t),t.length==e.perPage?request(i+1):n})});return request(1)}};function normalizeLegacyOptionsArgs(e,t,n,i){let o=void 0!==i;return o||void 0!==n?o?(console.warn(e),t.body=Object.assign({},t.body,n),t.query=Object.assign({},t.query,i),t):Object.assign(t,n):t}function resetAutoRefresh(e){var t;null===(t=e._resetAutoRefresh)||void 0===t||t.call(e)}let AdminService=class AdminService extends CrudService{get baseCrudPath(){return"/api/admins"}update(e,t,n){return super.update(e,t,n).then(e=>{var t,n;return(null===(t=this.client.authStore.model)||void 0===t?void 0:t.id)===e.id&&void 0===(null===(n=this.client.authStore.model)||void 0===n?void 0:n.collectionId)&&this.client.authStore.save(this.client.authStore.token,e),e})}delete(e,t){return super.delete(e,t).then(t=>{var n,i;return t&&(null===(n=this.client.authStore.model)||void 0===n?void 0:n.id)===e&&void 0===(null===(i=this.client.authStore.model)||void 0===i?void 0:i.collectionId)&&this.client.authStore.clear(),t})}authResponse(e){let t=this.decode((null==e?void 0:e.admin)||{});return(null==e?void 0:e.token)&&(null==e?void 0:e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(null==e?void 0:e.token)||"",admin:t})}authWithPassword(e,t,n,i){return __awaiter(this,void 0,void 0,function*(){let o={method:"POST",body:{identity:e,password:t}};o=normalizeLegacyOptionsArgs("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",o,n,i);let s=o.autoRefreshThreshold;delete o.autoRefreshThreshold,o.autoRefresh||resetAutoRefresh(this.client);let a=yield this.client.send(this.baseCrudPath+"/auth-with-password",o);return a=this.authResponse(a),s&&function(e,t,n,i){resetAutoRefresh(e);let o=e.beforeSend,s=e.authStore.model,a=e.authStore.onChange((t,n)=>{(!t||(null==n?void 0:n.id)!=(null==s?void 0:s.id)||((null==n?void 0:n.collectionId)||(null==s?void 0:s.collectionId))&&(null==n?void 0:n.collectionId)!=(null==s?void 0:s.collectionId))&&resetAutoRefresh(e)});e._resetAutoRefresh=function(){a(),e.beforeSend=o,delete e._resetAutoRefresh},e.beforeSend=(s,a)=>__awaiter(this,void 0,void 0,function*(){var l;let u=e.authStore.token;if(null===(l=a.query)||void 0===l?void 0:l.autoRefresh)return o?o(s,a):{url:s,sendOptions:a};let c=e.authStore.isValid;if(c&&isTokenExpired(e.authStore.token,t))try{yield n()}catch(e){c=!1}c||(yield i());let d=a.headers||{};for(let t in d)if("authorization"==t.toLowerCase()&&u==d[t]&&e.authStore.token){d[t]=e.authStore.token;break}return a.headers=d,o?o(s,a):{url:s,sendOptions:a}})}(this.client,s,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},o))),a})}authRefresh(e,t){let n={method:"POST"};return n=normalizeLegacyOptionsArgs("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",n).then(this.authResponse.bind(this))}requestPasswordReset(e,t,n){let i={method:"POST",body:{email:e}};return i=normalizeLegacyOptionsArgs("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,n),this.client.send(this.baseCrudPath+"/request-password-reset",i).then(()=>!0)}confirmPasswordReset(e,t,n,i,o){let s={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return s=normalizeLegacyOptionsArgs("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",s,i,o),this.client.send(this.baseCrudPath+"/confirm-password-reset",s).then(()=>!0)}};let RealtimeService=class RealtimeService extends BaseService{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentTopics=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}subscribe(e,t){var n;return __awaiter(this,void 0,void 0,function*(){if(!e)throw Error("topic must be set.");let listener=function(e){let n;try{n=JSON.parse(null==e?void 0:e.data)}catch(e){}t(n||{})};return this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(listener),this.isConnected?1===this.subscriptions[e].length?yield this.submitSubscriptions():null===(n=this.eventSource)||void 0===n||n.addEventListener(e,listener):yield this.connect(),()=>__awaiter(this,void 0,void 0,function*(){return this.unsubscribeByTopicAndListener(e,listener)})})}unsubscribe(e){var t;return __awaiter(this,void 0,void 0,function*(){if(this.hasSubscriptionListeners(e)){if(e){for(let n of this.subscriptions[e])null===(t=this.eventSource)||void 0===t||t.removeEventListener(e,n);delete this.subscriptions[e]}else this.subscriptions={};this.hasSubscriptionListeners()?this.hasSubscriptionListeners(e)||(yield this.submitSubscriptions()):this.disconnect()}})}unsubscribeByPrefix(e){var t;return __awaiter(this,void 0,void 0,function*(){let n=!1;for(let i in this.subscriptions)if(i.startsWith(e)){for(let e of(n=!0,this.subscriptions[i]))null===(t=this.eventSource)||void 0===t||t.removeEventListener(i,e);delete this.subscriptions[i]}n&&(this.hasSubscriptionListeners()?yield this.submitSubscriptions():this.disconnect())})}unsubscribeByTopicAndListener(e,t){var n;return __awaiter(this,void 0,void 0,function*(){if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return;let i=!1;for(let o=this.subscriptions[e].length-1;o>=0;o--)this.subscriptions[e][o]===t&&(i=!0,delete this.subscriptions[e][o],this.subscriptions[e].splice(o,1),null===(n=this.eventSource)||void 0===n||n.removeEventListener(e,t));i&&(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?this.hasSubscriptionListeners(e)||(yield this.submitSubscriptions()):this.disconnect())})}hasSubscriptionListeners(e){var t,n;if(this.subscriptions=this.subscriptions||{},e)return!!(null===(t=this.subscriptions[e])||void 0===t?void 0:t.length);for(let e in this.subscriptions)if(null===(n=this.subscriptions[e])||void 0===n?void 0:n.length)return!0;return!1}submitSubscriptions(){return __awaiter(this,void 0,void 0,function*(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},query:{requestKey:this.getSubscriptionsCancelKey()}}).catch(e=>{if(!(null==e?void 0:e.isAbort))throw e})})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getNonEmptySubscriptionTopics(){let e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource)for(let e in this.removeAllSubscriptionListeners(),this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}connect(){return __awaiter(this,void 0,void 0,function*(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{this.clientId=null==e?void 0:e.lastEventId,this.submitSubscriptions().then(()=>__awaiter(this,void 0,void 0,function*(){let e=3;for(;this.hasUnsentSubscriptions()&&e>0;)e--,yield this.submitSubscriptions()})).then(()=>{for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId)}).catch(e=>{this.clientId="",this.connectErrorHandler(e)})})}hasUnsentSubscriptions(){let e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(let t of e)if(!this.lastSentTopics.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let t of this.pendingConnects)t.reject(new ClientResponseError(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);let t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),null===(t=this.eventSource)||void 0===t||t.close(),this.eventSource=null,this.clientId="",!e){for(let e of(this.reconnectAttempts=0,this.pendingConnects))e.resolve();this.pendingConnects=[]}}};let RecordService=class RecordService extends CrudService{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}subscribeOne(e,t){return __awaiter(this,void 0,void 0,function*(){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t)})}subscribe(e,t){return __awaiter(this,void 0,void 0,function*(){if("function"==typeof e)return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),this.client.realtime.subscribe(this.collectionIdOrName,e);if(!t)throw Error("Missing subscription callback.");if(""===e)throw Error("Missing topic.");let n=this.collectionIdOrName;return"*"!==e&&(n+="/"+e),this.client.realtime.subscribe(n,t)})}unsubscribe(e){return __awaiter(this,void 0,void 0,function*(){return"*"===e?this.client.realtime.unsubscribe(this.collectionIdOrName):e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)})}getFullList(e,t){if("number"==typeof e)return super.getFullList(e,t);let n=Object.assign({},e,t);return super.getFullList(n)}getList(e=1,t=30,n){return super.getList(e,t,n)}getFirstListItem(e,t){return super.getFirstListItem(e,t)}getOne(e,t){return super.getOne(e,t)}create(e,t){return super.create(e,t)}update(e,t,n){return super.update(e,t,n).then(e=>{var t,n,i;return(null===(t=this.client.authStore.model)||void 0===t?void 0:t.id)!==(null==e?void 0:e.id)||(null===(n=this.client.authStore.model)||void 0===n?void 0:n.collectionId)!==this.collectionIdOrName&&(null===(i=this.client.authStore.model)||void 0===i?void 0:i.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,e),e})}delete(e,t){return super.delete(e,t).then(t=>{var n,i,o;return t&&(null===(n=this.client.authStore.model)||void 0===n?void 0:n.id)===e&&((null===(i=this.client.authStore.model)||void 0===i?void 0:i.collectionId)===this.collectionIdOrName||(null===(o=this.client.authStore.model)||void 0===o?void 0:o.collectionName)===this.collectionIdOrName)&&this.client.authStore.clear(),t})}authResponse(e){let t=this.decode((null==e?void 0:e.record)||{});return this.client.authStore.save(null==e?void 0:e.token,t),Object.assign({},e,{token:(null==e?void 0:e.token)||"",record:t})}listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(e=>Object.assign({},e,{usernamePassword:!!(null==e?void 0:e.usernamePassword),emailPassword:!!(null==e?void 0:e.emailPassword),authProviders:Array.isArray(null==e?void 0:e.authProviders)?null==e?void 0:e.authProviders:[]}))}authWithPassword(e,t,n,i){let o={method:"POST",body:{identity:e,password:t}};return o=normalizeLegacyOptionsArgs("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",o,n,i),this.client.send(this.baseCollectionPath+"/auth-with-password",o).then(e=>this.authResponse(e))}authWithOAuth2Code(e,t,n,i,o,s,a){let l={method:"POST",body:{provider:e,code:t,codeVerifier:n,redirectUrl:i,createData:o}};return l=normalizeLegacyOptionsArgs("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",l,s,a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then(e=>this.authResponse(e))}authWithOAuth2(...e){return __awaiter(this,void 0,void 0,function*(){if(e.length>1||"string"==typeof(null==e?void 0:e[0]))return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((null==e?void 0:e[0])||"",(null==e?void 0:e[1])||"",(null==e?void 0:e[2])||"",(null==e?void 0:e[3])||"",(null==e?void 0:e[4])||{},(null==e?void 0:e[5])||{},(null==e?void 0:e[6])||{});let t=(null==e?void 0:e[0])||{},n=(yield this.listAuthMethods()).authProviders.find(e=>e.name===t.provider);if(!n)throw new ClientResponseError(Error(`Missing or invalid provider "${t.provider}".`));let i=this.client.buildUrl("/api/oauth2-redirect"),o=new RealtimeService(this.client),s=null;function cleanup(){null==s||s.close(),o.unsubscribe()}return t.urlCallback||(s=openBrowserPopup(void 0)),new Promise((e,a)=>__awaiter(this,void 0,void 0,function*(){var l;try{yield o.subscribe("@oauth2",s=>__awaiter(this,void 0,void 0,function*(){let l=o.clientId;try{if(!s.state||l!==s.state)throw Error("State parameters don't match.");let o=Object.assign({},t);delete o.provider,delete o.scopes,delete o.createData,delete o.urlCallback;let a=yield this.authWithOAuth2Code(n.name,s.code,n.codeVerifier,i,t.createData,o);e(a)}catch(e){a(new ClientResponseError(e))}cleanup()}));let u={state:o.clientId};(null===(l=t.scopes)||void 0===l?void 0:l.length)&&(u.scope=t.scopes.join(" "));let c=this._replaceQueryParams(n.authUrl+i,u),d=t.urlCallback||function(e){s?s.location.href=e:s=openBrowserPopup(e)};yield d(c)}catch(e){cleanup(),a(new ClientResponseError(e))}}))})}authRefresh(e,t){let n={method:"POST"};return n=normalizeLegacyOptionsArgs("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then(e=>this.authResponse(e))}requestPasswordReset(e,t,n){let i={method:"POST",body:{email:e}};return i=normalizeLegacyOptionsArgs("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then(()=>!0)}confirmPasswordReset(e,t,n,i,o){let s={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return s=normalizeLegacyOptionsArgs("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",s,i,o),this.client.send(this.baseCollectionPath+"/confirm-password-reset",s).then(()=>!0)}requestVerification(e,t,n){let i={method:"POST",body:{email:e}};return i=normalizeLegacyOptionsArgs("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-verification",i).then(()=>!0)}confirmVerification(e,t,n){let i={method:"POST",body:{token:e}};return i=normalizeLegacyOptionsArgs("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then(()=>!0)}requestEmailChange(e,t,n){let i={method:"POST",body:{newEmail:e}};return i=normalizeLegacyOptionsArgs("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,t,n),this.client.send(this.baseCollectionPath+"/request-email-change",i).then(()=>!0)}confirmEmailChange(e,t,n,i){let o={method:"POST",body:{token:e,password:t}};return o=normalizeLegacyOptionsArgs("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",o,n,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",o).then(()=>!0)}listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}unlinkExternalAuth(e,t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),n).then(()=>!0)}_replaceQueryParams(e,t={}){let n=e,i="";e.indexOf("?")>=0&&(n=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?")+1));let o={},s=i.split("&");for(let e of s){if(""==e)continue;let t=e.split("=");o[decodeURIComponent(t[0].replace(/\+/g," "))]=decodeURIComponent((t[1]||"").replace(/\+/g," "))}for(let e in t)t.hasOwnProperty(e)&&(null==t[e]?delete o[e]:o[e]=t[e]);for(let e in i="",o)o.hasOwnProperty(e)&&(""!=i&&(i+="&"),i+=encodeURIComponent(e.replace(/%20/g,"+"))+"="+encodeURIComponent(o[e].replace(/%20/g,"+")));return""!=i?n+"?"+i:n}};function openBrowserPopup(e){if("undefined"==typeof window||!(null==window?void 0:window.open))throw new ClientResponseError(Error("Not in a browser context - please pass a custom urlCallback function."));let t=1024,n=768,i=window.innerWidth,o=window.innerHeight;t=t>i?i:t,n=n>o?o:n;let s=i/2-t/2,a=o/2-n/2;return window.open(e,"popup_window","width="+t+",height="+n+",top="+a+",left="+s+",resizable,menubar=no")}let CollectionService=class CollectionService extends CrudService{get baseCrudPath(){return"/api/collections"}import(e,t=!1,n){return __awaiter(this,void 0,void 0,function*(){return n=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},n),this.client.send(this.baseCrudPath+"/import",n).then(()=>!0)})}};let LogService=class LogService extends BaseService{getRequestsList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send("/api/logs/requests",n)}getRequest(e,t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/requests/"+encodeURIComponent(e),t)}getRequestsStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/requests/stats",e)}};let HealthService=class HealthService extends BaseService{check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}};let FileService=class FileService extends BaseService{getUrl(e,t,n={}){if(!t||!(null==e?void 0:e.id)||!(null==e?void 0:e.collectionId)&&!(null==e?void 0:e.collectionName))return"";let i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let o=this.client.buildUrl(i.join("/"));if(Object.keys(n).length){!1===n.download&&delete n.download;let e=new URLSearchParams(n);o+=(o.includes("?")?"&":"?")+e}return o}getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(e=>(null==e?void 0:e.token)||"")}};let BackupService=class BackupService extends BaseService{getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}};let a=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];let Client=class Client{constructor(e="/",t,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new LocalAuthStore,this.admins=new AdminService(this),this.collections=new CollectionService(this),this.files=new FileService(this),this.logs=new LogService(this),this.settings=new SettingsService(this),this.realtime=new RealtimeService(this),this.health=new HealthService(this),this.backups=new BackupService(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new RecordService(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}getFileUrl(e,t,n={}){return this.files.getUrl(e,t,n)}buildUrl(e){var t;let n=this.baseUrl;return"undefined"==typeof window||!window.location||n.startsWith("https://")||n.startsWith("http://")||(n=(null===(t=window.location.origin)||void 0===t?void 0:t.endsWith("/"))?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(n+=window.location.pathname||"/",n+=n.endsWith("/")?"":"/"),n+=this.baseUrl),e&&(n+=(n.endsWith("/")?"":"/")+(e.startsWith("/")?e.substring(1):e)),n}send(e,t){return __awaiter(this,void 0,void 0,function*(){t=this.initSendOptions(e,t);let n=this.buildUrl(e);if(this.beforeSend){let e=Object.assign({},(yield this.beforeSend(n,t)));void 0!==e.url||void 0!==e.options?(n=e.url||n,t=e.options||t):Object.keys(e).length&&(t=e,(null==console?void 0:console.warn)&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(void 0!==t.query){let e=this.serializeQueryParams(t.query);e&&(n+=(n.includes("?")?"&":"?")+e),delete t.query}return"application/json"==this.getHeader(t.headers,"Content-Type")&&t.body&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(n,t).then(e=>__awaiter(this,void 0,void 0,function*(){let t={};try{t=yield e.json()}catch(e){}if(this.afterSend&&(t=yield this.afterSend(e,t)),e.status>=400)throw new ClientResponseError({url:e.url,status:e.status,data:t});return t})).catch(e=>{throw new ClientResponseError(e)})})}initSendOptions(e,t){for(let e in(t=Object.assign({method:"GET"},t)).query=t.query||{},t.body=this.convertToFormDataIfNeeded(t.body),t)a.includes(e)||(t.query[e]=t[e],delete t[e]);if(t.query=Object.assign({},t.params,t.query),void 0===t.requestKey&&(!1===t.$autoCancel||!1===t.query.$autoCancel?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,null!==this.getHeader(t.headers,"Content-Type")||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),null===this.getHeader(t.headers,"Accept-Language")&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&null===this.getHeader(t.headers,"Authorization")&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&null!==t.requestKey){let n=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(n);let i=new AbortController;this.cancelControllers[n]=i,t.signal=i.signal}return t}convertToFormDataIfNeeded(e){if("undefined"==typeof FormData||void 0===e||"object"!=typeof e||null===e||this.isFormData(e)||!this.hasBlobField(e))return e;let t=new FormData;for(let n in e){let i=Array.isArray(e[n])?e[n]:[e[n]];for(let e of i)t.append(n,e)}return t}hasBlobField(e){for(let t in e){let n=Array.isArray(e[t])?e[t]:[e[t]];for(let e of n)if("undefined"!=typeof Blob&&e instanceof Blob||"undefined"!=typeof File&&e instanceof File)return!0}return!1}getHeader(e,t){for(let n in e=e||{},t=t.toLowerCase(),e)if(n.toLowerCase()==t)return e[n];return null}isFormData(e){return e&&("FormData"===e.constructor.name||"undefined"!=typeof FormData&&e instanceof FormData)}serializeQueryParams(e){let t=[];for(let n in e){if(null===e[n])continue;let i=e[n],o=encodeURIComponent(n);if(Array.isArray(i))for(let e of i)t.push(o+"="+encodeURIComponent(e));else i instanceof Date?t.push(o+"="+encodeURIComponent(i.toISOString())):"object"==typeof i?t.push(o+"="+encodeURIComponent(JSON.stringify(i))):t.push(o+"="+encodeURIComponent(i))}return t.join("&")}}},9279:(e,t,n)=>{"use strict";n.d(t,{$l:()=>s,BN:()=>internalMutate,DY:()=>u,J$:()=>SWRConfig,JN:()=>createCacheHelper,LI:()=>S,PM:()=>mergeObjects,W6:()=>w,i_:()=>o,kY:()=>useSWRConfig,ko:()=>subscribeCallback,kw:()=>rAF,mf:()=>isFunction,o8:()=>isUndefined,qC:()=>serialize,s6:()=>withArgs,sj:()=>E,u3:()=>getTimestamp,u_:()=>_,w6:()=>y,xD:()=>withMiddleware});var i=n(9885);let noop=()=>{},o=noop(),s=Object,isUndefined=e=>e===o,isFunction=e=>"function"==typeof e,mergeObjects=(e,t)=>({...e,...t}),isPromiseLike=e=>isFunction(e.then),a=new WeakMap,l=0,stableHash=e=>{let t,n;let i=typeof e,o=e&&e.constructor,u=o==Date;if(s(e)!==e||u||o==RegExp)t=u?e.toJSON():"symbol"==i?e.toString():"string"==i?JSON.stringify(e):""+e;else{if(t=a.get(e))return t;if(t=++l+"~",a.set(e,t),o==Array){for(n=0,t="@";n<e.length;n++)t+=stableHash(e[n])+",";a.set(e,t)}if(o==s){t="#";let i=s.keys(e).sort();for(;!isUndefined(n=i.pop());)isUndefined(e[n])||(t+=n+":"+stableHash(e[n])+",");a.set(e,t)}}return t},u=new WeakMap,c={},d={},h="undefined",f=typeof window!=h,p=typeof document!=h,hasRequestAnimationFrame=()=>f&&typeof window.requestAnimationFrame!=h,createCacheHelper=(e,t)=>{let n=u.get(e);return[()=>!isUndefined(t)&&e.get(t)||c,i=>{if(!isUndefined(t)){let o=e.get(t);t in d||(d[t]=o),n[5](t,mergeObjects(o,i),o||c)}},n[6],()=>!isUndefined(t)&&t in d?d[t]:!isUndefined(t)&&e.get(t)||c]},g=!0,[m,b]=f&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[noop,noop],v={initFocus:e=>(p&&document.addEventListener("visibilitychange",e),m("focus",e),()=>{p&&document.removeEventListener("visibilitychange",e),b("focus",e)}),initReconnect:e=>{let onOnline=()=>{g=!0,e()},onOffline=()=>{g=!1};return m("online",onOnline),m("offline",onOffline),()=>{b("online",onOnline),b("offline",onOffline)}}},y=!i.useId,w=!f||"Deno"in window,rAF=e=>hasRequestAnimationFrame()?window.requestAnimationFrame(e):setTimeout(e,1),S=w?i.useEffect:i.useLayoutEffect,C="undefined"!=typeof navigator&&navigator.connection,O=!w&&C&&(["slow-2g","2g"].includes(C.effectiveType)||C.saveData),serialize=e=>{if(isFunction(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?stableHash(e):"",t]},R=0,getTimestamp=()=>++R;var E={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function internalMutate(...e){let[t,n,i,s]=e,a=mergeObjects({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{}),l=a.populateCache,c=a.rollbackOnError,d=a.optimisticData,h=!1!==a.revalidate,rollbackOnError=e=>"function"==typeof c?c(e):!1!==c,f=a.throwOnError;if(isFunction(n)){let e=[],i=t.keys();for(let o of i)!/^\$(inf|sub)\$/.test(o)&&n(t.get(o)._k)&&e.push(o);return Promise.all(e.map(mutateByKey))}return mutateByKey(n);async function mutateByKey(n){let s;let[a]=serialize(n);if(!a)return;let[c,p]=createCacheHelper(t,a),[g,m,b,v]=u.get(t),startRevalidate=()=>{let e=g[a];return h&&(delete b[a],delete v[a],e&&e[0])?e[0](2).then(()=>c().data):c().data};if(e.length<3)return startRevalidate();let y=i,w=getTimestamp();m[a]=[w,0];let S=!isUndefined(d),C=c(),O=C.data,R=C._c,E=isUndefined(R)?O:R;if(S&&p({data:d=isFunction(d)?d(E,O):d,_c:E}),isFunction(y))try{y=y(E)}catch(e){s=e}if(y&&isPromiseLike(y)){if(y=await y.catch(e=>{s=e}),w!==m[a][0]){if(s)throw s;return y}s&&S&&rollbackOnError(s)&&(l=!0,p({data:E,_c:o}))}if(l&&!s){if(isFunction(l)){let e=l(y,E);p({data:e,error:o,_c:o})}else p({data:y,error:o,_c:o})}if(m[a][1]=getTimestamp(),Promise.resolve(startRevalidate()).then(()=>{p({_c:o})}),s){if(f)throw s;return}return y}}let revalidateAllKeys=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},initCache=(e,t)=>{if(!u.has(e)){let n=mergeObjects(v,t),i={},s=internalMutate.bind(o,e),a=noop,l={},subscribe=(e,t)=>{let n=l[e]||[];return l[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},setter=(t,n,i)=>{e.set(t,n);let o=l[t];if(o)for(let e of o)e(n,i)},initProvider=()=>{if(!u.has(e)&&(u.set(e,[i,{},{},{},s,setter,subscribe]),!w)){let t=n.initFocus(setTimeout.bind(o,revalidateAllKeys.bind(o,i,0))),s=n.initReconnect(setTimeout.bind(o,revalidateAllKeys.bind(o,i,1)));a=()=>{t&&t(),s&&s(),u.delete(e)}}};return initProvider(),[e,s,initProvider,a]}return[e,u.get(e)[4]]},[P,T]=initCache(new Map),_=mergeObjects({onLoadingSlow:noop,onSuccess:noop,onError:noop,onErrorRetry:(e,t,n,i,o)=>{let s=n.errorRetryCount,a=o.retryCount,l=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;(isUndefined(s)||!(a>s))&&setTimeout(i,l,o)},onDiscarded:noop,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:O?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:O?5e3:3e3,compare:(e,t)=>stableHash(e)==stableHash(t),isPaused:()=>!1,cache:P,mutate:T,fallback:{}},{isOnline:()=>g,isVisible:()=>{let e=p&&document.visibilityState;return isUndefined(e)||"hidden"!==e}}),mergeConfigs=(e,t)=>{let n=mergeObjects(e,t);if(t){let{use:i,fallback:o}=e,{use:s,fallback:a}=t;i&&s&&(n.use=i.concat(s)),o&&a&&(n.fallback=mergeObjects(o,a))}return n},k=(0,i.createContext)({}),SWRConfig=e=>{let{value:t}=e,n=(0,i.useContext)(k),s=isFunction(t),a=(0,i.useMemo)(()=>s?t(n):t,[s,n,t]),l=(0,i.useMemo)(()=>s?a:mergeConfigs(n,a),[s,n,a]),u=a&&a.provider,c=(0,i.useRef)(o);u&&!c.current&&(c.current=initCache(u(l.cache||P),a));let d=c.current;return d&&(l.cache=d[0],l.mutate=d[1]),S(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,i.createElement)(k.Provider,mergeObjects(e,{value:l}))},A=f&&window.__SWR_DEVTOOLS_USE__,I=A?window.__SWR_DEVTOOLS_USE__:[],normalize=e=>isFunction(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],useSWRConfig=()=>mergeObjects(_,(0,i.useContext)(k)),j=I.concat(e=>(t,n,i)=>{let o=n&&((...e)=>{let[i]=serialize(t),[,,,o]=u.get(P);if(i.startsWith("$inf$"))return n(...e);let s=o[i];return isUndefined(s)?n(...e):(delete o[i],s)});return e(t,o,i)}),withArgs=e=>function(...t){let n=useSWRConfig(),[i,o,s]=normalize(t),a=mergeConfigs(n,s),l=e,{use:u}=a,c=(u||[]).concat(j);for(let e=c.length;e--;)l=c[e](l);return l(i,o||a.fetcher||null,a)},subscribeCallback=(e,t,n)=>{let i=t[e]||(t[e]=[]);return i.push(n),()=>{let e=i.indexOf(n);e>=0&&(i[e]=i[i.length-1],i.pop())}},withMiddleware=(e,t)=>(...n)=>{let[i,o,s]=normalize(n),a=(s.use||[]).concat(t);return e(i,o,{...s,use:a})};A&&(window.__SWR_DEVTOOLS_REACT__=i)},5465:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u,kY:()=>s.kY});var i=n(9885),o=n(1928),s=n(9279);let a=i.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),l={dedupe:!0};s.$l.defineProperty(s.J$,"defaultValue",{value:s.u_});let u=(0,s.s6)((e,t,n)=>{let{cache:u,compare:c,suspense:d,fallbackData:h,revalidateOnMount:f,revalidateIfStale:p,refreshInterval:g,refreshWhenHidden:m,refreshWhenOffline:b,keepPreviousData:v}=n,[y,w,S,C]=s.DY.get(u),[O,R]=(0,s.qC)(e),E=(0,i.useRef)(!1),P=(0,i.useRef)(!1),T=(0,i.useRef)(O),_=(0,i.useRef)(t),k=(0,i.useRef)(n),getConfig=()=>k.current,isActive=()=>getConfig().isVisible()&&getConfig().isOnline(),[A,I,j,x]=(0,s.JN)(u,O),L=(0,i.useRef)({}).current,N=(0,s.o8)(h)?n.fallback[O]:h,isEqual=(e,t)=>{for(let n in L)if("data"===n){if(!c(e[n],t[n])&&(!(0,s.o8)(e[n])||!c(K,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},U=(0,i.useMemo)(()=>{let e=!!O&&!!t&&((0,s.o8)(f)?!getConfig().isPaused()&&!d&&(!!(0,s.o8)(p)||p):f),getSelectedCache=t=>{let n=(0,s.PM)(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},n=A(),i=x(),o=getSelectedCache(n),a=n===i?o:getSelectedCache(i),l=o;return[()=>{let e=getSelectedCache(A()),t=isEqual(e,l);return t?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>a]},[u,O]),q=(0,o.useSyncExternalStore)((0,i.useCallback)(e=>j(O,(t,n)=>{isEqual(n,t)||e()}),[u,O]),U[0],U[1]),M=!E.current,F=y[O]&&y[O].length>0,D=q.data,W=(0,s.o8)(D)?N:D,$=q.error,z=(0,i.useRef)(W),K=v?(0,s.o8)(D)?z.current:D:W,V=(!F||!!(0,s.o8)($))&&(M&&!(0,s.o8)(f)?f:!getConfig().isPaused()&&(d?!(0,s.o8)(W)&&p:(0,s.o8)(W)||p)),B=!!(O&&t&&M&&V),H=(0,s.o8)(q.isValidating)?B:q.isValidating,G=(0,s.o8)(q.isLoading)?B:q.isLoading,J=(0,i.useCallback)(async e=>{let t,i;let o=_.current;if(!O||!o||P.current||getConfig().isPaused())return!1;let a=!0,l=e||{},u=!S[O]||!l.dedupe,callbackSafeguard=()=>s.w6?!P.current&&O===T.current&&E.current:O===T.current,d={isValidating:!1,isLoading:!1},finishRequestAndUpdateState=()=>{I(d)},cleanupState=()=>{let e=S[O];e&&e[1]===i&&delete S[O]},h={isValidating:!0};(0,s.o8)(A().data)&&(h.isLoading=!0);try{if(u&&(I(h),n.loadingTimeout&&(0,s.o8)(A().data)&&setTimeout(()=>{a&&callbackSafeguard()&&getConfig().onLoadingSlow(O,n)},n.loadingTimeout),S[O]=[o(R),(0,s.u3)()]),[t,i]=S[O],t=await t,u&&setTimeout(cleanupState,n.dedupingInterval),!S[O]||S[O][1]!==i)return u&&callbackSafeguard()&&getConfig().onDiscarded(O),!1;d.error=s.i_;let e=w[O];if(!(0,s.o8)(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return finishRequestAndUpdateState(),u&&callbackSafeguard()&&getConfig().onDiscarded(O),!1;let l=A().data;d.data=c(l,t)?l:t,u&&callbackSafeguard()&&getConfig().onSuccess(t,O,n)}catch(n){cleanupState();let e=getConfig(),{shouldRetryOnError:t}=e;!e.isPaused()&&(d.error=n,u&&callbackSafeguard()&&(e.onError(n,O,e),(!0===t||(0,s.mf)(t)&&t(n))&&isActive()&&e.onErrorRetry(n,O,e,e=>{let t=y[O];t&&t[0]&&t[0](s.sj.ERROR_REVALIDATE_EVENT,e)},{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return a=!1,finishRequestAndUpdateState(),!0},[O,u]),Q=(0,i.useCallback)((...e)=>(0,s.BN)(u,T.current,...e),[]);if((0,s.LI)(()=>{_.current=t,k.current=n,(0,s.o8)(D)||(z.current=D)}),(0,s.LI)(()=>{if(!O)return;let e=J.bind(s.i_,l),t=0,n=(0,s.ko)(O,y,(n,i={})=>{if(n==s.sj.FOCUS_EVENT){let n=Date.now();getConfig().revalidateOnFocus&&n>t&&isActive()&&(t=n+getConfig().focusThrottleInterval,e())}else if(n==s.sj.RECONNECT_EVENT)getConfig().revalidateOnReconnect&&isActive()&&e();else if(n==s.sj.MUTATE_EVENT)return J();else if(n==s.sj.ERROR_REVALIDATE_EVENT)return J(i)});return P.current=!1,T.current=O,E.current=!0,I({_k:R}),V&&((0,s.o8)(W)||s.W6?e():(0,s.kw)(e)),()=>{P.current=!0,n()}},[O]),(0,s.LI)(()=>{let e;function next(){let t=(0,s.mf)(g)?g(A().data):g;t&&-1!==e&&(e=setTimeout(execute,t))}function execute(){!A().error&&(m||getConfig().isVisible())&&(b||getConfig().isOnline())?J(l).then(next):next()}return next(),()=>{e&&(clearTimeout(e),e=-1)}},[g,m,b,O]),(0,i.useDebugValue)(K),d&&(0,s.o8)(W)&&O){if(!s.w6&&s.W6)throw Error("Fallback data is required when using suspense in SSR.");_.current=t,k.current=n,P.current=!1;let e=C[O];if(!(0,s.o8)(e)){let t=Q(e);a(t)}if((0,s.o8)($)){let e=J(l);(0,s.o8)(K)||(e.status="fulfilled",e.value=!0),a(e)}else throw $}return{mutate:Q,get data(){return L.data=!0,K},get error(){return L.error=!0,$},get isValidating(){return L.isValidating=!0,H},get isLoading(){return L.isLoading=!0,G}}})}};